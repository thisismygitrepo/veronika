{"version":3,"sources":["reportWebVitals.js","styles/globalCSS.js","utilities/decodeHTML.js","utilities/getCumulativeDuration.js","utilities/getCurrentDateTime.js","utilities/calculateTimeOnPage.js","utilities/millisecondsToTime.js","globalState/createConfigSettingsSlice.js","globalState/createLanguageSettingsSlice.js","globalState/createMapSettingsSlice.js","globalState/createStatementsSettingsSlice.js","globalState/useSettingsStore.js","globalState/createLocalPanelSlice.js","globalState/createPresortSlice.js","globalState/createLandingSlice.js","globalState/createFooterSlice.js","globalState/createSortSlice.js","globalState/createPostsortSlice.js","globalState/createSubmitSlice.js","globalState/createSurveySlice.js","globalState/useStore.js","pages/landing/LandingModal.jsx","pages/landing/LogInSubmitButton.jsx","pages/landing/LogInScreen.jsx","pages/landing/PartIdScreen.jsx","pages/landing/AccessCodeScreen.jsx","pages/landing/checkForIeBrowser.js","pages/landing/InternetExplorerWarning.jsx","pages/landing/parseParams.js","pages/landing/LocalStartButton.jsx","pages/landing/LocalDeleteButton.jsx","pages/landing/LocalSortsDownloadButton.jsx","globalState/useLocalPersist.js","pages/landing/LocalConfirmDeleteButton.jsx","pages/landing/LocalDeleteModal.jsx","pages/landing/LocalSaveBeforeDeleteModal.jsx","pages/landing/LocalStart.jsx","pages/landing/Landing.jsx","utilities/sanitizeString.js","utilities/useLocalStorage.js","pages/postsort/LowCards.jsx","pages/postsort/LowCards2.jsx","pages/postsort/HighCards.jsx","pages/postsort/HighCards2.jsx","pages/postsort/PostsortHelpModal.jsx","utilities/PromptUnload.jsx","pages/postsort/PostsortPreventNavModal.jsx","pages/postsort/Postsort.jsx","pages/presort/PresortModal.jsx","pages/presort/PresortDND.jsx","pages/presort/PresortPreventNavModal.jsx","pages/presort/PresortFinishedModal.jsx","pages/presort/PresortIsComplete.jsx","pages/presort/PleaseLogInFirst.jsx","pages/presort/PresortDndImages.jsx","pages/presort/Presort.jsx","pages/sort/checkForColumnOverload.js","pages/sort/move.js","pages/sort/reorder.js","pages/sort/getItemStyle.js","pages/sort/getListStyle.js","pages/sort/SortColumn.jsx","pages/sort/getListStyleHori.js","pages/sort/getItemStyleHori.js","pages/sort/calculateDragResults.js","pages/sort/SortGrid.jsx","pages/sort/getItemStyleImages.js","pages/sort/getListStyleImages.js","pages/sort/SortColumnImages.jsx","pages/sort/getItemStyleHoriImages.js","pages/sort/calculateDragResultsImages.js","pages/sort/SortGridImages.jsx","pages/sort/SortHelpModal.jsx","utilities/SortingFinishedModal.jsx","pages/sort/PreventSortNavModal.jsx","pages/sort/OverloadedColumnModal.jsx","pages/sort/SortColGuides.jsx","pages/sort/Sort.jsx","pages/submit/SubmitSuccessModal.jsx","pages/submit/SubmitFailureModal.jsx","pages/submit/SubmitButton.jsx","pages/submit/calculatePostsortResults.js","pages/submit/FallbackButtons.jsx","pages/submit/SubmitFallback.jsx","pages/submit/SaveLocalDataToLocalStorageButton.jsx","pages/submit/ReturnToLocalPanelButton.jsx","pages/submit/LocalSubmitSuccessModal.jsx","pages/submit/SubmitButtonGS.jsx","pages/submit/CopyToClipboardButton.jsx","pages/submit/SubmitButtonEmail.jsx","pages/sort/convertObjectToResults.js","pages/submit/SubmitButtonNetlify.jsx","pages/submit/createPresortObject.js","pages/submit/Submit.jsx","pages/survey/SurveyTextElement.jsx","pages/survey/SurveyTextAreaElement.jsx","pages/survey/SurveyRadioElement.jsx","pages/survey/SurveyDropdownElement.jsx","pages/survey/SurveyCheckboxElement.jsx","pages/survey/SurveyRating2Element.jsx","pages/survey/SurveyRating5Element.jsx","pages/survey/SurveyRating10Element.jsx","pages/survey/SurveyLikertElement.jsx","pages/survey/SurveyInformationElement.jsx","pages/survey/AnswerAllSurveyQuestionsModal.jsx","pages/survey/SurveyHelpModal.jsx","pages/survey/Survey.jsx","utilities/NoPageFound.jsx","utilities/processConfigXMLData.js","utilities/processMapXMLData.js","utilities/processLanguageXMLData.js","utilities/processStatementsXMLData.js","utilities/detectMobileBrowser.js","pages/landing/LoadingScreen.jsx","pages/footer/NextButton.jsx","pages/footer/FooterFontSizer.jsx","pages/footer/CardHeightSizer.jsx","pages/footer/calcProgressScore.js","pages/footer/HelpButton.jsx","pages/footer/getNextPage.js","pages/footer/PostsortBackButton.jsx","pages/footer/StyledFooter.jsx","pages/consent/ConsentModal.jsx","pages/consent/Consent.jsx","pages/footer/MobileNextButton.jsx","App.js","pages/footer/MobileFooter.jsx","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","createGlobalStyle","decodeHTML","string","includes","replace","error","console","log","getCumulativeDuration","startTime","cumulativeDuration2","cumulativeDuration","Date","now","getCurrentDateTime","currentDate","date","getDate","month","getMonth","year","getFullYear","hour","getHours","minute","getMinutes","seconds","getSeconds","calculateTimeOnPage","prefix","prefix2","identifier","identifier3","identifier4","durationCumulative","localStorage","getItem","undefined","newDurationCumulative","setItem","dateString","formattedDuration","s","pad","n","slice","millisecondsToTime","createConfigSettingsSlice","set","get","configObj","surveyQuestionObjArray","requiredAnswersObj","setConfigObj","configObjInput","setSurveyQuestionObjArray","setRequiredAnswersObj","createLanguageSettingsSlice","langObj","setLangObj","langObjInput","createMapSettingsSlice","mapObj","setMapObj","mapObjInput","createStatementsSettingsSlice","statementsObj","columnStatements","resetColumnStatements","setStatementsObj","statementsObjInput","setColumnStatements","columnStatementsInput","setResetColumnStatements","inputValue","useSettingsStore","create","createLocalPanelSlice","displayLocalPartIdWarning1","displayLocalPartIdWarning2","triggerLocalDeleteModal","localParticipantName","setLocalParticipantName","setLocalPartIdWarning1","bool","setLocalPartIdWarning2","setLocalDeleteModal","createPresortSlice","triggerPresortModal","presortNoReturn","presortPosCards","presortNeuCards","presortNegCards","presortCards","presortSortedStatementsNumInitial","presortFinished","triggerPresortFinishedModal","triggerPresortPreventNavModal","results","mobilePresortResults","triggerMobilePresortFinishedModal","setTriggerMobilePresortFinishedModal","setMobilePresortResults","setPresortNoReturn","setPresortPosCards","setPresortNeuCards","setPresortNegCards","setPresortCards","setPresortSortedStatementsNumInitial","setPresortFinished","setTriggerPresortFinishedModal","setTriggerPresortPreventNavModal","setResults","setTriggerPresortModal","createLandingSlice","dataLoaded","isLoggedIn","triggerLandingModal","triggerConsentModal","usercode","urlUsercode","partId","localUsercode","displayAccessCodeWarning","userInputAccessCode","displayLandingContent","triggerSaveBeforeDeleteModal","userInputPartId","displayPartIdWarning","setTriggerConsentModal","setUrlUsercode","setDisplayPartIdWarning","setUserInputPartId","setTriggerSaveBeforeDeleteModal","setDataLoaded","setIsLoggedIn","setTriggerLandingModal","setUsercode","setPartId","setLocalUsercode","input","setDisplayAccessCodeWarning","setUserInputAccessCode","setDisplayLandingContent","createFooterSlice","cardFontSizePresort","cardFontSizeSort","cardFontSizePostsort","currentPage","progressScore","progressScoreAdditional","progressScoreAdditionalSort","displayNextButton","minCardHeightSort","minCardHeightPostsort","setMinCardHeightPostsort","setMinCardHeightSort","setCardFontSizePostsort","setCardFontSizeSort","setCardFontSizePresort","setCurrentPage","setProgressScore","setProgressScoreAdditional","setProgressScoreAdditionalSort","setDisplayNextButton","createSortSlice","cardHeightSort","cardHeightPostsort","columnWidth","draggingOverColumnId","hasOverloadedColumn","isSortingCards","isSortingFinished","overloadedColumn","sortCompleted","sortFinished","sortFinishedModalHasBeenShown","sortCharacteristics","topMargin","triggerSortModal","triggerSortPreventNavModal","triggerSortOverloadedColumnModal","triggerSortingFinishedModal","sortGridResults","bypassSort","bypassPresort","setBypassPresort","setBypassSort","setDraggingOverColumnId","setOverloadedColumn","setTriggerSortingFinishedModal","setSortGridResults","setColumnWidth","setTopMargin","setIsSortingCards","setSortCompleted","setSortFinished","setSortFinishedModalHasBeenShown","setSortCharacteristics","setCardHeightSort","setCardHeightPostsort","setTriggerSortModal","setIsSortingFinished","setHasOverloadedColumn","setTriggerSortPreventNavModal","setTriggerSortOverloadedColumnModal","createPostsortSlice","resultsPostsort","statementCommentsObj","triggerPostsortModal","postsortCommentCheckObj","showPostsortCommentHighlighting","triggerPostsortPreventNavModal","postsortDualImageArray","setPostsortDualImageArray","setResultsPostsort","setStatementCommentsObj","setTriggerPostsortModal","setPostsortCommentCheckObj","setShowPostsortCommentHighlighting","setTriggerPostsortPreventNavModal","createSubmitSlice","disableRefreshCheck","displaySubmitFallback","displayGoodbyeMessage","triggerLocalSubmitSuccessModal","triggerTransmissionOKModal","triggerTransmissionFailModal","submitFailNumber","transmittingData","checkInternetConnection","setDisableRefreshCheck","setCheckInternetConnection","setTransmittingData","setTriggerTransmissionFailModal","setTriggerTransmissionOKModal","setTriggerLocalSubmitSuccessModal","setDisplaySubmitFallback","setDisplayGoodbyeMessage","createSurveySlice","triggerSurveyModal","resultsSurvey","triggerSurveyPreventNavModal","checkRequiredQuestionsComplete","answersStorage","setAnswersStorage","setTriggerSurveyModal","setResultsSurvey","setTriggerSurveyPreventNavModal","setCheckRequiredQuestionsComplete","useStore","getLangObj","state","getTriggerLandingModal","getSetTriggerLandingModal","LandingModal","loginHelpModalHead","ReactHtmlParser","landingHelpModalHead","loginHelpModalText","landingHelpModalText","className","open","onClose","center","ModalHeader","ModalContent","styled","div","LogInSubmitButton","props","loginSubmitButtonText","StyledSubmitButton","tabindex","type","onClick","button","theme","active","secondary","primary","focus","getConfigObj","getDisplayAccessCodeWarning","getDisplayPartIdWarning","getSetUserInputPartId","getSetUserInputAccessCode","getUserInputPartId","getUserInputAccessCode","getSetDisplayLandingContent","getSetPartId","getSetDisplayNextButton","getSetIsLoggedIn","getSetDisplayAccessCodeWarning","getSetDisplayPartIdWarning","LogInScreen","welcomeText","loginWelcomeText","loginHeaderText","loginPartIdText","partIdWarning","accessCodeWarning","accessInputText","useEffect","handleKeyUpStart","event","key","userPartIdOK","userAccessOK","projectAccessCode","accessCode","length","setTimeout","window","addEventListener","removeEventListener","Fragment","LogInWelcomeText","Container","StyledHr","StyledInputDiv","StyledInput","onChange","e","target","value","autoFocus","WarningText","hr","checkForIeBrowser","ua","navigator","userAgent","indexOf","detectIEEdge","ieWarningHeaderText","ieWarningText","parseParams","returnVal","params","rawParams1","split","getLocalParticipantName","getLocalUsercode","getSetLocalParticipantName","getSetLocalUsercode","getSetLocalPartIdWarning1","getSetLocalPartIdWarning2","getSetTriggerLocalSubmitSuccessModal","getSetResults","getResults","withRouter","localStartButtonText","checkForNextPageConditions","useCallback","value1","value2","history","to","location","match","staticContext","rest","push","localDeleteButtonText","LocalSortsDownloadButton","localDownloadButtonText","useLocalPersist","persist","localStoredQsorts","hasDownloadedQsorts","setHasDownloadedQsorts","setLocalStoredQsorts","name","getSetLocalDeleteModal","getLocalStoredQsorts","getSetLocalStoredQsorts","setDisplayLocalDeleteModal","dateTime","getTime","JSON","stringify","getTriggerLocalDeleteModal","LocalDeleteModal","localDeleteModalHead","localDeleteModalText","ButtonContainer","LocalConfirmDeleteButton","getTriggerSaveBeforeDeleteModal","getSetTriggerSaveBeforeDeleteModal","localSaveBeforeDeleteModalHeader","localSaveBeforeDeleteModalText","getDisplayLocalPartIdWarn1","getDisplayLocalPartIdWarn2","getSetHasDownloadedQsorts","getHasDownloadedQsorts","displayPartIdWarning1","displayPartIdWarning2","localHeader","partIdText","usercodeText","localParticipantsText","storedQsortsHeaderText","headerText","Object","keys","LocalSaveBeforeDeleteModal","LocalStartButton","Container2","StoredHeader","LocalDeleteButton","studyTitle","myDate","exportName","exportObj","dataStr","encodeURIComponent","downloadAnchorNode","document","createElement","setAttribute","body","appendChild","click","remove","downloadObjectAsJson","getDataLoaded","getSetCurrentPage","getSetProgressScore","getSetUrlUsercode","getDisplayLandingContent","getMapObject","getSetPostsortCommentCheckObj","getSetCardFontSizeSort","getSetCardFontSizePostsort","getSetMinCardHeightSort","getSetMinCardHeightPostsort","LandingPage","archive","surveyResults","headerBarColor","landingHead","welcomeTextHtml","parse","showSurvey","removeItem","forEach","index","varName","initialScreen","setDefaultFontSizePresort","defaultFontSizePresort","setDefaultFontSizeSort","defaultFontSizeSort","setDefaultFontSizePostsort","defaultFontSizePostsort","urlString","href","urlName","codeName","setDefaultFontSize","defaultFontSize","objectKeys","qSortPattern","mostPos","Math","max","mostNeg","min","MostPos2","MostNeg2","highVal","highVal2","lowVal","lowVal2","showSecondMostPos","showSecondPosColumn","showSecondMostNeg","showSecondNegColumn","i","j","k","l","displayLogInScreen","displayPartIdScreen","displayAccessCodeScreen","setupTarget","ContainerDiv","LocalStart","initialScreenSetting","isIeBrowser","SortTitleBar","background","InternetExplorerWarning","PartIdScreen","AccessCodeScreen","ContentDiv","fadeIn","keyframes","fadeOut","view","sanitizeString","shouldDoReplace","shouldDoReplace2","useLocalStorage","initialValue","useState","item","storedValue","setStoredValue","valueToStore","getPostsortCommentCheckObj","getShowPostsortCommentHighlighting","getPostsortDualImageArray","getSetPostsortDualImageArray","LowCards","asyncLocalStorage","openImageModal","setOpenImageModal","imageSource","setImageSource","openDualImageModal","setOpenDualImageModal","requiredCommentsObject","setRequiredCommentsObject","height","width","cardFontSize","disagreeObj","lowCards","vCols","columnDisplay","disagreeText","placeholder","map","content","statement","cardComment","useImages","element","src","alt","highlighting","postsortCommentsRequired","classNames","modal","imageFormat","overlay","style","marginLeft","CardTag","CardAndTextHolder","Card","detail","shiftKey","handleOpenImageModal","TagContainerDiv","CommentArea","bgColor","border","id","defaultValue","itemId","allCommentsObj","cards","targetCard","userEnteredText","el","comment","trim","textarea","LowCards2","lowCards2","columnDisplay2","HighCards","agreeObj","highCards","agreeText","cardColor","handleChange","HighCards2Display","highCards2","getTriggerPostsortModal","getSetTriggerPostsortModal","PostsortHelpModal","postsortHelpModalHead","postsortModalHead","postsortHelpModalText","postsortModalText","PromptUnload","alertUser","returnValue","when","message","getTriggerModalOpen","getSetTrigPostPrevNavModal","PostsortPreventNavModal","triggerModalOpen","modalHead","postsortPreventNavModalHead","modalText","postsortPreventNavModalText","getMapObj","getCardHeightPostsort","getCardFontSizePostsort","PostSort","ElementRef","useRef","cardFontSizePersist","cardHeightPersist","postsortInstructions","Elementcount","current","childNodes","setStateAsync","a","titleText","postsortHeader","agree","postsortAgreement","disagree","postsortDisagreement","postsortConvertObj","agreeColDisp1","pop","agreeColDisp2","disagreeColDisp1","shift","disagreeColDisp2","postsortAgreeColDisp1","postsortAgreeColDisp2","postsortDisagreeColDisp1","postsortDisagreeColDisp2","displaySecondColumn","CardsContainer","ref","PostsortInstructions","HighCards2","PresortModal","header","presortModalHead","presortModalText","getStatementsObj","getColumnStatements","getPreSortedStateNumInit","getSetPresortFinished","getSetTrigPresortFinModal","getSetProgressScoreAdditional","PresortDND","statementsName","presortStatements","btnDisagreement","presortDisagreement","btnAgreement","presortAgreement","btnNeutral","presortNeutral","onPageInstructions","presortOnPageInstructions","presortSortedStatementsNum","setPresortSortedStatementsNum","defaultFontColor","statementsLength","statementList","items","statements","neg","neutral","pos","columns","setColumns","pinkArraySortValue","greenArraySortValue","sortDirection","onDragEnd","result","destination","droppableId","source","statementsArray","destinationId","draggableId","divColor","pinkChecked","yellowChecked","greenChecked","sortValue","listIndex","sortedStatements","sourceColumn","destColumn","sourceItems","destItems","splice","removed","backgroundColor","greenCardColor","pinkCardColor","yellowCardColor","totalStatements","completedPercent","toFixed","sourceCol","copiedItems","handleKeyUp","reason","mode","combine","posText","neutralText","negText","statementNum","projectResultsObj","npos","posStateNums","nneu","neuStateNums","nneg","negStateNums","PresortGrid","ImageEnlargeInstructionsDiv","CompletionRatioDiv","ColumnNamesNeg","ColumnNamesNeu","ColumnNamesPos","entries","columnId","column","AllColWrapper","ThreeColCardWrapper","provided","snapshot","droppableProps","innerRef","isDraggingOver","padding","statementHtml","DroppableContainer","draggableProps","dragHandleProps","userSelect","margin","overflow","fontSize","filter","isDragging","color","getSetTrigPrePrevNavModal","PresortPreventNavModal","presortPreventNavModalHead","presortPreventNavModalText","getTriggerModal","getSetTriggerModal","PresortFinishedModal","triggerModal","setTriggerModal","presortFinishedModalHead","presortFinishedModalText","PresortIsComplete","mainText","stepCompleteMessage","titleBarText","PleaseLogInFirst","logInFirst","PresortDNDImages","imageWidth","enlargeText","presortImageSortInstructions","dualPhotoArray","setDualPhotoArray","imagesList","imagesArray","getCardFontSizePresort","getIsLoggedIn","getPresortNoReturn","getResetColumnStatements","PresortPage","cloneDeep","imageSort","PresortDndImages","checkForColumnOverload","columnLengthCheckArray","forcedSorts","qSortHeaderNumbers","tempArray","setState","numSortedStatements","reduce","acc","val","move","sourceListArray","destinationListArray","droppableSource","droppableDestination","allowUnforcedSorts","qSortHeaders","destClone","currentColumnLength","qSortPatternClone","overloadArrayCheck","isEqual","reorder","columnToBeReordered","startIndex","endIndex","list","getItemStyle","draggableStyle","cardWidth","cardHeight","fontColor","newCardColor","lineHeight","borderRadius","display","justifyContent","alignItems","zIndex","textAlign","getListStyle","columnColor","isUnderMaxCards","columnStatementsArray","maxCards","minWidth","marginTop","marginRight","minHeight","outline","outlineOffset","SortColumn","SortColumnsDiv","direction","currentSortValue","DroppableColDiv","StatementDiv","React","memo","getListStyleHori","horiCardMinHeight","flexDirection","flexWrap","paddingRight","overflowX","scrollBehavior","getItemStyleHori","newSortValue","isNaN","WebkitUserSelect","maxWidth","paddingLeft","touchAction","marginBottom","order","calculateDragResults","outcome","sortValue1","parseInt","testForCompleteArray","catchNan","resultsText","newValue","charAt","substring","sort","returnObj","getSetIsSortingCards","getSetSortCompleted","getSetProgScoreAddSort","getSortFinModalHasBeenShown","getSortGridResults","getSetIsSortingFinished","getSetTriggerSortingFinModal","getSetSortGridResults","SortGrid","columnColorsArray","columnHeadersColorsArray","presortColumnStatements","sortCharacterisiticsPrep","warnOverloadedColumn","highlightedColHeader","qSortHeaderNumber","columnHeadersColor","InnerList","manageDragResults","newCols","hasShownSortFinModal","totalStatements2","SortFooterDiv","CardSlider","HorizontalFeederDiv","getItemStyleImages","maxHeight","SortColumnImages","getListStyleImages","ImageDiv","getItemStyleHoriImages","calculateDragResultsImages","SortGridImages","numImages","FeederCard","getTriggerSortModal","getSetTriggerSortModal","SortHelpModal","helpModalHead","sortHelpModalHead","helpModalText","sortHelpModalText","getTriggerSortFinishedMod","getSetTrigSortFinishMod","SortingFinishedModal","sortingCompleteModalHead","sortingCompleteModalText","getSetTriggerSortPreventNavModal","sortPreventNavModalHead","sortPreventNavModalText","getSetTrigOverColModal","OverloadedColumnModal","sortOverloadedColumnModalHead","sortOverloadedColumnModalText","SortColGuides","ColorBarDivContainer","ColorBarDiv","uuid","getCardFontSizeSort","getTopMargin","getSetPresortNoReturn","getSetTopMargin","getCardHeightSort","Sort","innerHeight","clientWidth","dimensions","setDimensions","sortDisagreement","sortAgreement","condOfInst","qlength","visibleWidthAdjust","useMemo","debouncedHandleResize","fn","ms","timer","_","clearTimeout","apply","arguments","debounce","sortGridMarginTop","getElementById","clientHeight","PreventSortNavModal","SortTitleBarContainer","Disagree","CondOfInst","condOfInstFontSize","Agree","SortGridContainer","getSetTriggerTransOKMod","getSetDisplayGoodbyeMessage","SubmitSuccessModal","transferOkModalHeader","transferOkModalText","getSetTrigTransFailMod","SubmitFailureModal","transferFailModalHeader","transferFailModalText","getDisplaySubmitFallback","getSubmitFailNumber","getSetTrigTranFailMod","getSetTrigTransOKModal","getSetDisplaySubmitFallback","getTransmittingData","getSetTransmittingData","getCheckInternetConnection","getSetCheckInternetConnection","SubmitResultsButton","btnTransferText","btnTransfer","DisabledButton","TransmittingSpin","StyledButton","preventDefault","disabled","firebase","auth","signInAnonymously","rootRef","linkToSecondProject","nextLinkAnchor","secondProjectUrl","toLowerCase","catch","errorCode","code","errorMessage","handleClick","WarningDiv","calculatePostsortResults","newObject","highCardNum","highCardVal","highCard2Num","highCard2Val","lowCardNum","lowCardVal","lowCard2Num","lowCard2Val","neuCardNum","hasOwnProperty","length2","ii","displayNeutralObjects","length5","jjj","length4","jj","length3","downloadButtonText","btnDownload","resultsWithId","finalResults","fileName","contentType","file","Blob","URL","createObjectURL","download","revokeObjectURL","SubmitFallback","fallbackMessage","StyledMessage","FallbackButtons","getSurveyQuestionObjArray","SubmitLocalResultsButton","localSaveDataButton","resultsProject","participantDesignation","question","getSetColumnStatements","newColumnStatements","returnToLocalPanelButtonText","reload","Promise","resolve","reject","getTrigLclSubmitSucMdl","LocalSubmitSuccessModal","localSubmitSuccessModalHeader","localSubmitSuccessModalText","apiString","api","rawData","store","SteinStore","formattedResultsObj","iterator","append","res","clear","CopyToClipboardButton","copiedText","copyTextError","setResult","formattedResultsTxt","clipboard","writeText","copyToClipboard","text","MessageDiv","getSetDisableRefreshCheck","showEmailButtons","setShowEmailButtons","emailAddress","btnTransferEmail","defaultEmailClientFailText","defaultEmailClientFail","emailSubject","emailMessage1","EmailButtonDiv","clipboardEmail","clipboardResults","SpacerDiv","convertObjectToResults","resultsPresort","traceSorts","columnSortValues","sortArray","posStateNums2","neuStateNums2","negStateNums2","tempArray1","presortVal","tempObject","statementNum2","toString","b","presortTraceText","presortTrace","data","fetch","method","headers","qSortData","join","response","status","createPresortObject","presortObject","numPos","numNeu","numNeg","getDisplayGoodbyeMessage","getParticipantName","transmissionResults","SubmitPage","resultsSurveyFromStorage","resultsSort","transferTextAbove","transferTextBelow","goodbyeMessage","linkedProjectFallbackMessage","linkedProjectBtnMessage","pageHeader","transferHead","resultsSortObj","alert","showPostsort","newPostsortObject","property","GoodbyeDiv","targetNew","textDecoration","SaveLocalDataToLocalStorageButton","SubmitButtonGS","steinApiUrl","SubmitButtonEmail","SubmitButtonNetlify","SubmitButton","SurveyTextElement","questionId","opts","itemNum","check","labelText","label","noteText","note","displayNoteText","userText","setUserText","formatOptions","setFormatOptions","handleOnChange","valueLen","restricted","limited","limitLength","sanitizedText","required","userTextLen","TitleBar","NoteText","TextInput","SurveyTextAreaElement","TextAreaInput","SurveyRadioElement","optsArray","options","array","x","getOptionsArray","selected","setSelected","RadioInput","checked","setter","InputStyleDiv","LabelDiv","setYellow","RadioItems","radioList","RadioContainer","SurveyDropdownElement","tempObj","originalOptions","newArray","flatten","selected2","selectedLen","labelledBy","SurveyCheckboxElement","localStore","nameValue","Array","fill","checkedState","setCheckedState","position","updatedCheckedState","currentState","substr","flattenedCheckedState","countBy","htmlFor","SurveyRatings2Element","rows","from","scaleArray","scale","selectedRow","newCheckedState","row","arrayLen2","flattenedCheckedState2","objTestValue2","textString","arrayLen","itemText","ItemContainer","indexVal","OptionsText","RatingTitle","ScaleDiv","span","SurveyRatings5Element","checked5State","setChecked5State","newChecked5State","CircleDiv","SurveyRatings10Element","SurveyLikertElement","scaleList","RadioButtons","cols","SurveyInformationElement","infoText","getSetTrigSurvPrevNavModal","AnswerAllSurveyQuestionsModal","surveyPreventNavModalHead","surveyPreventNavModalText","getTriggerSurveyModal","getSetTriggerSurveyModal","SurveyHelpModal","surveyModalHead","surveyModalText","getRequiredAnswersObj","getSetRequiredAnswersObj","getCheckReqQuesComplete","SurveyPage","surveyQuestionObjects","surveyHeader","SurveyQuestions","object","SurveyRating2Element","SurveyRating5Element","SurveyRating10Element","NoQuestionsDiv","NonExistentPage","Component","processConfigXMLData","dataObject","surveyQuestionArray","elements","surveyData","attributes","questionType","bg","isRequired","maxlength","oldMaxLength","hasBeenAnswered","shuffleCards","processMapXMLData","vColsObj","colInfoArray","_attributes","labelInt","abs","colNum","colour","numCards","_text","splitArray","headerNumbers","processLanguageXMLData","language","processStatementsXMLData","shuffledCards","shuffle","mobileCheck","vendor","opera","test","LoadingScreen","isDisplayText","detectMobileBrowser","MobileTextDiv","TextDiv","getPresortFinished","getCurrentPage","getSetCheckReqQuesCompl","getIsSortingFinished","getHasOverloadedColumn","getSetTrigSortPrevNavModal","getSetTrigSortOverColMod","getSetShowPostsortCommentHighlighting","getSetTriggerPostsortPreventNavModal","goToNextPage","setTriggerSortOverloadedColModal","sortColumns","isPresortFinished","sortResults1","postsortCommentCardCount","required1","getObjectValues","required2","required3","required4","checkArray2","NextButton","getSetCardFontSizePresort","FooterFontSizer","fontSizeText","cardFontSizeSortPersist","cardFontSizePostsortPersist","cardFontSizePresortPersist","SpanDiv","SizeButton","padBottom","newSize","getSetCardHeightSort","getSetCardHeightPostsort","CardHeightSizer","cardHeightPersistSort","cardHeightPersistPostsort","cardHeightText","calcProgressScore","additionalProgress1","additionalProgressSort","additionalProgressState","additionalProgressStateSort","adjustmentValue1","adjustmentValue2","adjustmentValue3","additionalProgress","getSetTriggerPresortModal","getSetTriggerSubmitModal","setTriggerSubmitModal","getSetTriggerConsentModal","HelpButton","buttonText","btnHelp","btnHelpLanding","btnHelpConsent","handleOnClick","showConsentPageHelpModal","StyledHelpButton","getNextPage","showConsent","getDisplayNextButton","getAdditionalProgress","getAdditionalProgressSort","StyledFooter","showBackButton","showAdjustmentContainer","showCardHeightSizer","displayHelpButton","showFooterFontSizer","backButtonText","postsortBackButtonText","nextButtonText","logoHtml","btnNextLanding","btnNextConsent","btnNext","projectName","today","showConsentPage","showProgressBar","totalProgressScore","CenterContent","AdjustmentsContainer","ProgressBarDiv","completed","labelColor","baseBgColor","nextPage","StyledFooterDiv","LogoContainer","CenterDiv","ButtonDiv","PostsortBackButton","footer","getTriggerConsentModal","consentHelpModalHead","consentHelpModalText","consentText","consentTitleBarText","ConsentModal","getSetConfigObj","getSetLangObj","getSetMapObj","getSetStatementsObj","getSetResetColumnStatements","getSetSurveyQuesObjArray","getSetDataLoaded","getDisableRefreshCheck","App","isLoading","setLoading","unloadCallback","axios","languageData","convert","xml2js","compact","ignoreComment","spaces","configData","info","imageFileType","mapData","statementsData","useMobileMode","exact","path","component","ConsentPage","SortPage","PostsortPage","NoPageFound","ReactDOM","render","StrictMode","Suspense","fallback"],"mappings":"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","file":"static/js/main.d4ff824d.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport default createGlobalStyle`\r\n    *{\r\n        margin: 0;\r\n        padding: 0;\r\n        outline:0;\r\n        box-sizing:border-box;\r\n        font-family: 'Open Sans', sans-serif; \r\n    }\r\n    #root{\r\n        margin:0 auto;\r\n    }\r\n\r\n    /*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\r\n\r\n/* Document\r\n   ========================================================================== */\r\n\r\n/**\r\n * 1. Correct the line height in all browsers.\r\n * 2. Prevent adjustments of font size after orientation changes in iOS.\r\n */\r\n\r\nhtml {\r\n  line-height: 1.15; /* 1 */\r\n  -webkit-text-size-adjust: 100%; /* 2 */\r\n  overflow: -moz-scrollbars-vertical; \r\n  overflow-y: scroll;\r\n  -ms-touch-action: manipulation;\r\ntouch-action: manipulation;\r\n}\r\n\r\n\r\n\r\n/* Sections\r\n   ========================================================================== */\r\n\r\n/**\r\n * Remove the margin in all browsers.\r\n */\r\n\r\nbody {\r\n  margin: 0;\r\n  height:calc(100vh-50px);\r\n  overscroll-behavior: none;\r\n  overflow: hidden;\r\n}\r\n\r\n/**\r\n * Render the main element consistently in IE.\r\n */\r\n\r\nmain {\r\n  display: block;\r\n}\r\n\r\n/**\r\n * Correct the font size and margin on 'h1' elements within 'section' and\r\n * 'article' contexts in Chrome, Firefox, and Safari.\r\n */\r\n\r\nh1 {\r\n  font-size: 2em;\r\n  margin: 0.67em 0;\r\n}\r\n\r\n/* Grouping content\r\n   ========================================================================== */\r\n\r\n/**\r\n * 1. Add the correct box sizing in Firefox.\r\n * 2. Show the overflow in Edge and IE.\r\n */\r\n\r\nhr {\r\n  box-sizing: content-box; /* 1 */\r\n  height: 0; /* 1 */\r\n  overflow: visible; /* 2 */\r\n}\r\n\r\n/**\r\n * 1. Correct the inheritance and scaling of font size in all browsers.\r\n * 2. Correct the odd 'em' font sizing in all browsers.\r\n */\r\n\r\npre {\r\n  font-family: monospace, monospace; /* 1 */\r\n  font-size: 1em; /* 2 */\r\n}\r\n\r\n/* Text-level semantics\r\n   ========================================================================== */\r\n\r\n/**\r\n * Remove the gray background on active links in IE 10.\r\n */\r\n\r\na {\r\n  background-color: transparent;\r\n}\r\n\r\n/**\r\n * 1. Remove the bottom border in Chrome 57-\r\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\r\n */\r\n\r\nabbr[title] {\r\n  border-bottom: none; /* 1 */\r\n  text-decoration: underline; /* 2 */\r\n  text-decoration: underline dotted; /* 2 */\r\n}\r\n\r\n/**\r\n * Add the correct font weight in Chrome, Edge, and Safari.\r\n */\r\n\r\nb,\r\nstrong {\r\n  font-weight: bolder;\r\n  display: inline !important;\r\n}\r\n\r\n/**\r\n * 1. Correct the inheritance and scaling of font size in all browsers.\r\n * 2. Correct the odd 'em' font sizing in all browsers.\r\n */\r\n\r\ncode,\r\nkbd,\r\nsamp {\r\n  font-family: monospace, monospace; /* 1 */\r\n  font-size: 1em; /* 2 */\r\n}\r\n\r\n/**\r\n * Add the correct font size in all browsers.\r\n */\r\n\r\nsmall {\r\n  font-size: 80%;\r\n}\r\n\r\n/**\r\n * Prevent 'sub' and 'sup' elements from affecting the line height in\r\n * all browsers.\r\n */\r\n\r\nsub,\r\nsup {\r\n  font-size: 75%;\r\n  line-height: 0;\r\n  position: relative;\r\n  vertical-align: baseline;\r\n}\r\n\r\nsub {\r\n  bottom: -0.25em;\r\n}\r\n\r\nsup {\r\n  top: -0.5em;\r\n}\r\n\r\n/* Embedded content\r\n   ========================================================================== */\r\n\r\n/**\r\n * Remove the border on images inside links in IE 10.\r\n */\r\n\r\nimg {\r\n  border-style: none;\r\n}\r\n\r\n/* Forms\r\n   ========================================================================== */\r\n\r\n/**\r\n * 1. Change the font styles in all browsers.\r\n * 2. Remove the margin in Firefox and Safari.\r\n */\r\n\r\nbutton,\r\ninput,\r\noptgroup,\r\nselect,\r\ntextarea {\r\n  font-family: inherit; /* 1 */\r\n  font-size: 100%; /* 1 */\r\n  line-height: 1.15; /* 1 */\r\n  margin: 0; /* 2 */\r\n}\r\n\r\n/**\r\n * Show the overflow in IE.\r\n * 1. Show the overflow in Edge.\r\n */\r\n\r\nbutton,\r\ninput { /* 1 */\r\n  overflow: visible;\r\n}\r\n\r\n/**\r\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\r\n * 1. Remove the inheritance of text transform in Firefox.\r\n */\r\n\r\nbutton,\r\nselect { /* 1 */\r\n  text-transform: none;\r\n}\r\n\r\n/**\r\n * Correct the inability to style clickable types in iOS and Safari.\r\n */\r\n\r\nbutton,\r\n[type=\"button\"],\r\n[type=\"reset\"],\r\n[type=\"submit\"] {\r\n  -webkit-appearance: button;\r\n}\r\n\r\n/**\r\n * Remove the inner border and padding in Firefox.\r\n */\r\n\r\nbutton::-moz-focus-inner,\r\n[type=\"button\"]::-moz-focus-inner,\r\n[type=\"reset\"]::-moz-focus-inner,\r\n[type=\"submit\"]::-moz-focus-inner {\r\n  border-style: none;\r\n  padding: 0;\r\n}\r\n\r\n/**\r\n * Restore the focus styles unset by the previous rule.\r\n */\r\n\r\nbutton:-moz-focusring,\r\n[type=\"button\"]:-moz-focusring,\r\n[type=\"reset\"]:-moz-focusring,\r\n[type=\"submit\"]:-moz-focusring {\r\n  outline: 1px dotted ButtonText;\r\n}\r\n\r\n/**\r\n * Correct the padding in Firefox.\r\n */\r\n\r\nfieldset {\r\n  padding: 0.35em 0.75em 0.625em;\r\n}\r\n\r\n/**\r\n * 1. Correct the text wrapping in Edge and IE.\r\n * 2. Correct the color inheritance from 'fieldset' elements in IE.\r\n * 3. Remove the padding so developers are not caught out when they zero out\r\n *    'fieldset' elements in all browsers.\r\n */\r\n\r\nlegend {\r\n  box-sizing: border-box; /* 1 */\r\n  color: inherit; /* 2 */\r\n  display: table; /* 1 */\r\n  max-width: 100%; /* 1 */\r\n  padding: 0; /* 3 */\r\n  white-space: normal; /* 1 */\r\n}\r\n\r\n/**\r\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\r\n */\r\n\r\nprogress {\r\n  vertical-align: baseline;\r\n}\r\n\r\n/**\r\n * Remove the default vertical scrollbar in IE 10+.\r\n */\r\n\r\ntextarea {\r\n  overflow: auto;\r\n}\r\n\r\n/**\r\n * 1. Add the correct box sizing in IE 10.\r\n * 2. Remove the padding in IE 10.\r\n */\r\n\r\n[type=\"checkbox\"],\r\n[type=\"radio\"] {\r\n  box-sizing: border-box; /* 1 */\r\n  padding: 0; /* 2 */\r\n}\r\n\r\n/**\r\n * Correct the cursor style of increment and decrement buttons in Chrome.\r\n */\r\n\r\n[type=\"number\"]::-webkit-inner-spin-button,\r\n[type=\"number\"]::-webkit-outer-spin-button {\r\n  height: auto;\r\n}\r\n\r\n/**\r\n * 1. Correct the odd appearance in Chrome and Safari.\r\n * 2. Correct the outline style in Safari.\r\n */\r\n\r\n[type=\"search\"] {\r\n  -webkit-appearance: textfield; /* 1 */\r\n  outline-offset: -2px; /* 2 */\r\n}\r\n\r\n/**\r\n * Remove the inner padding in Chrome and Safari on macOS.\r\n */\r\n\r\n[type=\"search\"]::-webkit-search-decoration {\r\n  -webkit-appearance: none;\r\n}\r\n\r\n/**\r\n * 1. Correct the inability to style clickable types in iOS and Safari.\r\n * 2. Change font properties to 'inherit' in Safari.\r\n */\r\n\r\n::-webkit-file-upload-button {\r\n  -webkit-appearance: button; /* 1 */\r\n  font: inherit; /* 2 */\r\n}\r\n\r\n/* Interactive\r\n   ========================================================================== */\r\n\r\n/*\r\n * Add the correct display in Edge, IE 10+, and Firefox.\r\n */\r\n\r\ndetails {\r\n  display: block;\r\n}\r\n\r\n/*\r\n * Add the correct display in all browsers.\r\n */\r\n\r\nsummary {\r\n  display: list-item;\r\n}\r\n\r\n/* Misc\r\n   ========================================================================== */\r\n\r\n/**\r\n * Add the correct display in IE 10+.\r\n */\r\n\r\ntemplate {\r\n  display: none;\r\n}\r\n\r\n/**\r\n * Add the correct display in IE 10.\r\n */\r\n\r\n[hidden] {\r\n  display: none;\r\n}\r\n\r\n\r\n/***********************************\r\n  FOOTER CSS\r\n *******************************************************************************/\r\nfooter { \r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 50px;\r\n  background: #ececec; \r\n}\r\n\r\n/***********************************\r\n  PRESORT CSS\r\n *******************************************************************************/\r\n\r\n  /* to speed up react beautiful dnd */\r\n[data-rbd-draggable-id] { will-change: transform, opacity }\r\n/*\r\n[data-rbd-draggable-id] { left: auto !important; top: auto !important; }\r\n*/\r\n  .dragObject {\r\n    -webkit-user-select: none;\r\n    user-select: none;\r\n    display: flex;\r\n  }\r\n\r\n\r\n\r\n  .react-responsive-modal-modal {\r\n  background: white;\r\n  max-width: 700px;\r\n  width: 100%;\r\n  padding: 15px;\r\n\r\n}\r\n\r\n  #cardsDiv{\r\n    grid-column-start: 3;\r\n    overflow: hidden;\r\n    align-self: end;\r\n    margin-top: 20px;\r\n  }\r\n  \r\n  #cards{\r\n    max-height: 215px;\r\n    min-height:150px;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  #completionRatio {\r\n    grid-row-start: 1;\r\n    grid-column-start: 4;\r\n    text-align: center;\r\n    font-weight: bold;\r\n  }\r\n\r\n  #negDiv{\r\n    grid-row-start: 3;\r\n    grid-column-start: 2;\r\n    overflow-y: auto;\r\n    background-color: white;\r\n    min-height: 300px;\r\n    height: 58vh;\r\n    padding-top: 5px;\r\n    border-top-left-radius: 3px;\r\n    border-bottom-left-radius: 3px;\r\n    border: 1px solid #aeaeae;\r\n\r\n    ::-webkit-scrollbar {\r\n      // Width of vertical scroll bar\r\n      width: 10px;\r\n      // Height of horizontal scroll bar\r\n      height: 10px;\r\n\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n      border-radius: 8px;\r\n      background: gray;\r\n    }\r\n  }\r\n  \r\n\r\n  #neutralDiv{\r\n    grid-row-start: 3;\r\n    grid-column-start: 3;\r\n    overflow-y: auto;\r\n    background-color: white;\r\n    min-height: 300px;\r\n    height: 58vh;\r\n    padding-top: 5px;\r\n    border: 1px solid #aeaeae;\r\n\r\n    ::-webkit-scrollbar {\r\n      // Width of vertical scroll bar\r\n      width: 10px;\r\n      // Height of horizontal scroll bar\r\n      height: 10px;\r\n\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n      border-radius: 8px;\r\n      background: gray;\r\n    }\r\n\r\n  }\r\n\r\n  #posDiv{\r\n    grid-row-start: 3;\r\n    grid-column-start: 4;\r\n    overflow-y: auto;\r\n    background-color: white;\r\n    height: 58vh;\r\n    padding-top: 5px;\r\n    border-top-right-radius: 3px;\r\n    border-bottom-right-radius: 3px;\r\n    border: 1px solid #aeaeae;\r\n\r\n    ::-webkit-scrollbar {\r\n      // Width of vertical scroll bar\r\n      width: 10px;\r\n      // Height of horizontal scroll bar\r\n      height: 10px;\r\n\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n      border-radius: 8px;\r\n      background: gray;\r\n    }\r\n  }\r\n\r\n  #pos{\r\n    min-height: 52vh;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  #neutral{\r\n    min-height: 52vh;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  #neg{\r\n    min-height: 52vh;\r\n    border-radius: 3px;\r\n  }\r\n}\r\n\r\n\r\n\r\n/***********************************\r\n  PRESORT CSS  ** IMAGES ** \r\n *******************************************************************************/\r\n  #presortFinishedModal  {\r\n  max-width: 380px !important;\r\n  margin-right: 10px !important;\r\n}\r\n\r\n\r\n#imageGrid .cardsDivImg{\r\n    grid-column-start: 3;\r\n    overflow: hidden;\r\n    padding-top: 10px;\r\n  }\r\n\r\n\r\n\r\n #imageGrid .cardsDivImg  img {\r\n    width: 100%;\r\n  }\r\n\r\n  \r\n  #imageGrid #cards{\r\n    min-height:34vh;\r\n   overflow: hidden;\r\n  }\r\n  \r\n\r\n  #imageGrid #completionRatioImg {\r\n    grid-row-start: 1;\r\n    grid-column-start: 4;\r\n    text-align: center;\r\n    font-weight: bold;\r\n  }\r\n\r\n  #imageEnlargeInstructionsDiv {\r\n    grid-row-start: 1;\r\n    grid-column-start: 2;\r\n    text-align: center;\r\n  }\r\n\r\n  #imageGrid .negDivImg{\r\n    grid-row-start: 3;\r\n    grid-column-start: 2;\r\n    overflow-y: auto;\r\n    background-color: white;\r\n    min-height: 300px;\r\n    height: 50vh;\r\n    padding-top: 5px;\r\n    border-top-left-radius: 3px;\r\n    overflow-x: hidden;\r\n    border-bottom-left-radius: 3px;\r\n    border: 1px solid #aeaeae;\r\n\r\n    ::-webkit-scrollbar {\r\n      // Width of vertical scroll bar\r\n      width: 3px;\r\n      // Height of horizontal scroll bar\r\n      height: 10px;\r\n\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n      border-radius: 8px;\r\n      background: gray;\r\n    }\r\n  }\r\n  \r\n\r\n  #imageGrid .neutralDivImg{\r\n    grid-row-start: 3;\r\n    grid-column-start: 3;\r\n    overflow-y: auto;\r\n    background-color: white;\r\n    min-height: 300px;\r\n    height: 50vh;\r\n    padding-top: 5px;\r\n    overflow-x: hidden;\r\n    border: 1px solid #aeaeae;\r\n\r\n    ::-webkit-scrollbar {\r\n      // Width of vertical scroll bar\r\n      width: 3px;\r\n      // Height of horizontal scroll bar\r\n      height: 10px;\r\n\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n      border-radius: 8px;\r\n      background: gray;\r\n    }\r\n\r\n  }\r\n\r\n  #imageGrid .posDivImg{\r\n    grid-row-start: 3;\r\n    grid-column-start: 4;\r\n    overflow-y: auto;\r\n    background-color: white;\r\n    height: 50vh;\r\n    padding-top: 5px;\r\n    border-top-right-radius: 3px;\r\n    border-bottom-right-radius: 3px;\r\n    border: 1px solid #aeaeae;\r\n    overflow-x: hidden;\r\n\r\n    ::-webkit-scrollbar {\r\n      // Width of vertical scroll bar\r\n      width: 3px;\r\n      // Height of horizontal scroll bar\r\n      height: 10px;\r\n\r\n    }\r\n    ::-webkit-scrollbar-thumb {\r\n      border-radius: 8px;\r\n      background: gray;\r\n    }\r\n  }\r\n\r\n  .pos{\r\n    min-height: 25vh;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  .neutral{\r\n    min-height: 38vh;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  .neg{\r\n    min-height: 38vh;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  #imageGrid .cards{\r\n    border-radius: 3px;\r\n    \r\n  }\r\n  \r\n  #imageGrid .cards > :not(:first-child) {\r\n    opacity: 0;\r\n    }\r\n  \r\n\r\n/***********************************\r\n  SORT CSS\r\n *******************************************************************************/\r\n.sortContainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 5px;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  min-height: 400px;\r\n  max-height: 800px;\r\n  overflow: auto;\r\n}\r\n\r\n.rootDiv {\r\n  background-color: white;\r\n  /* background-color: #6a9bc3; */\r\n  padding: 0px, 0px, 10px, 10px;\r\n  min-height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  -webkit-user-select: none;\r\n  -webkit-touch-callout: none;\r\n}\r\n\r\n.headersContainer {\r\n  display: flex;\r\n  position: fixed;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  height: 50px;\r\n  flex-direction: \"row-reverse\";\r\n}\r\n\r\n.greenSortCard {\r\n  display: flex;\r\n  justify-content: center;\r\n  background: lightgreen;\r\n  border: 2px solid gray;\r\n}\r\n\r\n.pinkSortCard {\r\n  display: flex;\r\n  justify-content: center;\r\n  background-color: rgba(255, 182, 193, 0.4);\r\n  border: 2px solid gray;\r\n}\r\n\r\n.yellowSortCard {\r\n  display: flex;\r\n  justify-content: center;\r\n  background-color: lightgray;\r\n  border: 2px solid gray;\r\n}\r\n\r\n/* \r\n.isPositiveStatement {\r\n  background-color: rgba(199, 246, 199, 0.6);\r\n} */\r\n\r\n.sortFooter {\r\n  display: flex;\r\n  flex-direction: row;\r\n  background: #e4e4e4;\r\n  position: fixed;\r\n  left: 0px;\r\n  bottom: 50px !important;\r\n  width: 100%;\r\n  height: 150px;\r\n}\r\n\r\n.footerMessageBox {\r\n  flex-basis: 100px;\r\n  padding-right: 5px;\r\n  padding-left: 5px;\r\n  width: 100px;\r\n  height: 100px;\r\n  border: 2px solid lightgray;\r\n  text-align: center;\r\n}\r\n\r\n.footerMessageBox p {\r\n  padding: 0px;\r\n  margin-top: 10px;\r\n  font-size: 10px;\r\n  color: #3273dc;\r\n}\r\n\r\n.sortEndButton {\r\n  position: fixed;\r\n  bottom: 0;\r\n  right: 0;\r\n  margin: 10px;\r\n}\r\n\r\n.cardSlider {\r\n  width: 100vw;\r\n  overflow: hidden;\r\n  display: flex;\r\n  align-items: right;\r\n}\r\n\r\n.placeholder {\r\n  width: 100px;\r\n  -webkit-animation: placeholderAnimate 3s ease-in;\r\n}\r\n\r\n/*\r\n\r\n#DroppableContainer > img {\r\n  width: 23.5vw !important;\r\n  height: auto;\r\n}\r\n\r\n.imageModal {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n\r\n  img {\r\n  width: 100%;\r\n  height: auto;\r\n  }\r\n}\r\n*/\r\n\r\n/***********************************\r\n  POST SORT \r\n *******************************************************************************/\r\n.dropdown-heading-value {\r\n  padding-top: 5px;\r\n  min-height: 30px;\r\n}\r\n\r\n/***********************************\r\n  IMAGE MODAL CSS\r\n *******************************************************************************/\r\n\r\n\r\n  .postSortImageModal169 {\r\n    background: black;\r\n    width: 70vw;\r\n    max-width: none;\r\n   }\r\n\r\n\r\n  .postSortImageModal43 {\r\n    background: black;\r\n    width: 30vw;\r\n    max-width: none;\r\n   }\r\n\r\n\r\n   .dualImageModal {\r\n    background: black;\r\n    width: 85vw;\r\n    max-width: none;\r\n   }\r\n\r\n   .dualImageOverlay {\r\n    background: black;\r\n    opacity: 0.85;\r\n  }\r\n\r\n  /***********************************\r\n  LANDING MODAL CSS\r\n *******************************************************************************/\r\n\r\n\r\n  /*\r\n  spinner css\r\n  */\r\n\r\n  #loading {\r\n  display: inline-block;\r\n  width: 100px;\r\n  margin-top: 40px;\r\n  height: 100px;\r\n  border: 10px solid lightgray;\r\n  border-radius: 50%;\r\n  border-top-color: #337ab7;\r\n  animation: spin 1s ease-in-out infinite;\r\n  -webkit-animation: spin 1s ease-in-out infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { -webkit-transform: rotate(360deg); }\r\n}\r\n@-webkit-keyframes spin {\r\n  to { -webkit-transform: rotate(360deg); }\r\n}\r\n\r\n\r\n@keyframes opacity {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n\r\n@-webkit-keyframes slide {\r\n    100% { left: 0; }\r\n}\r\n\r\n@keyframes slide {\r\n    100% { left: 0; }\r\n}\r\n\r\n@-webkit-keyframes placeholderAnimate {\r\n  100% {\r\n    width: 100%;\r\n  }\r\n  0% {\r\n    width: 0px;\r\n  }\r\n}\r\n\r\n`;\r\n","const decodeHTML = (string) => {\r\n  try {\r\n    let shouldDoReplace = string.includes(\"{{{\");\r\n\r\n    if (shouldDoReplace === true) {\r\n      const replaceLeft = /{{{/gi;\r\n      const replaceRight = /}}}/gi;\r\n      const stringText2 = string.replace(replaceLeft, \"<\");\r\n      const stringText3 = stringText2.replace(replaceRight, \">\");\r\n      return stringText3;\r\n    } else {\r\n      return string;\r\n    }\r\n  } catch (error) {\r\n    console.log(\"There was an error decoding into HTML\");\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport default decodeHTML;\r\n","const getCumulativeDuration = (startTime, cumulativeDuration2) => {\r\n  const cumulativeDuration = +cumulativeDuration2;\r\n  // duration, location\r\n  let dateNow = Date.now();\r\n\r\n  let fullTime = dateNow - startTime + cumulativeDuration;\r\n\r\n  return fullTime;\r\n};\r\n\r\nexport default getCumulativeDuration;\r\n","const getCurrentDateTime = () => {\r\n  const currentDate = new Date();\r\n  const date = currentDate.getDate();\r\n  const month = currentDate.getMonth(); //Be careful! January is 0 not 1\r\n  const year = currentDate.getFullYear();\r\n  const hour = currentDate.getHours();\r\n  let minute = currentDate.getMinutes();\r\n  let seconds = currentDate.getSeconds();\r\n  if (seconds < 10) {\r\n    seconds = \"0\" + seconds;\r\n  }\r\n  if (minute < 10) {\r\n    minute = \"0\" + minute;\r\n  }\r\n\r\n  let dateString =\r\n    year +\r\n    \"/\" +\r\n    (month + 1) +\r\n    \"/\" +\r\n    date +\r\n    \"@\" +\r\n    hour +\r\n    \":\" +\r\n    minute +\r\n    \":\" +\r\n    seconds;\r\n  return dateString;\r\n};\r\n\r\nexport default getCurrentDateTime;\r\n","import getCumulativeDuration from \"./getCumulativeDuration\";\r\nimport millisecondsToTime from \"./millisecondsToTime\";\r\nimport getCurrentDateTime from \"./getCurrentDateTime\";\r\n\r\nconst calculateTimeOnPage = (startTime, prefix, prefix2) => {\r\n  const identifier = `cumulative${prefix}Duration`;\r\n  // const identifier2 = `set${prefix2}DurationCumulative`;\r\n  const identifier3 = `timeOn${prefix2}`;\r\n  const identifier4 = `lastAccess${prefix2}`;\r\n\r\n  // const durationCumulative = store.getState()[identifier];\r\n  let durationCumulative = localStorage.getItem(identifier) || 0;\r\n  if (durationCumulative === undefined) {\r\n    durationCumulative = 0;\r\n  }\r\n\r\n  const newDurationCumulative = getCumulativeDuration(\r\n    startTime,\r\n    +durationCumulative\r\n  );\r\n  // send to state\r\n  localStorage.setItem(identifier, newDurationCumulative);\r\n\r\n  // send last access time to state\r\n  const dateString = getCurrentDateTime();\r\n  localStorage.setItem(identifier4, dateString);\r\n\r\n  // send to memory\r\n  const formattedDuration = millisecondsToTime(newDurationCumulative);\r\n  localStorage.setItem(identifier3, formattedDuration);\r\n\r\n  return;\r\n};\r\n\r\nexport default calculateTimeOnPage;\r\n","export default function msToTime(s) {\r\n  // Pad to 2 or 3 digits, default is 2\r\n  var pad = (n, z = 2) => (\"00\" + n).slice(-z);\r\n  return (\r\n    pad((s / 3.6e6) | 0) +\r\n    \":\" +\r\n    pad(((s % 3.6e6) / 6e4) | 0) +\r\n    \":\" +\r\n    pad(((s % 6e4) / 1000) | 0) // +\r\n    // \".\" +\r\n    // pad(s % 1000, 3)\r\n  );\r\n}\r\n","const createConfigSettingsSlice = (set, get) => ({\r\n  configObj: {},\r\n  surveyQuestionObjArray: [],\r\n  requiredAnswersObj: {},\r\n\r\n  setConfigObj: (configObjInput) => {\r\n    set(() => ({ configObj: configObjInput }));\r\n  },\r\n  setSurveyQuestionObjArray: (configObjInput) => {\r\n    set(() => ({ surveyQuestionObjArray: configObjInput }));\r\n  },\r\n  setRequiredAnswersObj: (configObjInput) => {\r\n    set(() => ({ requiredAnswersObj: configObjInput }));\r\n  },\r\n});\r\n\r\nexport default createConfigSettingsSlice;\r\n","const createLanguageSettingsSlice = (set, get) => ({\r\n  langObj: {},\r\n\r\n  setLangObj: (langObjInput) => {\r\n    set(() => ({ langObj: langObjInput }));\r\n  },\r\n});\r\n\r\nexport default createLanguageSettingsSlice;\r\n","const createMapSettingsSlice = (set, get) => ({\r\n  // includes qSortPattern, qSortHeaderNumbers, etc...\r\n  mapObj: {},\r\n\r\n  setMapObj: (mapObjInput) => {\r\n    set(() => ({ mapObj: mapObjInput }));\r\n  },\r\n});\r\n\r\nexport default createMapSettingsSlice;\r\n","const createStatementsSettingsSlice = (set, get) => ({\r\n  statementsObj: {},\r\n  columnStatements: {},\r\n  resetColumnStatements: {},\r\n\r\n  setStatementsObj: (statementsObjInput) => {\r\n    set(() => ({ statementsObj: statementsObjInput }));\r\n  },\r\n  setColumnStatements: (columnStatementsInput) => {\r\n    set(() => ({ columnStatements: columnStatementsInput }));\r\n  },\r\n  setResetColumnStatements: (inputValue) => {\r\n    set(() => ({ resetColumnStatements: inputValue }));\r\n  },\r\n});\r\n\r\nexport default createStatementsSettingsSlice;\r\n","import create from \"zustand\";\r\nimport createConfigSettingsSlice from \"./createConfigSettingsSlice\";\r\nimport createLanguageSettingsSlice from \"./createLanguageSettingsSlice\";\r\nimport createMapSettingsSlice from \"./createMapSettingsSlice\";\r\nimport createStatementsSettingsSlice from \"./createStatementsSettingsSlice\";\r\n\r\nconst useSettingsStore = create((set, get) => ({\r\n  ...createConfigSettingsSlice(set, get),\r\n  ...createLanguageSettingsSlice(set, get),\r\n  ...createMapSettingsSlice(set, get),\r\n  ...createStatementsSettingsSlice(set, get),\r\n}));\r\n\r\nexport default useSettingsStore;\r\n","const createLocalPanelSlice = (set, get) => ({\r\n  displayLocalPartIdWarning1: false,\r\n  displayLocalPartIdWarning2: false,\r\n  triggerLocalDeleteModal: false,\r\n  localParticipantName: \"\",\r\n\r\n  setLocalParticipantName: (inputValue) => {\r\n    set(() => ({ localParticipantName: inputValue }));\r\n  },\r\n  setLocalPartIdWarning1: (bool) => {\r\n    set(() => ({ displayLocalPartIdWarning1: bool }));\r\n  },\r\n  setLocalPartIdWarning2: (bool) => {\r\n    set(() => ({ displayLocalPartIdWarning2: bool }));\r\n  },\r\n  setLocalDeleteModal: (bool) => {\r\n    set(() => ({ triggerLocalDeleteModal: bool }));\r\n  },\r\n});\r\n\r\nexport default createLocalPanelSlice;\r\n","const createPresortSlice = (set, get) => ({\r\n  triggerPresortModal: true,\r\n  presortNoReturn: false,\r\n  presortPosCards: [],\r\n  presortNeuCards: [],\r\n  presortNegCards: [],\r\n  presortCards: [],\r\n  presortSortedStatementsNumInitial: 0,\r\n  presortFinished: false,\r\n  triggerPresortFinishedModal: false,\r\n  triggerPresortPreventNavModal: false,\r\n  results: {},\r\n  mobilePresortResults: [],\r\n  triggerMobilePresortFinishedModal: false,\r\n\r\n  setTriggerMobilePresortFinishedModal: (bool) => {\r\n    set(() => ({ triggerMobilePresortFinishedModal: bool }));\r\n  },\r\n  setMobilePresortResults: (inputValue) => {\r\n    set(() => ({ mobilePresortResults: inputValue }));\r\n  },\r\n  setPresortNoReturn: (inputValue) => {\r\n    set(() => ({ presortNoReturn: inputValue }));\r\n  },\r\n  setPresortPosCards: (inputValue) => {\r\n    set(() => ({ presortPosCards: inputValue }));\r\n  },\r\n  setPresortNeuCards: (inputValue) => {\r\n    set(() => ({ presortNeuCards: inputValue }));\r\n  },\r\n  setPresortNegCards: (inputValue) => {\r\n    set(() => ({ presortNegCards: inputValue }));\r\n  },\r\n  setPresortCards: (inputValue) => {\r\n    set(() => ({ presortCards: inputValue }));\r\n  },\r\n  setPresortSortedStatementsNumInitial: (inputValue) => {\r\n    set(() => ({ presortSortedStatementsNumInitial: inputValue }));\r\n  },\r\n  setPresortFinished: (bool) => {\r\n    set(() => ({ presortFinished: bool }));\r\n  },\r\n  setTriggerPresortFinishedModal: (bool) => {\r\n    set(() => ({ triggerPresortFinishedModal: bool }));\r\n  },\r\n  setTriggerPresortPreventNavModal: (bool) => {\r\n    set(() => ({ triggerPresortPreventNavModal: bool }));\r\n  },\r\n  setResults: (inputValue) => {\r\n    set(() => ({ results: inputValue }));\r\n  },\r\n  setTriggerPresortModal: (inputValue) => {\r\n    set(() => ({ triggerPresortModal: inputValue }));\r\n  },\r\n});\r\n\r\nexport default createPresortSlice;\r\n","const createLandingSlice = (set, get) => ({\r\n  dataLoaded: false,\r\n  isLoggedIn: false,\r\n  triggerLandingModal: false,\r\n  triggerConsentModal: false,\r\n  usercode: \"\",\r\n  urlUsercode: \"not set\",\r\n  partId: \"not required\",\r\n  localUsercode: \"\",\r\n  displayAccessCodeWarning: false,\r\n  userInputAccessCode: \"\",\r\n  displayLandingContent: false,\r\n  triggerSaveBeforeDeleteModal: false,\r\n  userInputPartId: \"\",\r\n  displayPartIdWarning: false,\r\n\r\n  setTriggerConsentModal: (inputValue) => {\r\n    set(() => ({ triggerConsentModal: inputValue }));\r\n  },\r\n  setUrlUsercode: (inputValue) => {\r\n    set(() => ({ urlUsercode: inputValue }));\r\n  },\r\n  setDisplayPartIdWarning: (inputValue) => {\r\n    set(() => ({ displayPartIdWarning: inputValue }));\r\n  },\r\n  setUserInputPartId: (inputValue) => {\r\n    set(() => ({ userInputPartId: inputValue }));\r\n  },\r\n  setTriggerSaveBeforeDeleteModal: (inputValue) => {\r\n    set(() => ({ triggerSaveBeforeDeleteModal: inputValue }));\r\n  },\r\n  setDataLoaded: (inputValue) => {\r\n    set(() => ({ dataLoaded: inputValue }));\r\n  },\r\n  setIsLoggedIn: (inputValue) => {\r\n    set(() => ({ isLoggedIn: inputValue }));\r\n  },\r\n  setTriggerLandingModal: (inputValue) => {\r\n    set(() => ({ triggerLandingModal: inputValue }));\r\n  },\r\n  setUsercode: (inputValue) => {\r\n    set(() => ({ usercode: inputValue }));\r\n  },\r\n  setPartId: (inputValue) => {\r\n    set(() => ({ partId: inputValue }));\r\n  },\r\n  setLocalUsercode: (input) => {\r\n    set(() => ({ localUsercode: input }));\r\n  },\r\n  setDisplayAccessCodeWarning: (input) => {\r\n    set(() => ({ displayAccessCodeWarning: input }));\r\n  },\r\n  setUserInputAccessCode: (input) => {\r\n    set(() => ({ userInputAccessCode: input }));\r\n  },\r\n  setDisplayLandingContent: (input) => {\r\n    set(() => ({ displayLandingContent: input }));\r\n  },\r\n});\r\n\r\nexport default createLandingSlice;\r\n","const createFooterSlice = (set, get) => ({\r\n  cardFontSizePresort: 5,\r\n  cardFontSizeSort: 5,\r\n  cardFontSizePostsort: 5,\r\n  currentPage: \"landing\",\r\n  progressScore: 10,\r\n  progressScoreAdditional: 0,\r\n  progressScoreAdditionalSort: 0,\r\n  displayNextButton: false,\r\n  minCardHeightSort: 40,\r\n  minCardHeightPostsort: 40,\r\n\r\n  setMinCardHeightPostsort: (inputValue) => {\r\n    set(() => ({ minCardHeightPostsort: inputValue }));\r\n  },\r\n  setMinCardHeightSort: (inputValue) => {\r\n    set(() => ({ minCardHeightSort: inputValue }));\r\n  },\r\n  setCardFontSizePostsort: (inputValue) => {\r\n    set(() => ({ cardFontSizePostsort: inputValue }));\r\n  },\r\n  setCardFontSizeSort: (inputValue) => {\r\n    set(() => ({ cardFontSizeSort: inputValue }));\r\n  },\r\n  setCardFontSizePresort: (inputValue) => {\r\n    set(() => ({ cardFontSizePresort: inputValue }));\r\n  },\r\n  setCurrentPage: (inputValue) => {\r\n    set(() => ({ currentPage: inputValue }));\r\n  },\r\n  setProgressScore: (inputValue) => {\r\n    set(() => ({ progressScore: inputValue }));\r\n  },\r\n  setProgressScoreAdditional: (inputValue) => {\r\n    set(() => ({ progressScoreAdditional: inputValue }));\r\n  },\r\n  setProgressScoreAdditionalSort: (inputValue) => {\r\n    set(() => ({ progressScoreAdditionalSort: inputValue }));\r\n  },\r\n  setDisplayNextButton: (inputValue) => {\r\n    set(() => ({ displayNextButton: inputValue }));\r\n  },\r\n});\r\n\r\nexport default createFooterSlice;\r\n","const createSortSlice = (set, get) => ({\r\n  cardHeightSort: 120,\r\n  cardHeightPostsort: 120,\r\n  columnWidth: 100,\r\n  draggingOverColumnId: \"\",\r\n  hasOverloadedColumn: false,\r\n  isSortingCards: true,\r\n  isSortingFinished: false,\r\n  overloadedColumn: \"\",\r\n  sortCompleted: false,\r\n  sortFinished: false,\r\n  sortFinishedModalHasBeenShown: false,\r\n  sortCharacteristics: {},\r\n  topMargin: 50,\r\n  triggerSortModal: true,\r\n  triggerSortPreventNavModal: false,\r\n  triggerSortOverloadedColumnModal: false,\r\n  triggerSortingFinishedModal: false,\r\n  sortGridResults: {},\r\n  bypassSort: false,\r\n  bypassPresort: false,\r\n\r\n  setBypassPresort: (inputValue) => {\r\n    set(() => ({ bypassPresort: inputValue }));\r\n  },\r\n  setBypassSort: (inputValue) => {\r\n    set(() => ({ bypassSort: inputValue }));\r\n  },\r\n  setDraggingOverColumnId: (inputValue) => {\r\n    set(() => ({ draggingOverColumnId: inputValue }));\r\n  },\r\n  setOverloadedColumn: (inputValue) => {\r\n    set(() => ({ overloadedColumn: inputValue }));\r\n  },\r\n  setTriggerSortingFinishedModal: (inputValue) => {\r\n    set(() => ({ triggerSortingFinishedModal: inputValue }));\r\n  },\r\n  setSortGridResults: (inputValue) => {\r\n    set(() => ({ sortGridResults: inputValue }));\r\n  },\r\n  setColumnWidth: (inputValue) => {\r\n    set(() => ({ columnWidth: inputValue }));\r\n  },\r\n  setTopMargin: (inputValue) => {\r\n    set(() => ({ topMargin: inputValue }));\r\n  },\r\n  setIsSortingCards: (inputValue) => {\r\n    set(() => ({ isSortingCards: inputValue }));\r\n  },\r\n  setSortCompleted: (inputValue) => {\r\n    set(() => ({ sortCompleted: inputValue }));\r\n  },\r\n  setSortFinished: (inputValue) => {\r\n    set(() => ({ sortFinished: inputValue }));\r\n  },\r\n  setSortFinishedModalHasBeenShown: (inputValue) => {\r\n    set(() => ({ sortFinishedModalHasBeenShown: inputValue }));\r\n  },\r\n  setSortCharacteristics: (inputValue) => {\r\n    set(() => ({ sortCharacteristics: inputValue }));\r\n  },\r\n  setCardHeightSort: (inputValue) => {\r\n    set(() => ({ cardHeightSort: inputValue }));\r\n  },\r\n  setCardHeightPostsort: (inputValue) => {\r\n    set(() => ({ cardHeightPostsort: inputValue }));\r\n  },\r\n  setTriggerSortModal: (inputValue) => {\r\n    set(() => ({ triggerSortModal: inputValue }));\r\n  },\r\n  setIsSortingFinished: (inputValue) => {\r\n    set(() => ({ isSortingFinished: inputValue }));\r\n  },\r\n  setHasOverloadedColumn: (inputValue) => {\r\n    set(() => ({ hasOverloadedColumn: inputValue }));\r\n  },\r\n  setTriggerSortPreventNavModal: (inputValue) => {\r\n    set(() => ({ triggerSortPreventNavModal: inputValue }));\r\n  },\r\n  setTriggerSortOverloadedColumnModal: (inputValue) => {\r\n    set(() => ({ triggerSortOverloadedColumnModal: inputValue }));\r\n  },\r\n});\r\n\r\nexport default createSortSlice;\r\n","const createPostsortSlice = (set, get) => ({\r\n  resultsPostsort: {},\r\n  statementCommentsObj: {},\r\n  triggerPostsortModal: true,\r\n  postsortCommentCheckObj: {},\r\n  showPostsortCommentHighlighting: false,\r\n  triggerPostsortPreventNavModal: false,\r\n  postsortDualImageArray: [],\r\n\r\n  setPostsortDualImageArray: (inputValue) => {\r\n    set(() => ({ postsortDualImageArray: inputValue }));\r\n  },\r\n  setResultsPostsort: (inputValue) => {\r\n    set(() => ({ resultsPostsort: inputValue }));\r\n  },\r\n  setStatementCommentsObj: (inputValue) => {\r\n    set(() => ({ statementCommentsObj: inputValue }));\r\n  },\r\n  setTriggerPostsortModal: (inputValue) => {\r\n    set(() => ({ triggerPostsortModal: inputValue }));\r\n  },\r\n  setPostsortCommentCheckObj: (inputValue) => {\r\n    set(() => ({ postsortCommentCheckObj: inputValue }));\r\n  },\r\n  setShowPostsortCommentHighlighting: (inputValue) => {\r\n    set(() => ({ showPostsortCommentHighlighting: inputValue }));\r\n  },\r\n  setTriggerPostsortPreventNavModal: (inputValue) => {\r\n    set(() => ({ triggerPostsortPreventNavModal: inputValue }));\r\n  },\r\n});\r\n\r\nexport default createPostsortSlice;\r\n","const createSubmitSlice = (set, get) => ({\r\n  disableRefreshCheck: false,\r\n  displaySubmitFallback: false,\r\n  displayGoodbyeMessage: false,\r\n  triggerLocalSubmitSuccessModal: false,\r\n  triggerTransmissionOKModal: false,\r\n  triggerTransmissionFailModal: false,\r\n  submitFailNumber: 0,\r\n  transmittingData: false,\r\n  checkInternetConnection: false,\r\n\r\n  setDisableRefreshCheck: (input) => {\r\n    set(() => ({ disableRefreshCheck: input }));\r\n  },\r\n  setCheckInternetConnection: (input) => {\r\n    set(() => ({ checkInternetConnection: input }));\r\n  },\r\n  setTransmittingData: (input) => {\r\n    set(() => ({ transmittingData: input }));\r\n  },\r\n  setTriggerTransmissionFailModal: (input) => {\r\n    set(() => ({ triggerTransmissionFailModal: input }));\r\n  },\r\n  setTriggerTransmissionOKModal: (input) => {\r\n    set(() => ({ triggerTransmissionOKModal: input }));\r\n  },\r\n  setTriggerLocalSubmitSuccessModal: (input) => {\r\n    set(() => ({ triggerLocalSubmitSuccessModal: input }));\r\n  },\r\n  setDisplaySubmitFallback: (input) => {\r\n    set(() => ({ displaySubmitFallback: input }));\r\n  },\r\n  setDisplayGoodbyeMessage: (inputValue) => {\r\n    set(() => ({ displayGoodbyeMessage: inputValue }));\r\n  },\r\n});\r\n\r\nexport default createSubmitSlice;\r\n","const createSurveySlice = (set, get) => ({\r\n  triggerSurveyModal: true,\r\n  resultsSurvey: {},\r\n  triggerSurveyPreventNavModal: false,\r\n  checkRequiredQuestionsComplete: false,\r\n  requiredAnswersObj: {},\r\n  answersStorage: {},\r\n\r\n  setAnswersStorage: (inputValue) => {\r\n    set(() => ({ answersStorage: inputValue }));\r\n  },\r\n  setTriggerSurveyModal: (inputValue) => {\r\n    set(() => ({ triggerSurveyModal: inputValue }));\r\n  },\r\n  setResultsSurvey: (inputValue) => {\r\n    set(() => ({ resultsSurvey: inputValue }));\r\n  },\r\n\r\n  setTriggerSurveyPreventNavModal: (inputValue) => {\r\n    set(() => ({ triggerSurveyPreventNavModal: inputValue }));\r\n  },\r\n  setCheckRequiredQuestionsComplete: (inputValue) => {\r\n    set(() => ({ checkRequiredQuestionsComplete: inputValue }));\r\n  },\r\n  setRequiredAnswersObj: (inputValue) => {\r\n    set(() => ({ requiredAnswersObj: inputValue }));\r\n  },\r\n});\r\n\r\nexport default createSurveySlice;\r\n","import create from \"zustand\";\r\nimport createLocalPanelSlice from \"./createLocalPanelSlice\";\r\nimport createPresortSlice from \"./createPresortSlice\";\r\nimport createLandingSlice from \"./createLandingSlice\";\r\nimport createFooterSlice from \"./createFooterSlice\";\r\nimport createSortSlice from \"./createSortSlice\";\r\nimport createPostsortSlice from \"./createPostsortSlice\";\r\nimport createSubmitSlice from \"./createSubmitSlice\";\r\nimport createSurveySlice from \"./createSurveySlice\";\r\n\r\nconst useStore = create((set, get) => ({\r\n  ...createFooterSlice(set, get),\r\n  ...createLocalPanelSlice(set, get),\r\n  ...createLandingSlice(set, get),\r\n  ...createPresortSlice(set, get),\r\n  ...createSortSlice(set, get),\r\n  ...createPostsortSlice(set, get),\r\n  ...createSubmitSlice(set, get),\r\n  ...createSurveySlice(set, get),\r\n}));\r\n\r\nexport default useStore;\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerLandingModal = (state) => state.triggerLandingModal;\r\nconst getSetTriggerLandingModal = (state) => state.setTriggerLandingModal;\r\n\r\nconst LandingModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerLandingModal = useStore(getTriggerLandingModal);\r\n  const setTriggerLandingModal = useStore(getSetTriggerLandingModal);\r\n\r\n  const loginHelpModalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.landingHelpModalHead)) || \"\";\r\n  const loginHelpModalText =\r\n    ReactHtmlParser(decodeHTML(langObj.landingHelpModalText)) || \"\";\r\n\r\n  const onCloseModal = () => {\r\n    setTriggerLandingModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerLandingModal}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{loginHelpModalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{loginHelpModalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default LandingModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\n\r\nconst LogInSubmitButton = (props) => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n\r\n  const loginSubmitButtonText =\r\n    ReactHtmlParser(decodeHTML(langObj.loginSubmitButtonText)) || \"\";\r\n\r\n  return (\r\n    <StyledSubmitButton tabindex=\"0\" type=\"submit\" onClick={props.onClick}>\r\n      {loginSubmitButtonText}\r\n    </StyledSubmitButton>\r\n  );\r\n};\r\nexport default LogInSubmitButton;\r\n\r\nconst StyledSubmitButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.5em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: 200px;\r\n  height: 50px;\r\n  justify-self: right;\r\n  align-self: end;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport LogInSubmitButton from \"./LogInSubmitButton\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getDisplayAccessCodeWarning = (state) => state.displayAccessCodeWarning;\r\nconst getDisplayPartIdWarning = (state) => state.displayPartIdWarning;\r\nconst getSetUserInputPartId = (state) => state.setUserInputPartId;\r\nconst getSetUserInputAccessCode = (state) => state.setUserInputAccessCode;\r\nconst getUserInputPartId = (state) => state.userInputPartId;\r\nconst getUserInputAccessCode = (state) => state.userInputAccessCode;\r\nconst getSetDisplayLandingContent = (state) => state.setDisplayLandingContent;\r\nconst getSetPartId = (state) => state.setPartId;\r\nconst getSetDisplayNextButton = (state) => state.setDisplayNextButton;\r\nconst getSetIsLoggedIn = (state) => state.setIsLoggedIn;\r\nconst getSetDisplayAccessCodeWarning = (state) =>\r\n  state.setDisplayAccessCodeWarning;\r\nconst getSetDisplayPartIdWarning = (state) => state.setDisplayPartIdWarning;\r\n\r\nconst LogInScreen = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const displayAccessCodeWarning = useStore(getDisplayAccessCodeWarning);\r\n  const displayPartIdWarning = useStore(getDisplayPartIdWarning);\r\n  const setUserInputPartId = useStore(getSetUserInputPartId);\r\n  const setUserInputAccessCode = useStore(getSetUserInputAccessCode);\r\n  const userInputPartId = useStore(getUserInputPartId);\r\n  const userInputAccessCode = useStore(getUserInputAccessCode);\r\n  const setDisplayLandingContent = useStore(getSetDisplayLandingContent);\r\n  const setPartId = useStore(getSetPartId);\r\n  const setDisplayNextButton = useStore(getSetDisplayNextButton);\r\n  const setIsLoggedIn = useStore(getSetIsLoggedIn);\r\n  const setDisplayAccessCodeWarning = useStore(getSetDisplayAccessCodeWarning);\r\n  const setDisplayPartIdWarning = useStore(getSetDisplayPartIdWarning);\r\n\r\n  const welcomeText =\r\n    ReactHtmlParser(decodeHTML(langObj.loginWelcomeText)) || \"\";\r\n  const loginHeaderText =\r\n    ReactHtmlParser(decodeHTML(langObj.loginHeaderText)) || \"\";\r\n  const loginPartIdText =\r\n    ReactHtmlParser(decodeHTML(langObj.loginPartIdText)) || \"\";\r\n  const partIdWarning =\r\n    ReactHtmlParser(decodeHTML(langObj.partIdWarning)) || \"\";\r\n  const accessCodeWarning =\r\n    ReactHtmlParser(decodeHTML(langObj.accessCodeWarning)) || \"\";\r\n  const accessInputText =\r\n    ReactHtmlParser(decodeHTML(langObj.accessInputText)) || \"\";\r\n\r\n  const handleInput = (e) => {\r\n    setUserInputPartId(e.target.value);\r\n  };\r\n\r\n  const handleAccess = (e) => {\r\n    setUserInputAccessCode(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyUpStart = (event) => {\r\n      if (event.key === \"Enter\") {\r\n        try {\r\n          let userPartIdOK = false;\r\n          let userAccessOK = false;\r\n          const projectAccessCode = configObj.accessCode;\r\n\r\n          // get user input\r\n          if (userInputPartId.length > 1) {\r\n            userPartIdOK = true;\r\n          } else {\r\n            userPartIdOK = false;\r\n          }\r\n          if (userInputAccessCode === projectAccessCode) {\r\n            userAccessOK = true;\r\n          }\r\n\r\n          // invalid input ==> display warnings\r\n          if (userAccessOK && userPartIdOK) {\r\n            setDisplayLandingContent(true);\r\n            setPartId(userInputPartId);\r\n            localStorage.setItem(\"partId\", userInputPartId);\r\n\r\n            setDisplayNextButton(true);\r\n            setIsLoggedIn(true);\r\n          } else if (userAccessOK === false) {\r\n            console.log(\"no access code\");\r\n            setDisplayAccessCodeWarning(true);\r\n            setDisplayNextButton(false);\r\n            setTimeout(() => {\r\n              setDisplayAccessCodeWarning(false);\r\n            }, 5000);\r\n          } else if (userPartIdOK === false) {\r\n            setDisplayPartIdWarning(true);\r\n            setDisplayNextButton(false);\r\n            console.log(\"no id\");\r\n\r\n            setTimeout(() => {\r\n              setDisplayPartIdWarning(false);\r\n            }, 5000);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    }; // end keyup\r\n    window.addEventListener(\"keyup\", handleKeyUpStart);\r\n\r\n    return () => window.removeEventListener(\"keyup\", handleKeyUpStart);\r\n  }, [\r\n    setDisplayLandingContent,\r\n    setDisplayNextButton,\r\n    setIsLoggedIn,\r\n    configObj.accessCode,\r\n    setDisplayAccessCodeWarning,\r\n    userInputAccessCode,\r\n    setPartId,\r\n    setDisplayPartIdWarning,\r\n    userInputPartId,\r\n  ]);\r\n\r\n  const handleSubmit = () => {\r\n    try {\r\n      let userPartIdOK = false;\r\n      let userAccessOK = false;\r\n      const projectAccessCode = configObj.accessCode;\r\n\r\n      // get user input\r\n      if (userInputPartId.length > 1) {\r\n        userPartIdOK = true;\r\n      } else {\r\n        userPartIdOK = false;\r\n      }\r\n      if (userInputAccessCode === projectAccessCode) {\r\n        userAccessOK = true;\r\n      }\r\n\r\n      // invalid input ==> display warnings\r\n      if (userAccessOK && userPartIdOK) {\r\n        setDisplayLandingContent(true);\r\n        setPartId(userInputPartId);\r\n        localStorage.setItem(\"partId\", userInputPartId);\r\n\r\n        setDisplayNextButton(true);\r\n        setIsLoggedIn(true);\r\n      } else if (userAccessOK === false) {\r\n        console.log(\"no access code\");\r\n        setDisplayAccessCodeWarning(true);\r\n        setDisplayNextButton(false);\r\n        setTimeout(() => {\r\n          setDisplayAccessCodeWarning(false);\r\n        }, 5000);\r\n      } else if (userPartIdOK === false) {\r\n        setDisplayPartIdWarning(true);\r\n        setDisplayNextButton(false);\r\n        console.log(\"no id\");\r\n\r\n        setTimeout(() => {\r\n          setDisplayPartIdWarning(false);\r\n        }, 5000);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <LogInWelcomeText>{welcomeText}</LogInWelcomeText>\r\n      <Container>\r\n        <div>\r\n          <h2>{loginHeaderText}</h2>\r\n          <StyledHr />\r\n        </div>\r\n        <div>\r\n          <h3>{loginPartIdText}</h3>\r\n          <StyledInputDiv>\r\n            <StyledInput onChange={handleInput} type=\"text\" autoFocus />\r\n            {displayPartIdWarning && <WarningText>{partIdWarning}</WarningText>}\r\n          </StyledInputDiv>\r\n        </div>\r\n        <div>\r\n          <h3>{accessInputText}</h3>\r\n          <StyledInputDiv>\r\n            <StyledInput onChange={handleAccess} type=\"text\" />\r\n            {displayAccessCodeWarning && (\r\n              <WarningText>{accessCodeWarning}</WarningText>\r\n            )}\r\n          </StyledInputDiv>\r\n        </div>\r\n        <LogInSubmitButton onClick={handleSubmit} />\r\n      </Container>\r\n      <WarningText>{}</WarningText>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default LogInScreen;\r\n\r\nconst Container = styled.div`\r\n  display: grid;\r\n  grid-template-rows: 23% 28% 28% 1fr;\r\n  margin-top: 50px;\r\n  width: 800px;\r\n  padding: 20px;\r\n  min-height: 400px;\r\n  margin-bottom: 200px;\r\n  border: 2px solid black;\r\n  justify-self: center;\r\n  background-color: whitesmoke;\r\n`;\r\n\r\nconst LogInWelcomeText = styled.div`\r\n  width: 900px;\r\n  font-size: 25px;\r\n  line-height: 1.3em;\r\n  padding-left: 35px;\r\n`;\r\n\r\nconst StyledHr = styled.hr`\r\n  margin-top: 5px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  margin-top: 5px;\r\n  width: 400px;\r\n  height: 30px;\r\n  font-size: 1.4em;\r\n  padding-left: 5px;\r\n`;\r\n\r\nconst StyledInputDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst WarningText = styled.div`\r\n  color: red;\r\n  font-weight: bold;\r\n  font-size: 1.4em;\r\n  margin-left: 10px;\r\n`;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport LogInSubmitButton from \"./LogInSubmitButton\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getDisplayPartIdWarning = (state) => state.displayPartIdWarning;\r\nconst getSetUserInputPartId = (state) => state.setUserInputPartId;\r\nconst getUserInputPartId = (state) => state.userInputPartId;\r\nconst getSetDisplayLandingContent = (state) => state.setDisplayLandingContent;\r\nconst getSetPartId = (state) => state.setPartId;\r\nconst getSetDisplayNextButton = (state) => state.setDisplayNextButton;\r\nconst getSetIsLoggedIn = (state) => state.setIsLoggedIn;\r\nconst getSetDisplayPartIdWarning = (state) => state.setDisplayPartIdWarning;\r\n\r\nconst LogInScreen = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const displayPartIdWarning = useStore(getDisplayPartIdWarning);\r\n  const setUserInputPartId = useStore(getSetUserInputPartId);\r\n  const userInputPartId = useStore(getUserInputPartId);\r\n  const setDisplayLandingContent = useStore(getSetDisplayLandingContent);\r\n  const setPartId = useStore(getSetPartId);\r\n  const setDisplayNextButton = useStore(getSetDisplayNextButton);\r\n  const setIsLoggedIn = useStore(getSetIsLoggedIn);\r\n  const setDisplayPartIdWarning = useStore(getSetDisplayPartIdWarning);\r\n\r\n  const loginHeaderText =\r\n    ReactHtmlParser(decodeHTML(langObj.loginHeaderText)) || \"\";\r\n  const loginPartIdText =\r\n    ReactHtmlParser(decodeHTML(langObj.loginPartIdText)) || \"\";\r\n  const partIdWarning =\r\n    ReactHtmlParser(decodeHTML(langObj.partIdWarning)) || \"\";\r\n\r\n  const handleInput = (e) => {\r\n    setUserInputPartId(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyUpStart = (event) => {\r\n      if (event.key === \"Enter\") {\r\n        console.log(\"Enter\");\r\n        let userPartIdOK = false;\r\n\r\n        // get user input\r\n        if (userInputPartId.length > 0) {\r\n          userPartIdOK = true;\r\n          setDisplayLandingContent(true);\r\n          setPartId(userInputPartId);\r\n          localStorage.setItem(\"partId\", userInputPartId);\r\n          setDisplayNextButton(true);\r\n          setIsLoggedIn(true);\r\n        }\r\n\r\n        // invalid input ==> display warnings\r\n        if (userPartIdOK === false) {\r\n          setDisplayPartIdWarning(true);\r\n          setTimeout(() => {\r\n            setDisplayPartIdWarning(false);\r\n          }, 5000);\r\n        }\r\n      }\r\n    }; // end keyup\r\n\r\n    window.addEventListener(\"keyup\", handleKeyUpStart);\r\n\r\n    return () => window.removeEventListener(\"keyup\", handleKeyUpStart);\r\n  }, [\r\n    setDisplayLandingContent,\r\n    setPartId,\r\n    setDisplayNextButton,\r\n    setIsLoggedIn,\r\n    userInputPartId,\r\n    setDisplayPartIdWarning,\r\n  ]);\r\n\r\n  const handleSubmit = (e) => {\r\n    let userPartIdOK = false;\r\n\r\n    // get user input\r\n    if (userInputPartId.length > 0) {\r\n      userPartIdOK = true;\r\n      setDisplayLandingContent(true);\r\n      setPartId(userInputPartId);\r\n      localStorage.setItem(\"partId\", userInputPartId);\r\n      setDisplayNextButton(true);\r\n      setIsLoggedIn(true);\r\n    }\r\n\r\n    // invalid input ==> display warnings\r\n    if (userPartIdOK === false) {\r\n      setDisplayPartIdWarning(true);\r\n      setTimeout(() => {\r\n        setDisplayPartIdWarning(false);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <h2>{loginHeaderText}</h2>\r\n        <StyledHr />\r\n      </div>\r\n      <div>\r\n        <h3>{loginPartIdText}</h3>\r\n        <StyledInputDiv>\r\n          <StyledInput onChange={handleInput} type=\"text\" autoFocus />\r\n          {displayPartIdWarning && <WarningText>{partIdWarning}</WarningText>}\r\n        </StyledInputDiv>\r\n      </div>\r\n\r\n      <LogInSubmitButton onClick={handleSubmit} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LogInScreen;\r\n\r\nconst Container = styled.div`\r\n  display: grid;\r\n  grid-template-rows: 1fr 1fr 1fr;\r\n  margin-top: 50px;\r\n  width: 50vw;\r\n  padding: 1.5vw;\r\n  min-height: 300px;\r\n  margin-bottom: 200px;\r\n  border: 2px solid black;\r\n  justify-self: center;\r\n  background-color: whitesmoke;\r\n`;\r\n\r\nconst StyledHr = styled.hr`\r\n  margin-top: 5px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  margin-top: 5px;\r\n  width: 400px;\r\n  height: 30px;\r\n  font-size: 1.4em;\r\n  padding-left: 5px;\r\n`;\r\n\r\nconst StyledInputDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst WarningText = styled.div`\r\n  color: red;\r\n  font-weight: bold;\r\n  font-size: 1.4em;\r\n  margin-left: 10px;\r\n`;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport LogInSubmitButton from \"./LogInSubmitButton\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getDisplayAccessCodeWarning = (state) => state.displayAccessCodeWarning;\r\nconst getUserInputAccessCode = (state) => state.userInputAccessCode;\r\nconst getSetDisplayLandingContent = (state) => state.setDisplayLandingContent;\r\nconst getSetDisplayNextButton = (state) => state.setDisplayNextButton;\r\nconst getSetIsLoggedIn = (state) => state.setIsLoggedIn;\r\nconst getSetUserInputAccessCode = (state) => state.setUserInputAccessCode;\r\nconst getSetDisplayAccessCodeWarning = (state) =>\r\n  state.setDisplayAccessCodeWarning;\r\n\r\nconst LogInScreen = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const displayAccessCodeWarning = useStore(getDisplayAccessCodeWarning);\r\n  const userInputAccessCode = useStore(getUserInputAccessCode);\r\n  const setDisplayLandingContent = useStore(getSetDisplayLandingContent);\r\n  const setDisplayNextButton = useStore(getSetDisplayNextButton);\r\n  const setIsLoggedIn = useStore(getSetIsLoggedIn);\r\n  const setUserInputAccessCode = useStore(getSetUserInputAccessCode);\r\n  const setDisplayAccessCodeWarning = useStore(getSetDisplayAccessCodeWarning);\r\n\r\n  // Language\r\n  const loginHeaderText =\r\n    ReactHtmlParser(decodeHTML(langObj.loginHeaderText)) || \"\";\r\n  const accessInputText =\r\n    ReactHtmlParser(decodeHTML(langObj.accessInputText)) || \"\";\r\n  const accessCodeWarning =\r\n    ReactHtmlParser(decodeHTML(langObj.accessCodeWarning)) || \"\";\r\n\r\n  const handleAccess = (e) => {\r\n    setUserInputAccessCode(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyUpStart = (event) => {\r\n      if (event.key === \"Enter\") {\r\n        let userAccessOK = false;\r\n        const projectAccessCode = configObj.accessCode;\r\n\r\n        // get user input\r\n\r\n        if (userInputAccessCode === projectAccessCode) {\r\n          userAccessOK = true;\r\n          setDisplayLandingContent(true);\r\n          setDisplayNextButton(true);\r\n          setIsLoggedIn(true);\r\n        }\r\n\r\n        // invalid input ==> display warnings\r\n        if (userAccessOK === false) {\r\n          setDisplayAccessCodeWarning(true);\r\n          setTimeout(() => {\r\n            setDisplayAccessCodeWarning(false);\r\n          }, 3000);\r\n        }\r\n      }\r\n    }; // end keyup\r\n    window.addEventListener(\"keyup\", handleKeyUpStart);\r\n\r\n    return () => window.removeEventListener(\"keyup\", handleKeyUpStart);\r\n  }, [\r\n    setDisplayLandingContent,\r\n    setDisplayNextButton,\r\n    setIsLoggedIn,\r\n    configObj.accessCode,\r\n    setDisplayAccessCodeWarning,\r\n    userInputAccessCode,\r\n  ]);\r\n\r\n  const handleSubmit = (e) => {\r\n    let userAccessOK = false;\r\n    const projectAccessCode = configObj.accessCode;\r\n\r\n    // get user input\r\n\r\n    if (userInputAccessCode === projectAccessCode) {\r\n      userAccessOK = true;\r\n      setDisplayLandingContent(true);\r\n      setDisplayNextButton(true);\r\n      setIsLoggedIn(true);\r\n    }\r\n\r\n    // invalid input ==> display warnings\r\n    if (userAccessOK === false) {\r\n      setDisplayAccessCodeWarning(true);\r\n      setTimeout(() => {\r\n        setDisplayAccessCodeWarning(false);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <h2>{loginHeaderText}</h2>\r\n        <StyledHr />\r\n      </div>\r\n      <div>\r\n        <h3>{accessInputText}</h3>\r\n        <StyledInputDiv>\r\n          <StyledInput onChange={handleAccess} type=\"text\" autoFocus />\r\n          {displayAccessCodeWarning && (\r\n            <WarningText>{accessCodeWarning}</WarningText>\r\n          )}\r\n        </StyledInputDiv>\r\n      </div>\r\n\r\n      <LogInSubmitButton onClick={handleSubmit} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LogInScreen;\r\n\r\nconst Container = styled.div`\r\n  display: grid;\r\n  grid-template-rows: 1fr 1fr 1fr;\r\n  margin-top: 50px;\r\n  width: 50vw;\r\n  padding: 1.5vw;\r\n  min-height: 300px;\r\n  margin-bottom: 200px;\r\n  border: 2px solid black;\r\n  justify-self: center;\r\n  background-color: whitesmoke;\r\n`;\r\n\r\nconst StyledHr = styled.hr`\r\n  margin-top: 5px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  margin-top: 5px;\r\n  width: 400px;\r\n  height: 30px;\r\n  font-size: 1.4em;\r\n  padding-left: 5px;\r\n`;\r\n\r\nconst StyledInputDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst WarningText = styled.div`\r\n  color: red;\r\n  font-weight: bold;\r\n  font-size: 1.4em;\r\n  margin-left: 10px;\r\n`;\r\n","/**\r\n * detect IEEdge\r\n * returns version of IE/Edge or false, if browser is not a Microsoft browser\r\n * stackoverflow\r\n * https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie\r\n */\r\nfunction detectIEEdge() {\r\n  var ua = window.navigator.userAgent;\r\n\r\n  var msie = ua.indexOf(\"MSIE \");\r\n  if (msie > 0) {\r\n    // IE 10 or older => return version number\r\n    // return parseInt(ua.substring(msie + 5, ua.indexOf(\".\", msie)), 10);\r\n    return true;\r\n  }\r\n\r\n  var trident = ua.indexOf(\"Trident/\");\r\n  if (trident > 0) {\r\n    // IE 11 => return version number\r\n    // var rv = ua.indexOf(\"rv:\");\r\n    // return parseInt(ua.substring(rv + 3, ua.indexOf(\".\", rv)), 10);\r\n    return true;\r\n  }\r\n\r\n  // other browser\r\n  return false;\r\n}\r\n\r\nconst checkForIeBrowser = () => {\r\n  const isIE = detectIEEdge();\r\n  return isIE;\r\n};\r\n\r\nexport default checkForIeBrowser;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\n\r\nconst LogInScreen = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n\r\n  const ieWarningHeaderText =\r\n    ReactHtmlParser(decodeHTML(langObj.ieWarningHeaderText)) || \"\";\r\n  const ieWarningText =\r\n    ReactHtmlParser(decodeHTML(langObj.ieWarningText)) || \"\";\r\n\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <center>\r\n          <h2>{ieWarningHeaderText}</h2>\r\n          <StyledHr />\r\n        </center>\r\n      </div>\r\n      <div>\r\n        <StyledInputDiv>\r\n          <h3>{ieWarningText}</h3>\r\n        </StyledInputDiv>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LogInScreen;\r\n\r\nconst Container = styled.div`\r\n  //  display: grid;\r\n  //   grid-template-rows: 1fr 1fr 1fr;\r\n  margin-top: 50px;\r\n  width: 50vw;\r\n  padding: 2vw;\r\n  min-height: 250px;\r\n  margin-bottom: 20px;\r\n  border: 2px solid black;\r\n  justify-self: center;\r\n  background-color: lightgoldenrodyellow;\r\n  border-radius: 50px;\r\n`;\r\n\r\nconst StyledHr = styled.hr`\r\n  margin-top: 5px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst StyledInputDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin-top: 50px;\r\n`;\r\n","const parseParams = (params = \"\") => {\r\n  let returnVal;\r\n  if (params.includes(\"?\")) {\r\n    const rawParams1 = params.split(\"=\");\r\n    return rawParams1[1];\r\n  }\r\n  return returnVal;\r\n};\r\n\r\nexport default parseParams;\r\n","import styled from \"styled-components\";\r\nimport React, { useEffect, useCallback } from \"react\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport { withRouter } from \"react-router\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getLocalParticipantName = (state) => state.localParticipantName;\r\nconst getLocalUsercode = (state) => state.localUsercode;\r\nconst getSetLocalParticipantName = (state) => state.setLocalParticipantName;\r\nconst getSetLocalUsercode = (state) => state.setLocalUsercode;\r\nconst getSetLocalPartIdWarning1 = (state) => state.setLocalPartIdWarning1;\r\nconst getSetLocalPartIdWarning2 = (state) => state.setLocalPartIdWarning2;\r\nconst getSetTriggerLocalSubmitSuccessModal = (state) =>\r\n  state.setTriggerLocalSubmitSuccessModal;\r\nconst getSetResults = (state) => state.setResults;\r\nconst getResults = (state) => state.results;\r\n\r\nconst LogInSubmitButton = (props) => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const localParticipantName = useStore(getLocalParticipantName);\r\n  const localUsercode = useStore(getLocalUsercode);\r\n  const setLocalParticipantName = useStore(getSetLocalParticipantName);\r\n  const setLocalUsercode = useStore(getSetLocalUsercode);\r\n  let setLocalPartIdWarning1 = useStore(getSetLocalPartIdWarning1);\r\n  let setLocalPartIdWarning2 = useStore(getSetLocalPartIdWarning2);\r\n  const setTriggerLocalSubmitSuccessModal = useStore(\r\n    getSetTriggerLocalSubmitSuccessModal\r\n  );\r\n  const setResults = useStore(getSetResults);\r\n  const results = useStore(getResults);\r\n\r\n  const localStartButtonText =\r\n    ReactHtmlParser(decodeHTML(langObj.localStartButtonText)) || \"\";\r\n\r\n  const checkForNextPageConditions = useCallback(() => {\r\n    let value0 = false;\r\n    let value1;\r\n    let value2;\r\n\r\n    if (localParticipantName.length === 0) {\r\n      value1 = false;\r\n      setLocalPartIdWarning1(true);\r\n    } else {\r\n      setLocalPartIdWarning1(false);\r\n      value1 = true;\r\n      localStorage.setItem(\"localParticipantName\", localParticipantName);\r\n    }\r\n\r\n    if (localUsercode.length === 0) {\r\n      value2 = false;\r\n      setLocalPartIdWarning2(true);\r\n    } else {\r\n      setLocalPartIdWarning2(false);\r\n      value2 = true;\r\n      localStorage.setItem(\"localUsercode\", localUsercode);\r\n    }\r\n\r\n    if (value1 === true && value2 === true) {\r\n      value0 = true;\r\n    } else {\r\n      value0 = false;\r\n    }\r\n\r\n    return value0;\r\n  }, [\r\n    setLocalPartIdWarning1,\r\n    setLocalPartIdWarning2,\r\n    localParticipantName,\r\n    localUsercode,\r\n  ]);\r\n\r\n  const {\r\n    history,\r\n    location,\r\n    match,\r\n    staticContext,\r\n    to,\r\n    onClick,\r\n    // ⬆ filtering out props that `button` doesn’t know what to do with.\r\n    ...rest\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    const handleKeyUpStart = (event) => {\r\n      // reset time stamp\r\n      setResults(results);\r\n\r\n      if (event.key === \"Enter\") {\r\n        let isInputComplete = checkForNextPageConditions();\r\n        if (isInputComplete) {\r\n          history.push(`/presort`);\r\n        }\r\n      }\r\n    }; // end keyup\r\n\r\n    window.addEventListener(\"keyup\", handleKeyUpStart);\r\n\r\n    return () => window.removeEventListener(\"keyup\", handleKeyUpStart);\r\n  }, [history, checkForNextPageConditions, results, setResults]);\r\n\r\n  useEffect(() => {\r\n    setLocalParticipantName(\"\");\r\n    setLocalUsercode(\"\");\r\n    setLocalPartIdWarning1(false);\r\n    setLocalPartIdWarning2(false);\r\n  }, [\r\n    setLocalPartIdWarning1,\r\n    setLocalPartIdWarning2,\r\n    setLocalParticipantName,\r\n    setLocalUsercode,\r\n  ]);\r\n\r\n  return (\r\n    <StyledSubmitButton\r\n      {...rest} // `children` is just another prop!\r\n      onClick={(event) => {\r\n        onClick && onClick(event);\r\n        let isInputComplete = checkForNextPageConditions();\r\n        if (isInputComplete) {\r\n          history.push(to);\r\n        }\r\n        setTriggerLocalSubmitSuccessModal(false);\r\n      }}\r\n      tabindex=\"3\"\r\n    >\r\n      {localStartButtonText}\r\n    </StyledSubmitButton>\r\n  );\r\n};\r\nexport default withRouter(LogInSubmitButton);\r\n\r\nconst StyledSubmitButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.5em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  height: 50px;\r\n  justify-self: right;\r\n  align-self: end;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\n\r\nconst LogInSubmitButton = (props) => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n\r\n  const localDeleteButtonText =\r\n    ReactHtmlParser(decodeHTML(langObj.localDeleteButtonText)) || \"\";\r\n\r\n  return (\r\n    <StyledSubmitButton tabindex=\"0\" type=\"submit\" onClick={props.onClick}>\r\n      {localDeleteButtonText}\r\n    </StyledSubmitButton>\r\n  );\r\n};\r\nexport default LogInSubmitButton;\r\n\r\nconst StyledSubmitButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.5em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: 200px;\r\n  height: 50px;\r\n  justify-self: right;\r\n  align-self: end;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\n\r\nconst LocalSortsDownloadButton = (props) => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n\r\n  const localDownloadButtonText =\r\n    ReactHtmlParser(decodeHTML(langObj.localDownloadButtonText)) || \"\";\r\n\r\n  return (\r\n    <StyledSubmitButton tabindex=\"0\" type=\"submit\" onClick={props.onClick}>\r\n      {localDownloadButtonText}\r\n    </StyledSubmitButton>\r\n  );\r\n};\r\nexport default LocalSortsDownloadButton;\r\n\r\nconst StyledSubmitButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.5em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  height: 50px;\r\n  justify-self: right;\r\n  align-self: end;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n","import create from \"zustand\";\r\nimport { persist } from \"zustand/middleware\";\r\n\r\nconst useLocalPersist = create(\r\n  persist(\r\n    (set, get) => ({\r\n      localStoredQsorts: {},\r\n      hasDownloadedQsorts: false,\r\n\r\n      setHasDownloadedQsorts: (inputValue) => {\r\n        set(() => ({ hasDownloadedQsorts: inputValue }));\r\n      },\r\n      setLocalStoredQsorts: (inputValue) => {\r\n        set(() => ({ localStoredQsorts: inputValue }));\r\n      },\r\n    }),\r\n    {\r\n      name: \"sorts-storage\", // unique name\r\n    }\r\n  )\r\n);\r\n\r\nexport default useLocalPersist;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useLocalPersist from \"../../globalState/useLocalPersist\";\r\n\r\n// const getSetterLocalQsorts = (state) => state.setLocalStoredQsorts;\r\nconst getLangObj = (state) => state.langObj;\r\nconst getSetLocalDeleteModal = (state) => state.setLocalDeleteModal;\r\nconst getLocalStoredQsorts = (state) => state.localStoredQsorts;\r\nconst getSetLocalStoredQsorts = (state) => state.setLocalStoredQsorts;\r\n\r\nconst LogInSubmitButton = (props) => {\r\n  // State\r\n  const setDisplayLocalDeleteModal = useStore(getSetLocalDeleteModal);\r\n  // const setLocalStoredQsorts = useStore(getSetterLocalQsorts);\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const setLocalStoredQsorts = useLocalPersist(getSetLocalStoredQsorts);\r\n  const localStoredQsorts = useLocalPersist(getLocalStoredQsorts);\r\n\r\n  const localDeleteButtonText =\r\n    ReactHtmlParser(decodeHTML(langObj.localDeleteButtonText)) || \"\";\r\n\r\n  const clearLocalStorage = () => {\r\n    console.log(\"deleted localStorage\");\r\n    // localStorage.setItem(\"localStoredQsorts\", JSON.stringify({}));\r\n    // setLocalStoredQsorts({});\r\n    const dateTime = `${new Date().getTime()}`;\r\n    localStorage.setItem(dateTime, JSON.stringify(localStoredQsorts));\r\n    setLocalStoredQsorts({});\r\n    setDisplayLocalDeleteModal(false);\r\n  };\r\n\r\n  return (\r\n    <StyledSubmitButton tabindex=\"0\" type=\"submit\" onClick={clearLocalStorage}>\r\n      {localDeleteButtonText}\r\n    </StyledSubmitButton>\r\n  );\r\n};\r\nexport default LogInSubmitButton;\r\n\r\nconst StyledSubmitButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.5em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: 200px;\r\n  height: 50px;\r\n  justify-self: right;\r\n  align-self: end;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: red;\r\n\r\n  &:hover {\r\n  }\r\n\r\n  &:focus {\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport LocalConfirmDeleteButton from \"./LocalConfirmDeleteButton\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerLocalDeleteModal = (state) => state.triggerLocalDeleteModal;\r\nconst getSetLocalDeleteModal = (state) => state.setLocalDeleteModal;\r\n\r\nconst LocalDeleteModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerLocalDeleteModal = useStore(getTriggerLocalDeleteModal);\r\n  const setLocalDeleteModal = useStore(getSetLocalDeleteModal);\r\n\r\n  const localDeleteModalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.localDeleteModalHead)) || \"\";\r\n  const localDeleteModalText =\r\n    ReactHtmlParser(decodeHTML(langObj.localDeleteModalText)) || \"\";\r\n\r\n  const onCloseModal = () => {\r\n    setLocalDeleteModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerLocalDeleteModal}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{localDeleteModalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{localDeleteModalText}</ModalContent>\r\n      <ButtonContainer>\r\n        <LocalConfirmDeleteButton />\r\n      </ButtonContainer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default LocalDeleteModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  justify-content: flex-end;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerSaveBeforeDeleteModal = (state) =>\r\n  state.triggerSaveBeforeDeleteModal;\r\nconst getSetTriggerSaveBeforeDeleteModal = (state) =>\r\n  state.setTriggerSaveBeforeDeleteModal;\r\n\r\nconst LocalDeleteModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerSaveBeforeDeleteModal = useStore(\r\n    getTriggerSaveBeforeDeleteModal\r\n  );\r\n  const setTriggerSaveBeforeDeleteModal = useStore(\r\n    getSetTriggerSaveBeforeDeleteModal\r\n  );\r\n\r\n  const localDeleteModalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.localSaveBeforeDeleteModalHeader)) || \"\";\r\n  const localDeleteModalText =\r\n    ReactHtmlParser(decodeHTML(langObj.localSaveBeforeDeleteModalText)) || \"\";\r\n\r\n  const onCloseModal = () => {\r\n    setTriggerSaveBeforeDeleteModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerSaveBeforeDeleteModal}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{localDeleteModalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{localDeleteModalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default LocalDeleteModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport LocalStartButton from \"./LocalStartButton\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport LocalDeleteButton from \"./LocalDeleteButton\";\r\nimport LocalSortsDownloadButton from \"./LocalSortsDownloadButton\";\r\nimport LocalDeleteModal from \"./LocalDeleteModal\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useLocalPersist from \"../../globalState/useLocalPersist\";\r\nimport LocalSaveBeforeDeleteModal from \"./LocalSaveBeforeDeleteModal\";\r\n\r\nfunction downloadObjectAsJson(exportObj, exportName) {\r\n  console.log(\"download called\");\r\n  var dataStr =\r\n    \"data:text/json;charset=utf-8,\" +\r\n    encodeURIComponent(JSON.stringify(exportObj));\r\n  var downloadAnchorNode = document.createElement(\"a\");\r\n  downloadAnchorNode.setAttribute(\"href\", dataStr);\r\n  downloadAnchorNode.setAttribute(\"download\", exportName + \".json\");\r\n  document.body.appendChild(downloadAnchorNode); // required for firefox\r\n  downloadAnchorNode.click();\r\n  downloadAnchorNode.remove();\r\n}\r\n\r\nconst getDisplayLocalPartIdWarn1 = (state) => state.displayLocalPartIdWarning1;\r\nconst getSetLocalPartIdWarning1 = (state) => state.setLocalPartIdWarning1;\r\nconst getDisplayLocalPartIdWarn2 = (state) => state.displayLocalPartIdWarning2;\r\nconst getSetLocalPartIdWarning2 = (state) => state.setLocalPartIdWarning2;\r\nconst getSetLocalDeleteModal = (state) => state.setLocalDeleteModal;\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getSetLocalParticipantName = (state) => state.setLocalParticipantName;\r\nconst getSetLocalUsercode = (state) => state.setLocalUsercode;\r\nconst getLocalStoredQsorts = (state) => state.localStoredQsorts;\r\nconst getSetHasDownloadedQsorts = (state) => state.setHasDownloadedQsorts;\r\nconst getHasDownloadedQsorts = (state) => state.hasDownloadedQsorts;\r\nconst getSetTriggerSaveBeforeDeleteModal = (state) =>\r\n  state.setTriggerSaveBeforeDeleteModal;\r\n\r\nconst LogInScreen = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const displayPartIdWarning1 = useStore(getDisplayLocalPartIdWarn1);\r\n  const setLocalPartIdWarning1 = useStore(getSetLocalPartIdWarning1);\r\n  const displayPartIdWarning2 = useStore(getDisplayLocalPartIdWarn2);\r\n  const setLocalPartIdWarning2 = useStore(getSetLocalPartIdWarning2);\r\n  const setLocalDeleteModal = useStore(getSetLocalDeleteModal);\r\n  const setLocalParticipantName = useStore(getSetLocalParticipantName);\r\n  const setLocalUsercode = useStore(getSetLocalUsercode);\r\n  const localStoredQsorts = useLocalPersist(getLocalStoredQsorts);\r\n  const hasDownloadedQsorts = useLocalPersist(getHasDownloadedQsorts);\r\n  const setHasDownloadedQsorts = useLocalPersist(getSetHasDownloadedQsorts);\r\n  const setTriggerSaveBeforeDeleteModal = useStore(\r\n    getSetTriggerSaveBeforeDeleteModal\r\n  );\r\n\r\n  const loginHeaderText =\r\n    ReactHtmlParser(decodeHTML(langObj.localHeader)) || \"\";\r\n  const loginPartIdText = ReactHtmlParser(decodeHTML(langObj.partIdText)) || \"\";\r\n  const partIdWarning =\r\n    ReactHtmlParser(decodeHTML(langObj.partIdWarning)) || \"\";\r\n  const usercodeText = ReactHtmlParser(decodeHTML(langObj.usercodeText)) || \"\";\r\n  const localParticipantsText =\r\n    ReactHtmlParser(decodeHTML(langObj.localParticipantsText)) || \"\";\r\n  const storedQsortsHeaderText =\r\n    ReactHtmlParser(decodeHTML(langObj.storedQsortsHeaderText)) || \"\";\r\n\r\n  const headerText = `${storedQsortsHeaderText}: ${\r\n    Object.keys(localStoredQsorts).length\r\n  } ${localParticipantsText}`;\r\n\r\n  const handleInput = (e) => {\r\n    setLocalParticipantName(e.target.value);\r\n    setLocalPartIdWarning1(false);\r\n  };\r\n\r\n  const handleUsercodeInput = (e) => {\r\n    setLocalUsercode(e.target.value);\r\n    // in case there is any value lingering from testing other setup targets\r\n    localStorage.setItem(\"urlUsercode\", \"\");\r\n    setLocalPartIdWarning2(false);\r\n  };\r\n\r\n  const handleDeleteLocal = (e) => {\r\n    // console.log(hasDownloadedQsorts);\r\n    if (hasDownloadedQsorts) {\r\n      setLocalDeleteModal(true);\r\n    } else {\r\n      // console.log(\"false branch\");\r\n      setTriggerSaveBeforeDeleteModal(true);\r\n    }\r\n  };\r\n\r\n  const handleDownloadLocal = (e) => {\r\n    // console.log(JSON.stringify(localStoredQsorts));\r\n    const studyTitle = configObj.studyTitle;\r\n    const myDate = new Date();\r\n    const myDateString =\r\n      (\"0\" + myDate.getFullYear()).slice(-2) +\r\n      \"-\" +\r\n      (\"0\" + (myDate.getMonth() + 1)).slice(-2) +\r\n      \"-\" +\r\n      myDate.getDate() +\r\n      \"_\" +\r\n      (\"0\" + myDate.getHours()).slice(-2) +\r\n      \"-\" +\r\n      (\"0\" + myDate.getMinutes()).slice(-2) +\r\n      \"-\" +\r\n      (\"0\" + myDate.getSeconds()).slice(-2);\r\n\r\n    const exportName = studyTitle + \"_\" + myDateString;\r\n    if (Object.keys(localStoredQsorts).length > 0) {\r\n      downloadObjectAsJson(localStoredQsorts, exportName);\r\n    }\r\n    setHasDownloadedQsorts(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <LocalDeleteModal />\r\n        <LocalSaveBeforeDeleteModal />\r\n        <div>\r\n          <h2>{loginHeaderText}</h2>\r\n          <StyledHr />\r\n        </div>\r\n\r\n        <div>\r\n          <h3>{loginPartIdText}</h3>\r\n          <StyledInputDiv>\r\n            <StyledInput tabindex=\"0\" onChange={handleInput} type=\"text\" />\r\n            {displayPartIdWarning1 && (\r\n              <WarningText>{partIdWarning}</WarningText>\r\n            )}\r\n          </StyledInputDiv>\r\n        </div>\r\n        <div>\r\n          {\" \"}\r\n          <h3>{usercodeText}</h3>\r\n          <StyledInputDiv>\r\n            <StyledInput\r\n              tabindex=\"1\"\r\n              onChange={handleUsercodeInput}\r\n              type=\"text\"\r\n            />\r\n            {displayPartIdWarning2 && (\r\n              <WarningText>{partIdWarning}</WarningText>\r\n            )}\r\n          </StyledInputDiv>\r\n        </div>\r\n        <LocalStartButton tabindex=\"3\" to={`/presort`} />\r\n      </Container>\r\n      <Container2>\r\n        <StoredHeader>\r\n          <div>{headerText}</div>\r\n        </StoredHeader>\r\n        <ButtonContainer>\r\n          <LocalDeleteButton onClick={handleDeleteLocal}>\r\n            Delete\r\n          </LocalDeleteButton>\r\n          <LocalSortsDownloadButton onClick={handleDownloadLocal}>\r\n            Download\r\n          </LocalSortsDownloadButton>\r\n        </ButtonContainer>\r\n      </Container2>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LogInScreen;\r\n\r\nconst Container = styled.div`\r\n  display: grid;\r\n  grid-template-rows: 1fr 1fr 1fr 1fr;\r\n  margin-top: 10px;\r\n  width: 70vw;\r\n  padding: 1.5vw;\r\n  min-height: 350px;\r\n  margin-bottom: 0px;\r\n  border: 2px solid black;\r\n  border-top-right-radius: 10px;\r\n  border-top-left-radius: 10px;\r\n  justify-self: center;\r\n  background-color: whitesmoke;\r\n`;\r\n\r\nconst Container2 = styled.div`\r\n  display: grid;\r\n  grid-template-rows: 1fr 1fr;\r\n  margin-top: 0px;\r\n  width: 70vw;\r\n  padding: 1.5vw;\r\n  min-height: 100px;\r\n  margin-bottom: 100px;\r\n  border-right: 2px solid black;\r\n  border-left: 2px solid black;\r\n  border-bottom: 2px solid black;\r\n  border-bottom-right-radius: 10px;\r\n  border-bottom-left-radius: 10px;\r\n  justify-self: center;\r\n  background-color: whitesmoke;\r\n`;\r\n\r\nconst StyledHr = styled.hr`\r\n  margin-top: 5px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  margin-top: 5px;\r\n  width: 400px;\r\n  height: 30px;\r\n  font-size: 1.4em;\r\n  padding-left: 5px;\r\n`;\r\n\r\nconst StyledInputDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst WarningText = styled.div`\r\n  color: red;\r\n  font-weight: bold;\r\n  font-size: 1.4em;\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst StoredHeader = styled.div`\r\n  font-size: 25px;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n`;\r\n","import React, { useEffect } from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport calculateTimeOnPage from \"../../utilities/calculateTimeOnPage\";\r\nimport LandingModal from \"../landing/LandingModal\";\r\nimport LogInScreen from \"./LogInScreen\";\r\nimport PartIdScreen from \"./PartIdScreen\";\r\nimport AccessCodeScreen from \"./AccessCodeScreen\";\r\nimport checkForIeBrowser from \"./checkForIeBrowser\";\r\nimport InternetExplorerWarning from \"./InternetExplorerWarning\";\r\nimport parseParams from \"./parseParams\";\r\nimport LocalStart from \"./LocalStart\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n// import detectMobileBrowser from \"../../utilities/detectMobileBrowser\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getDataLoaded = (state) => state.dataLoaded;\r\nconst getSetCurrentPage = (state) => state.setCurrentPage;\r\nconst getSetProgressScore = (state) => state.setProgressScore;\r\nconst getSetUrlUsercode = (state) => state.setUrlUsercode;\r\nconst getDisplayLandingContent = (state) => state.displayLandingContent;\r\nconst getSetDisplayNextButton = (state) => state.setDisplayNextButton;\r\nconst getMapObject = (state) => state.mapObj;\r\nconst getSetPostsortCommentCheckObj = (state) =>\r\n  state.setPostsortCommentCheckObj;\r\nconst getSetCardFontSizeSort = (state) => state.setCardFontSizeSort;\r\nconst getSetCardFontSizePostsort = (state) => state.setCardFontSizePostsort;\r\nconst getSetMinCardHeightSort = (state) => state.setMinCardHeightSort;\r\nconst getSetMinCardHeightPostsort = (state) => state.setMinCardHeightPostsort;\r\n\r\nconst LandingPage = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const mapObj = useSettingsStore(getMapObject);\r\n  const dataLoaded = useStore(getDataLoaded);\r\n  const setCurrentPage = useStore(getSetCurrentPage);\r\n  const setProgressScore = useStore(getSetProgressScore);\r\n  const setUrlUsercode = useStore(getSetUrlUsercode);\r\n  let displayLandingContent = useStore(getDisplayLandingContent);\r\n  const setDisplayNextButton = useStore(getSetDisplayNextButton);\r\n  const setPostsortCommentCheckObj = useStore(getSetPostsortCommentCheckObj);\r\n  const headerBarColor = configObj.headerBarColor;\r\n  const landingHead = ReactHtmlParser(decodeHTML(langObj.landingHead)) || \"\";\r\n  const welcomeTextHtml =\r\n    ReactHtmlParser(decodeHTML(langObj.welcomeText)) || \"\";\r\n  const setCardFontSizeSort = useStore(getSetCardFontSizeSort);\r\n  const setCardFontSizePostsort = useStore(getSetCardFontSizePostsort);\r\n  const setMinCardHeightSort = useStore(getSetMinCardHeightSort);\r\n  const setMinCardHeightPostsort = useStore(getSetMinCardHeightPostsort);\r\n  // const mobileWelcomeTextHtml =\r\n  //   ReactHtmlParser(decodeHTML(langObj?.mobileWelcomeText)) || \"\";\r\n  // calc time on page\r\n  useEffect(() => {\r\n    const startTime = Date.now();\r\n    setProgressScore(10);\r\n    setCurrentPage(\"landing\");\r\n    localStorage.setItem(\"currentPage\", \"landing\");\r\n    return () => {\r\n      // will persist in localStorage\r\n      calculateTimeOnPage(startTime, \"landingPage\", \"landingPage\");\r\n    };\r\n  }, [setCurrentPage, setProgressScore]);\r\n\r\n  let archive;\r\n  if (localStorage.getItem(\"resultsSurveyArchive\" !== undefined)) {\r\n    archive = JSON.parse(localStorage.getItem(\"resultsSurveyArchive\"));\r\n  }\r\n\r\n  let surveyResults;\r\n  if (localStorage.getItem(\"resultsSurvey\" !== undefined)) {\r\n    surveyResults = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n  }\r\n\r\n  if (\r\n    (surveyResults && configObj.showSurvey === \"true\") ||\r\n    configObj.showSurvey === true\r\n  ) {\r\n    console.log(archive);\r\n    console.log(configObj.requiredAnswersObj);\r\n  }\r\n\r\n  const isLandingReload = localStorage.getItem(\"currentPage\");\r\n  if (isLandingReload === \"landing\") {\r\n    // localStorage.clear();\r\n\r\n    // clear local storage if previous sorts exist\r\n    localStorage.removeItem(\"columns\");\r\n    localStorage.removeItem(\"sortColumns\");\r\n    localStorage.removeItem(\"columnStatements\");\r\n    localStorage.removeItem(\"presortSortedCards\");\r\n    localStorage.removeItem(\"HC-requiredCommentsObj\");\r\n    localStorage.removeItem(\"LC-requiredCommentsObj\");\r\n    localStorage.removeItem(\"HC2-requiredCommentsObj\");\r\n    localStorage.removeItem(\"LC2-requiredCommentsObj\");\r\n    localStorage.removeItem(\"cumulativelandingPageDuration\");\r\n    localStorage.removeItem(\"cumulativepresortPageDuration\");\r\n    localStorage.removeItem(\"cumulativesortPageDuration\");\r\n    localStorage.removeItem(\"cumulativepostsortPageDuration\");\r\n    localStorage.removeItem(\"cumulativesurveyPageDuration\");\r\n    localStorage.removeItem(\"lastAccesslandingPage\");\r\n    localStorage.removeItem(\"lastAccesspresortPage\");\r\n    localStorage.removeItem(\"lastAccesssortPage\");\r\n    localStorage.removeItem(\"lastAccesspostsortPage\");\r\n    localStorage.removeItem(\"lastAccesssurveyPage\");\r\n    localStorage.removeItem(\"timeOnlandingPage\");\r\n    localStorage.removeItem(\"timeOnpresortPage\");\r\n    localStorage.removeItem(\"timeOnsortPage\");\r\n    localStorage.removeItem(\"timeOnpostsortPage\");\r\n    localStorage.removeItem(\"timeOnsurveyPage\");\r\n    localStorage.removeItem(\"resultsPresort\");\r\n    localStorage.removeItem(\"resultsSort\");\r\n    localStorage.removeItem(\"resultsPostsort\");\r\n    localStorage.removeItem(\"resultsSurvey\");\r\n    localStorage.removeItem(\"postsortCommentCardCount\");\r\n    localStorage.removeItem(\"allCommentsObj\");\r\n\r\n    if (configObj.requiredAnswersObj !== undefined) {\r\n      localStorage.setItem(\r\n        \"resultsSurvey\",\r\n        JSON.stringify(configObj.requiredAnswersObj)\r\n      );\r\n\r\n      let keys = Object.keys(configObj.requiredAnswersObj);\r\n      keys.forEach((key, index) => {\r\n        let varName = `itemNum${index + 1}`;\r\n        localStorage.removeItem(varName);\r\n        localStorage.removeItem(key);\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // display \"Next\" button if anonymous log in\r\n    if (configObj.initialScreen === \"anonymous\") {\r\n      setDisplayNextButton(true);\r\n    }\r\n\r\n    // PRESORT font\r\n    if (\r\n      configObj.setDefaultFontSizePresort === \"true\" ||\r\n      configObj.setDefaultFontSizePresort === true\r\n    ) {\r\n      localStorage.setItem(\"fontSizePresort\", configObj.defaultFontSizePresort);\r\n    }\r\n\r\n    // SORT font\r\n    if (\r\n      configObj.setDefaultFontSizeSort === \"true\" ||\r\n      configObj.setDefaultFontSizeSort === true\r\n    ) {\r\n      localStorage.setItem(\"fontSizeSort\", configObj.defaultFontSizeSort);\r\n    }\r\n\r\n    // SORT card height\r\n    if (\r\n      configObj.setMinCardHeightSort === \"true\" ||\r\n      configObj.setMinCardHeightSort === true\r\n    ) {\r\n      localStorage.setItem(\"cardHeightSort\", configObj.minCardHeightSort);\r\n    }\r\n\r\n    // POSTSORT font\r\n    if (\r\n      configObj.setDefaultFontSizePostsort === \"true\" ||\r\n      configObj.setDefaultFontSizePostsort === true\r\n    ) {\r\n      setCardFontSizePostsort(configObj.defaultFontSizePostsort);\r\n      localStorage.setItem(\r\n        \"fontSizePostsort\",\r\n        configObj.defaultFontSizePostsort\r\n      );\r\n    }\r\n\r\n    // POSTSORT card height\r\n    if (\r\n      configObj.setMinCardHeightPostsort === \"true\" ||\r\n      configObj.setMinCardHeightPostsort === true\r\n    ) {\r\n      setMinCardHeightPostsort(configObj.minCardHeightPostsort);\r\n      localStorage.setItem(\r\n        \"cardHeightPostsort\",\r\n        configObj.minCardHeightPostsort\r\n      );\r\n    }\r\n\r\n    // set participant Id if set in URL\r\n    let urlString = parseParams(window.location.href);\r\n    // if nothing in URL, check local storage\r\n    if (urlString === undefined || urlString === null) {\r\n      let urlName = localStorage.getItem(\"urlUsercode\");\r\n      // if nothing in local storage, set to \"not_set\"\r\n      if (\r\n        urlName === null ||\r\n        urlName === undefined ||\r\n        urlName === \"undefined\"\r\n      ) {\r\n        console.log(\"no url usercode in storage\");\r\n        setUrlUsercode(\"not_set\");\r\n        localStorage.setItem(\"urlUsercode\", \"not_set\");\r\n      } else {\r\n        // if something in local storage, set state\r\n        console.log(\"URL usercode from storage: \", urlName);\r\n        if (urlName === \"not_set\") {\r\n          setUrlUsercode(\"not_set\");\r\n        } else {\r\n          setUrlUsercode(`${urlName} (stored)`);\r\n        }\r\n      }\r\n    } else {\r\n      // if something in URL, set it in state\r\n      let codeName = urlString;\r\n      codeName = codeName.replace(/\\/|#/g, \"\");\r\n      console.log(\"URL usercode: \", codeName);\r\n      setUrlUsercode(codeName);\r\n      localStorage.setItem(\"urlUsercode\", codeName);\r\n    }\r\n  }, [\r\n    setUrlUsercode,\r\n    configObj.initialScreen,\r\n    configObj.setDefaultFontSize,\r\n    configObj.defaultFontSize,\r\n    setDisplayNextButton,\r\n    mapObj,\r\n    setCardFontSizeSort,\r\n    setCardFontSizePostsort,\r\n    setMinCardHeightSort,\r\n    setMinCardHeightPostsort,\r\n    configObj,\r\n  ]);\r\n\r\n  // setup postsort comments object\r\n  useEffect(() => {\r\n    let objectKeys = Object.keys(mapObj.qSortPattern);\r\n    let mostPos = Math.max(...objectKeys);\r\n    let mostNeg = Math.min(...objectKeys);\r\n    let MostPos2 = mostPos - 1;\r\n    let MostNeg2 = mostNeg + 1;\r\n    let highVal = mapObj.qSortPattern[mostPos];\r\n    let highVal2 = mapObj.qSortPattern[MostPos2];\r\n    let lowVal = mapObj.qSortPattern[mostNeg];\r\n    let lowVal2 = mapObj.qSortPattern[MostNeg2];\r\n    let showSecondMostPos = configObj.showSecondPosColumn;\r\n    let showSecondMostNeg = configObj.showSecondNegColumn;\r\n    const postsortCommentCheckObj = {};\r\n    for (let i = 0; i < highVal; i++) {\r\n      let key = `hc-${i}`;\r\n      postsortCommentCheckObj[key] = false;\r\n    }\r\n    for (let j = 0; j < lowVal; j++) {\r\n      let key = `lc-${j}`;\r\n      postsortCommentCheckObj[key] = false;\r\n    }\r\n    if (showSecondMostPos === \"true\" || showSecondMostPos === true) {\r\n      for (let k = 0; k < highVal2; k++) {\r\n        let key = `hc2-${k}`;\r\n        postsortCommentCheckObj[key] = false;\r\n      }\r\n    }\r\n    if (showSecondMostNeg === \"true\" || showSecondMostNeg === true) {\r\n      for (let l = 0; l < lowVal2; l++) {\r\n        let key = `lc2-${l}`;\r\n        postsortCommentCheckObj[key] = false;\r\n      }\r\n    }\r\n    setPostsortCommentCheckObj(postsortCommentCheckObj);\r\n  }, [mapObj, configObj, setPostsortCommentCheckObj]);\r\n\r\n  // check for complete\r\n  let displayLogInScreen = false;\r\n  let displayPartIdScreen = false;\r\n  let displayAccessCodeScreen = false;\r\n\r\n  if (configObj.setupTarget === \"local\") {\r\n    return (\r\n      <>\r\n        {dataLoaded && (\r\n          <ContainerDiv>\r\n            <LocalStart />\r\n          </ContainerDiv>\r\n        )}\r\n      </>\r\n    );\r\n  } else {\r\n    // determine access mode\r\n    const initialScreenSetting = configObj.initialScreen;\r\n    if (initialScreenSetting === \"anonymous\") {\r\n      displayLandingContent = true;\r\n    }\r\n    if (\r\n      initialScreenSetting === \"partId-access\" &&\r\n      displayLandingContent === false\r\n    ) {\r\n      displayLogInScreen = true;\r\n    }\r\n    if (initialScreenSetting === \"partId\" && displayLandingContent === false) {\r\n      displayPartIdScreen = true;\r\n    }\r\n    if (initialScreenSetting === \"access\" && displayLandingContent === false) {\r\n      displayAccessCodeScreen = true;\r\n    }\r\n\r\n    // if isIE, hide all content except warning.\r\n    let isIeBrowser = checkForIeBrowser();\r\n    if (isIeBrowser) {\r\n      displayLandingContent = false;\r\n      displayLogInScreen = false;\r\n      displayAccessCodeScreen = false;\r\n      displayPartIdScreen = false;\r\n    }\r\n\r\n    // if (\r\n    //   configObj.useMobileMode === true ||\r\n    //   configObj.useMobileMode === \"true\"\r\n    // ) {\r\n    //   let isMobile = detectMobileBrowser();\r\n\r\n    //   if (isMobile) {\r\n    //     return (\r\n    //       <React.Fragment>\r\n    //         {dataLoaded && (\r\n    //           <React.Fragment>\r\n    //             <MobileSortTitleBar background={headerBarColor}>\r\n    //               {landingHead}\r\n    //             </MobileSortTitleBar>\r\n    //             <MobileContainerDiv>\r\n    //               <MobileContentDiv>\r\n    //                 <div>{mobileWelcomeTextHtml}</div>\r\n    //               </MobileContentDiv>\r\n    //             </MobileContainerDiv>\r\n    //           </React.Fragment>\r\n    //         )}\r\n    //       </React.Fragment>\r\n    //     );\r\n    //   }\r\n    // }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {dataLoaded && (\r\n          <React.Fragment>\r\n            <SortTitleBar background={headerBarColor}>\r\n              {landingHead}\r\n            </SortTitleBar>\r\n            <LandingModal />\r\n            <ContainerDiv>\r\n              {isIeBrowser && <InternetExplorerWarning />}\r\n              {displayLogInScreen && <LogInScreen />}\r\n              {displayPartIdScreen && <PartIdScreen />}\r\n              {displayAccessCodeScreen && <AccessCodeScreen />}\r\n              {displayLandingContent && (\r\n                <ContentDiv>\r\n                  <div>{welcomeTextHtml}</div>\r\n                </ContentDiv>\r\n              )}\r\n            </ContainerDiv>\r\n          </React.Fragment>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n};\r\n\r\nexport default LandingPage;\r\n\r\nconst fadeIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst fadeOut = keyframes`\r\n  from {\r\n    opacity: 1;\r\n  }\r\n\r\n  to {\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\nconst ContainerDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-bottom: 70px;\r\n  padding-top: 50px;\r\n  transition: 0.3s ease all;\r\n  margin-top: 50px;\r\n\r\n  img {\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n  }\r\n  iframe {\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nconst MobileContainerDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-bottom: 70px;\r\n  padding-top: 50px;\r\n  transition: 0.3s ease all;\r\n  margin-top: 50px;\r\n\r\n  img {\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n  }\r\n  iframe {\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nconst ContentDiv = styled.div`\r\n  display: flex;\r\n  width: 75vw;\r\n  font-size: 1.25em;\r\n  visibility: ${(props) => (props.view ? \"hidden\" : \"visible\")};\r\n  animation: ${(props) => (props.view ? fadeOut : fadeIn)} 0.5s linear;\r\n  transition: visibility 0.5s linear;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst MobileContentDiv = styled.div`\r\n  display: flex;\r\n  width: 75vw;\r\n  font-size: 3.1vh;\r\n  visibility: ${(props) => (props.view ? \"hidden\" : \"visible\")};\r\n  animation: ${(props) => (props.view ? fadeOut : fadeIn)} 0.5s linear;\r\n  transition: visibility 0.5s linear;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst SortTitleBar = styled.div`\r\n  width: 100vw;\r\n  padding-left: 1.5vw;\r\n  padding-right: 1.5vw;\r\n  padding-top: 8px;\r\n  min-height: 50px;\r\n  background-color: ${(props) => props.background};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n  position: fixed;\r\n  top: 0;\r\n`;\r\n\r\nconst MobileSortTitleBar = styled.div`\r\n  width: 100vw;\r\n  padding-left: 1.5vw;\r\n  padding-right: 1.5vw;\r\n  padding-top: 8px;\r\n  min-height: 50px;\r\n  background-color: ${(props) => props.background};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  position: fixed;\r\n  top: 0;\r\n`;\r\n","const sanitizeString = (string) => {\r\n  try {\r\n    let shouldDoReplace = string.includes(\"<\");\r\n    let shouldDoReplace2 = string.includes(\">\");\r\n\r\n    if (shouldDoReplace === true || shouldDoReplace2 === true) {\r\n      const replaceLeft = /</gi;\r\n      const replaceRight = />/gi;\r\n      const stringText2 = string.replace(replaceLeft, \"&lt\");\r\n      const stringText3 = stringText2.replace(replaceRight, \"&gt\");\r\n      return stringText3;\r\n    } else {\r\n      return string;\r\n    }\r\n  } catch (error) {\r\n    console.log(\"There was an error sanitizing User Input\");\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport default sanitizeString;\r\n","import { useState } from \"react\";\r\n\r\nfunction useLocalStorage(key, initialValue) {\r\n  // State to store our value\r\n  // Pass initial state function to useState so logic is only executed once\r\n  const [storedValue, setStoredValue] = useState(() => {\r\n    try {\r\n      // Get from local storage by key\r\n      const item = window.localStorage.getItem(key);\r\n      // Parse stored json or if none return initialValue\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      // If error also return initialValue\r\n      console.log(error);\r\n      return initialValue;\r\n    }\r\n  });\r\n  // Return a wrapped version of useState's setter function that ...\r\n  // ... persists the new value to localStorage.\r\n  const setValue = (value) => {\r\n    try {\r\n      // Allow value to be a function so we have same API as useState\r\n      const valueToStore =\r\n        value instanceof Function ? value(storedValue) : value;\r\n      // Save state\r\n      setStoredValue(valueToStore);\r\n      // Save to local storage\r\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n    } catch (error) {\r\n      // A more advanced implementation would handle the error case\r\n      console.log(error);\r\n    }\r\n  };\r\n  return [storedValue, setValue];\r\n}\r\n\r\nexport default useLocalStorage;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport sanitizeString from \"../../utilities/sanitizeString\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\n\r\n/* eslint react/prop-types: 0 */\r\n\r\n// format example ===> {high: [\"column4\"], middle: [\"column0\"], low: [\"columnN4\"]}\r\n\r\nconst getPostsortCommentCheckObj = (state) => state.postsortCommentCheckObj;\r\nconst getSetPostsortCommentCheckObj = (state) =>\r\n  state.setPostsortCommentCheckObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getShowPostsortCommentHighlighting = (state) =>\r\n  state.showPostsortCommentHighlighting;\r\nconst getPostsortDualImageArray = (state) => state.postsortDualImageArray;\r\nconst getSetPostsortDualImageArray = (state) => state.setPostsortDualImageArray;\r\n\r\nconst LowCards = (props) => {\r\n  // HELPER FUNCTION\r\n  const asyncLocalStorage = {\r\n    async setItem(key, value) {\r\n      await null;\r\n      return localStorage.setItem(key, value);\r\n    },\r\n  };\r\n\r\n  // LOCAL STATE\r\n  const [openImageModal, setOpenImageModal] = useState(false);\r\n  const [imageSource, setImageSource] = useState(\"\");\r\n  const [openDualImageModal, setOpenDualImageModal] = useState(false);\r\n\r\n  // PERSISTED STATE\r\n  const columnStatements = JSON.parse(localStorage.getItem(\"sortColumns\"));\r\n  const [requiredCommentsObject, setRequiredCommentsObject] = useLocalStorage(\r\n    \"LC-requiredCommentsObj\",\r\n    {}\r\n  );\r\n\r\n  // GLOBAL STATE\r\n  const postsortCommentCheckObj = useStore(getPostsortCommentCheckObj);\r\n  const setPostsortCommentCheckObj = useStore(getSetPostsortCommentCheckObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const showPostsortCommentHighlighting = useStore(\r\n    getShowPostsortCommentHighlighting\r\n  );\r\n  const postsortDualImageArray = useStore(getPostsortDualImageArray);\r\n  const setPostsortDualImageArray = useStore(getSetPostsortDualImageArray);\r\n\r\n  const { height, width, cardFontSize, disagreeObj } = props;\r\n  const lowCards = columnStatements.vCols[disagreeObj.columnDisplay];\r\n  const { disagreeText, placeholder } = disagreeObj;\r\n  let columnDisplay = disagreeObj.columnDisplay;\r\n\r\n  // on double click of card, enlarge image\r\n  const handleOpenImageModal = (e, src) => {\r\n    if (e.detail === 2) {\r\n      if (e.shiftKey) {\r\n        postsortDualImageArray.push(e.target.src);\r\n        setPostsortDualImageArray(postsortDualImageArray);\r\n        if (postsortDualImageArray.length === 2) {\r\n          setOpenDualImageModal(true);\r\n        }\r\n      } else {\r\n        setImageSource(e.target.src);\r\n        setOpenImageModal(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  // on change, get text and add comment to card object\r\n  const onChange = (event, itemId) => {\r\n    const results = JSON.parse(localStorage.getItem(\"resultsPostsort\")) || {};\r\n    let allCommentsObj =\r\n      JSON.parse(localStorage.getItem(\"allCommentsObj\")) || {};\r\n\r\n    // set comment check object for Results formatting on Submit page\r\n    let commentLength = event.target.value.length;\r\n    if (commentLength > 0) {\r\n      postsortCommentCheckObj[`lc-${itemId}`] = true;\r\n      setPostsortCommentCheckObj(postsortCommentCheckObj);\r\n      // setCommentCheckObj({ ...postsortCommentCheckObj });\r\n    } else {\r\n      postsortCommentCheckObj[`lc-${itemId}`] = false;\r\n      setPostsortCommentCheckObj(postsortCommentCheckObj);\r\n      // setCommentCheckObj({ ...postsortCommentCheckObj });\r\n    }\r\n    const cards = columnStatements.vCols[disagreeObj.columnDisplay];\r\n    const targetCard = event.target.id;\r\n    const userEnteredText = event.target.value;\r\n    const identifier = `${columnDisplay}_${itemId}`;\r\n\r\n    // to update just the card that changed\r\n    // results format  ===> { column3_1: \"(image3) yes I think so\" }\r\n    cards.map((el) => {\r\n      if (el.id === targetCard) {\r\n        const comment3 = userEnteredText;\r\n        // remove new line and commas to make csv export easier\r\n        const comment2 = comment3.replace(/\\n/g, \" \");\r\n        const comment = comment2.replace(/,/g, \" \").trim();\r\n        // assign to main data object for confirmation / debugging\r\n        if (comment.length > 0) {\r\n          el.comment = sanitizeString(comment);\r\n          // assign to comments object\r\n\r\n          results[identifier] = `(${el.id}) ${comment}`;\r\n          // setup persistence for comments\r\n          allCommentsObj[identifier] = `(${el.id}) ${comment}`;\r\n          allCommentsObj[\r\n            `textArea-${columnDisplay}_${itemId + 1}`\r\n          ] = `${comment}`;\r\n          setRequiredCommentsObject((requiredCommentsObject) => {\r\n            return { ...requiredCommentsObject, [`lc-${itemId}`]: true };\r\n          });\r\n        } else {\r\n          el.comment = \"\";\r\n          results[identifier] = \"\";\r\n          allCommentsObj[identifier] = \"\";\r\n          allCommentsObj[`textArea-${columnDisplay}_${itemId + 1}`] = \"\";\r\n          setRequiredCommentsObject((requiredCommentsObject) => {\r\n            return { ...requiredCommentsObject, [`lc-${itemId}`]: false };\r\n          });\r\n        }\r\n      }\r\n      return el;\r\n    });\r\n    asyncLocalStorage.setItem(\"allCommentsObj\", JSON.stringify(allCommentsObj));\r\n    asyncLocalStorage.setItem(\"resultsPostsort\", JSON.stringify(results));\r\n  }; // end onBlur\r\n\r\n  // MAP cards to DOM\r\n  return lowCards.map((item, index) => {\r\n    let content = ReactHtmlParser(`<div>${decodeHTML(item.statement)}</div>`);\r\n    let allCommentsObj =\r\n      JSON.parse(localStorage.getItem(\"allCommentsObj\")) || {};\r\n    let cardComment =\r\n      allCommentsObj[`textArea-${columnDisplay}_${+index + 1}`] || \"\";\r\n\r\n    if (configObj.useImages === true) {\r\n      content = ReactHtmlParser(\r\n        `<img src=\"${item.element.props.src}\" style=\"pointer-events: all\" alt=${item.element.props.alt} />`\r\n      );\r\n    }\r\n\r\n    let highlighting = true;\r\n    if (\r\n      configObj.postsortCommentsRequired === \"true\" ||\r\n      configObj.postsortCommentsRequired === true\r\n    ) {\r\n      if (showPostsortCommentHighlighting === true) {\r\n        highlighting = requiredCommentsObject[`lc-${index}`];\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Container key={item.statement}>\r\n        <Modal\r\n          open={openImageModal}\r\n          center\r\n          onClose={() => setOpenImageModal(false)}\r\n          classNames={{\r\n            modal: `${configObj.imageFormat}`,\r\n            overlay: \"dualImageOverlay\",\r\n          }}\r\n        >\r\n          <img src={imageSource} width=\"100%\" height=\"auto\" alt=\"modalImage\" />\r\n        </Modal>\r\n        <Modal\r\n          open={openDualImageModal}\r\n          center\r\n          onClose={() => {\r\n            setOpenDualImageModal(false);\r\n            setPostsortDualImageArray([]);\r\n          }}\r\n          classNames={{ overlay: \"dualImageOverlay\", modal: \"dualImageModal\" }}\r\n        >\r\n          <img\r\n            src={postsortDualImageArray[0]}\r\n            width=\"49.5%\"\r\n            height=\"auto\"\r\n            alt=\"modalImage\"\r\n          />\r\n          <img\r\n            src={postsortDualImageArray[1]}\r\n            width=\"49.5%\"\r\n            height=\"auto\"\r\n            style={{ marginLeft: \"1%\" }}\r\n            alt=\"modalImage2\"\r\n          />\r\n        </Modal>\r\n        <CardTag cardFontSize={cardFontSize}>{disagreeText}</CardTag>\r\n        <CardAndTextHolder>\r\n          <Card\r\n            cardFontSize={cardFontSize}\r\n            width={width}\r\n            height={height}\r\n            onClick={(e) => handleOpenImageModal(e, item.element.props.src)}\r\n          >\r\n            {content}\r\n          </Card>\r\n          <TagContainerDiv>\r\n            <CommentArea\r\n              bgColor={highlighting}\r\n              border={highlighting}\r\n              data-gramm_editor=\"false\"\r\n              height={height}\r\n              cardFontSize={cardFontSize}\r\n              id={item.id}\r\n              placeholder={placeholder}\r\n              defaultValue={cardComment}\r\n              onChange={(e) => {\r\n                onChange(e, index);\r\n              }}\r\n            />\r\n          </TagContainerDiv>\r\n        </CardAndTextHolder>\r\n      </Container>\r\n    );\r\n  });\r\n};\r\n\r\nexport default LowCards;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  max-width: 1100px;\r\n  margin-top: 50px;\r\n  border-radius: 3px;\r\n  border: 1px solid darkgray;\r\n`;\r\n\r\nconst CardTag = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  background: lightpink;\r\n  color: black;\r\n  text-align: center;\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  height: 1.5em;\r\n`;\r\n\r\nconst CardAndTextHolder = styled.div`\r\n  display: flex;\r\n  align-content: center;\r\n  background: rgb(224, 224, 224);\r\n  width: 100%;\r\n`;\r\n\r\nconst CommentArea = styled.textarea`\r\n  padding: 10px;\r\n  margin-top: 2px;\r\n  background-color: ${(props) =>\r\n    props.bgColor ? \"whitesmoke\" : \"rgba(253, 224, 71, .5)\"};\r\n  height: ${(props) => `${props.height}px;`};\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  width: calc(100% - 6px);\r\n  border: 2px solid darkgray;\r\n  border-radius: 3px;\r\n  outline: ${(props) => (props.border ? \"none\" : \"dashed 3px black\")};\r\n`;\r\n\r\nconst TagContainerDiv = styled.div`\r\n  padding-top: 3px;\r\n  width: 100%;\r\n`;\r\n\r\nconst Card = styled.div`\r\n  user-select: \"none\";\r\n  padding: 0 2px 0 2px;\r\n  margin: 5px 5px 5px 5px;\r\n  line-height: 1em;\r\n  height: ${(props) => `${props.height}px;`};\r\n  width: 35vw;\r\n  // max-width: ${(props) => `${props.width}px;`};\r\n  border-radius: 5px;\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2px solid black;\r\n  background-color: #f6f6f6;\r\n  text-align: center;\r\n\r\n  img {\r\n    object-fit: contain;\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport sanitizeString from \"../../utilities/sanitizeString\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\n\r\n/* eslint react/prop-types: 0 */\r\n\r\n// format example ===> {high: [\"column4\"], middle: [\"column0\"], low: [\"columnN4\"]}\r\n\r\nconst getPostsortCommentCheckObj = (state) => state.postsortCommentCheckObj;\r\nconst getSetPostsortCommentCheckObj = (state) =>\r\n  state.setPostsortCommentCheckObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getShowPostsortCommentHighlighting = (state) =>\r\n  state.showPostsortCommentHighlighting;\r\nconst getPostsortDualImageArray = (state) => state.postsortDualImageArray;\r\nconst getSetPostsortDualImageArray = (state) => state.setPostsortDualImageArray;\r\n\r\nconst LowCards2 = (props) => {\r\n  // HELPER FUNCTION\r\n  const asyncLocalStorage = {\r\n    async setItem(key, value) {\r\n      await null;\r\n      return localStorage.setItem(key, value);\r\n    },\r\n  };\r\n\r\n  // LOCAL STATE\r\n  const [openImageModal, setOpenImageModal] = useState(false);\r\n  const [imageSource, setImageSource] = useState(\"\");\r\n  const [openDualImageModal, setOpenDualImageModal] = useState(false);\r\n\r\n  // PERSISTED STATE\r\n  const columnStatements = JSON.parse(localStorage.getItem(\"sortColumns\"));\r\n  const [requiredCommentsObject, setRequiredCommentsObject] = useLocalStorage(\r\n    \"LC2-requiredCommentsObj\",\r\n    {}\r\n  );\r\n\r\n  // GLOBAL STATE\r\n  const postsortCommentCheckObj = useStore(getPostsortCommentCheckObj);\r\n  const setPostsortCommentCheckObj = useStore(getSetPostsortCommentCheckObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const showPostsortCommentHighlighting = useStore(\r\n    getShowPostsortCommentHighlighting\r\n  );\r\n  const postsortDualImageArray = useStore(getPostsortDualImageArray);\r\n  const setPostsortDualImageArray = useStore(getSetPostsortDualImageArray);\r\n\r\n  const { height, width, cardFontSize, disagreeObj } = props;\r\n  const lowCards2 = columnStatements.vCols[disagreeObj.columnDisplay2];\r\n  const { disagreeText, placeholder } = disagreeObj;\r\n  const columnDisplay = disagreeObj.columnDisplay2;\r\n\r\n  // on double click of card, enlarge image\r\n  const handleOpenImageModal = (e, src) => {\r\n    if (e.detail === 2) {\r\n      if (e.shiftKey) {\r\n        postsortDualImageArray.push(e.target.src);\r\n        setPostsortDualImageArray(postsortDualImageArray);\r\n        if (postsortDualImageArray.length === 2) {\r\n          setOpenDualImageModal(true);\r\n        }\r\n      } else {\r\n        setImageSource(e.target.src);\r\n        setOpenImageModal(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  // on blur, get text and add comment to card object\r\n  const onChange = (event, itemId) => {\r\n    const results = JSON.parse(localStorage.getItem(\"resultsPostsort\")) || {};\r\n    let allCommentsObj =\r\n      JSON.parse(localStorage.getItem(\"allCommentsObj\")) || {};\r\n\r\n    // set comment check object for Results formatting on Submit page\r\n    let commentLength = event.target.value.length;\r\n    if (commentLength > 0) {\r\n      postsortCommentCheckObj[`lc2-${itemId}`] = true;\r\n      setPostsortCommentCheckObj(postsortCommentCheckObj);\r\n    } else {\r\n      postsortCommentCheckObj[`lc2-${itemId}`] = false;\r\n      setPostsortCommentCheckObj(postsortCommentCheckObj);\r\n    }\r\n    const cards = [...columnStatements.vCols[disagreeObj.columnDisplay2]];\r\n    const targetCard = event.target.id;\r\n    const userEnteredText = event.target.value;\r\n    const identifier = `${columnDisplay}_${itemId}`;\r\n\r\n    // to update just the card that changed\r\n    cards.map((el) => {\r\n      if (el.id === targetCard) {\r\n        const comment3 = userEnteredText;\r\n        // remove new line and commas to make csv export easier\r\n        const comment2 = comment3.replace(/\\n/g, \" \");\r\n        const comment = comment2.replace(/,/g, \" \").trim();\r\n        // assign to main data object for confirmation / debugging\r\n        if (comment.length > 0) {\r\n          el.comment = sanitizeString(comment);\r\n\r\n          results[identifier] = `(${el.id}) ${comment}`;\r\n          // setup persistence for comments\r\n          allCommentsObj[identifier] = `(${el.id}) ${comment}`;\r\n          allCommentsObj[\r\n            `textArea-${columnDisplay}_${itemId + 1}`\r\n          ] = `${comment}`;\r\n          setRequiredCommentsObject((requiredCommentsObject) => {\r\n            return { ...requiredCommentsObject, [`lc2-${itemId}`]: true };\r\n          });\r\n        } else {\r\n          el.comment = \"\";\r\n          results[identifier] = \"\";\r\n          allCommentsObj[identifier] = \"\";\r\n          allCommentsObj[`textArea-${columnDisplay}_${itemId + 1}`] = \"\";\r\n          setRequiredCommentsObject((requiredCommentsObject) => {\r\n            return { ...requiredCommentsObject, [`lc2-${itemId}`]: false };\r\n          });\r\n        }\r\n      }\r\n      return el;\r\n    });\r\n    asyncLocalStorage.setItem(\"allCommentsObj\", JSON.stringify(allCommentsObj));\r\n    asyncLocalStorage.setItem(\"resultsPostsort\", JSON.stringify(results));\r\n  }; // end onBlur\r\n\r\n  // MAP cards to DOM\r\n  return lowCards2.map((item, index) => {\r\n    let content = ReactHtmlParser(`<div>${decodeHTML(item.statement)}</div>`);\r\n    let allCommentsObj =\r\n      JSON.parse(localStorage.getItem(\"allCommentsObj\")) || {};\r\n    let cardComment =\r\n      allCommentsObj[`textArea-${columnDisplay}_${+index + 1}`] || \"\";\r\n\r\n    if (configObj.useImages === true) {\r\n      content = ReactHtmlParser(\r\n        `<img src=\"${item.element.props.src}\" style=\"pointer-events: all\" alt=${item.element.props.alt} />`\r\n      );\r\n    }\r\n\r\n    let highlighting = true;\r\n    if (\r\n      configObj.postsortCommentsRequired === \"true\" ||\r\n      configObj.postsortCommentsRequired === true\r\n    ) {\r\n      if (showPostsortCommentHighlighting === true) {\r\n        highlighting = requiredCommentsObject[`lc2-${index}`];\r\n      }\r\n    }\r\n    return (\r\n      <Container key={item.statement}>\r\n        <Modal\r\n          open={openImageModal}\r\n          center\r\n          onClose={() => setOpenImageModal(false)}\r\n          classNames={{\r\n            modal: `${configObj.imageFormat}`,\r\n            overlay: \"dualImageOverlay\",\r\n          }}\r\n        >\r\n          <img src={imageSource} width=\"100%\" height=\"auto\" alt=\"modalImage\" />\r\n        </Modal>\r\n        <Modal\r\n          open={openDualImageModal}\r\n          center\r\n          onClose={() => {\r\n            setOpenDualImageModal(false);\r\n            setPostsortDualImageArray([]);\r\n          }}\r\n          classNames={{ overlay: \"dualImageOverlay\", modal: \"dualImageModal\" }}\r\n        >\r\n          <img\r\n            src={postsortDualImageArray[0]}\r\n            width=\"49.5%\"\r\n            height=\"auto\"\r\n            alt=\"modalImage\"\r\n          />\r\n          <img\r\n            src={postsortDualImageArray[1]}\r\n            width=\"49.5%\"\r\n            height=\"auto\"\r\n            style={{ marginLeft: \"1%\" }}\r\n            alt=\"modalImage2\"\r\n          />\r\n        </Modal>\r\n        <CardTag cardFontSize={cardFontSize}>{disagreeText}</CardTag>\r\n        <CardAndTextHolder>\r\n          <Card\r\n            cardFontSize={cardFontSize}\r\n            width={width}\r\n            height={height}\r\n            onClick={(e) => handleOpenImageModal(e, item.element.props.src)}\r\n          >\r\n            {content}\r\n          </Card>\r\n          <TagContainerDiv>\r\n            <CommentArea\r\n              bgColor={highlighting}\r\n              border={highlighting}\r\n              data-gramm_editor=\"false\"\r\n              id={item.id}\r\n              height={height}\r\n              cardFontSize={cardFontSize}\r\n              className=\"commentTextArea\"\r\n              placeholder={placeholder}\r\n              defaultValue={cardComment}\r\n              onChange={(e) => {\r\n                onChange(e, index);\r\n              }}\r\n            />\r\n          </TagContainerDiv>\r\n        </CardAndTextHolder>\r\n      </Container>\r\n    );\r\n  });\r\n};\r\n\r\nexport default LowCards2;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  max-width: 1100px;\r\n  margin-top: 50px;\r\n  border-radius: 3px;\r\n  border: 1px solid darkgray;\r\n`;\r\n\r\nconst CardTag = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  background: lightpink;\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  color: black;\r\n  text-align: center;\r\n  height: 1.5em;\r\n`;\r\n\r\nconst CardAndTextHolder = styled.div`\r\n  display: flex;\r\n  align-content: center;\r\n  background: rgb(224, 224, 224);\r\n  width: 100%;\r\n`;\r\n\r\nconst CommentArea = styled.textarea`\r\n  padding: 10px;\r\n  background-color: ${(props) =>\r\n    props.bgColor ? \"whitesmoke\" : \"rgba(253, 224, 71, .5)\"};\r\n  height: ${(props) => `${props.height}px;`};\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  width: calc(100% - 6px);\r\n  border: 2px solid darkgray;\r\n  border-radius: 3px;\r\n  outline: ${(props) => (props.border ? \"none\" : \"dashed 3px black\")};\r\n`;\r\n\r\nconst TagContainerDiv = styled.div`\r\n  padding-top: 3px;\r\n  width: 100%;\r\n`;\r\n\r\nconst Card = styled.div`\r\n  user-select: \"none\";\r\n  padding: 0 2px 0 2px;\r\n  margin: 5px 5px 5px 5px;\r\n  line-height: 1em;\r\n  height: ${(props) => `${props.height}px;`};\r\n  width: 35vw;\r\n  border-radius: 5px;\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2px solid black;\r\n  background-color: #f6f6f6;\r\n  text-align: center;\r\n\r\n  img {\r\n    object-fit: contain;\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport sanitizeString from \"../../utilities/sanitizeString\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\n\r\n/* eslint react/prop-types: 0 */\r\n\r\n// format example ===> {high: [\"column4\"], middle: [\"column0\"], low: [\"columnN4\"]}\r\n\r\nconst getPostsortCommentCheckObj = (state) => state.postsortCommentCheckObj;\r\nconst getSetPostsortCommentCheckObj = (state) =>\r\n  state.setPostsortCommentCheckObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getShowPostsortCommentHighlighting = (state) =>\r\n  state.showPostsortCommentHighlighting;\r\nconst getPostsortDualImageArray = (state) => state.postsortDualImageArray;\r\nconst getSetPostsortDualImageArray = (state) => state.setPostsortDualImageArray;\r\n\r\nconst HighCards = (props) => {\r\n  // HELPER FUNCTION\r\n  const asyncLocalStorage = {\r\n    async setItem(key, value) {\r\n      await null;\r\n      return localStorage.setItem(key, value);\r\n    },\r\n  };\r\n\r\n  // LOCAL STATE\r\n  const [openImageModal, setOpenImageModal] = useState(false);\r\n  const [imageSource, setImageSource] = useState(\"\");\r\n  const [openDualImageModal, setOpenDualImageModal] = useState(false);\r\n\r\n  // PERSISTED STATE\r\n  const columnStatements = JSON.parse(localStorage.getItem(\"sortColumns\"));\r\n  const [requiredCommentsObject, setRequiredCommentsObject] = useLocalStorage(\r\n    \"HC-requiredCommentsObj\",\r\n    {}\r\n  );\r\n\r\n  // GLOBAL STATE\r\n  const postsortCommentCheckObj = useStore(getPostsortCommentCheckObj);\r\n  const setPostsortCommentCheckObj = useStore(getSetPostsortCommentCheckObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const showPostsortCommentHighlighting = useStore(\r\n    getShowPostsortCommentHighlighting\r\n  );\r\n  const postsortDualImageArray = useStore(getPostsortDualImageArray);\r\n  const setPostsortDualImageArray = useStore(getSetPostsortDualImageArray);\r\n\r\n  const { agreeObj, cardFontSize, width, height } = props;\r\n  const highCards = columnStatements.vCols[agreeObj.columnDisplay];\r\n  const { agreeText, placeholder } = agreeObj;\r\n  let columnDisplay = agreeObj.columnDisplay;\r\n\r\n  // on double click of card, enlarge image\r\n  const handleOpenImageModal = (e, src) => {\r\n    if (e.detail === 2) {\r\n      if (e.shiftKey) {\r\n        postsortDualImageArray.push(e.target.src);\r\n        setPostsortDualImageArray(postsortDualImageArray);\r\n        if (postsortDualImageArray.length === 2) {\r\n          setOpenDualImageModal(true);\r\n        }\r\n      } else {\r\n        setImageSource(e.target.src);\r\n        setOpenImageModal(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  // on leaving card comment section\r\n  const handleChange = (event, itemId) => {\r\n    const results = JSON.parse(localStorage.getItem(\"resultsPostsort\")) || {};\r\n    let allCommentsObj =\r\n      JSON.parse(localStorage.getItem(\"allCommentsObj\")) || {};\r\n\r\n    // set comment check object for Results formatting on Submit page\r\n    let commentLength = event.target.value.length;\r\n    if (commentLength > 0) {\r\n      postsortCommentCheckObj[`hc-${itemId}`] = true;\r\n      setPostsortCommentCheckObj(postsortCommentCheckObj);\r\n    } else {\r\n      postsortCommentCheckObj[`hc-${itemId}`] = false;\r\n      setPostsortCommentCheckObj(postsortCommentCheckObj);\r\n    }\r\n    const cards = columnStatements.vCols[agreeObj.columnDisplay];\r\n    const targetCard = event.target.id;\r\n    const userEnteredText = event.target.value;\r\n    const identifier = `${columnDisplay}_${+itemId}`;\r\n\r\n    // to update RESULTS storage for just the card that changed\r\n    // results format  ===> { column3_1: \"(image3) yes I think so\" }\r\n    cards.map((el) => {\r\n      if (el.id === targetCard) {\r\n        const comment3 = userEnteredText;\r\n        // remove new line and commas to make csv export easier\r\n        const comment2 = comment3.replace(/\\n/g, \" \");\r\n        let comment = comment2.replace(/,/g, \" \").trim();\r\n        // assign to main data object for confirmation / debugging\r\n        if (comment.length > 0) {\r\n          el.comment = sanitizeString(comment);\r\n\r\n          results[identifier] = `(${el.id}) ${comment}`;\r\n          // setup persistence for comments\r\n          allCommentsObj[identifier] = `(${el.id}) ${comment}`;\r\n          allCommentsObj[\r\n            `textArea-${columnDisplay}_${itemId + 1}`\r\n          ] = `${comment}`;\r\n          setRequiredCommentsObject((requiredCommentsObject) => {\r\n            return { ...requiredCommentsObject, [`hc-${itemId}`]: true };\r\n          });\r\n        } else {\r\n          el.comment = \"\";\r\n          results[identifier] = \"\";\r\n          allCommentsObj[identifier] = \"\";\r\n          allCommentsObj[`textArea-${columnDisplay}_${itemId + 1}`] = \"\";\r\n          setRequiredCommentsObject((requiredCommentsObject) => {\r\n            return { ...requiredCommentsObject, [`hc-${itemId}`]: false };\r\n          });\r\n        }\r\n      }\r\n      return el;\r\n    });\r\n    asyncLocalStorage.setItem(\"allCommentsObj\", JSON.stringify(allCommentsObj));\r\n    asyncLocalStorage.setItem(\"resultsPostsort\", JSON.stringify(results));\r\n  }; // END handleChange\r\n\r\n  // MAP cards to DOM\r\n  return highCards.map((item, index) => {\r\n    let content = ReactHtmlParser(`<div>${decodeHTML(item.statement)}</div>`);\r\n    let allCommentsObj =\r\n      JSON.parse(localStorage.getItem(\"allCommentsObj\")) || {};\r\n    let cardComment = allCommentsObj[`textArea-${columnDisplay}_${+index + 1}`];\r\n\r\n    if (configObj.useImages === true) {\r\n      content = ReactHtmlParser(\r\n        `<img src=\"${item.element.props.src}\" style=\"pointer-events: all\" alt=${item.element.props.alt} />`\r\n      );\r\n    }\r\n\r\n    let highlighting = true;\r\n    if (\r\n      configObj.postsortCommentsRequired === \"true\" ||\r\n      configObj.postsortCommentsRequired === true\r\n    ) {\r\n      // if comments are required, highlight if no comment\r\n      if (showPostsortCommentHighlighting === true) {\r\n        highlighting = requiredCommentsObject[`hc-${index}`];\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Container id=\"postSortImageModal\" key={item.statement}>\r\n        <Modal\r\n          open={openImageModal}\r\n          center\r\n          onClose={() => setOpenImageModal(false)}\r\n          classNames={{\r\n            modal: `${configObj.imageFormat}`,\r\n            overlay: \"dualImageOverlay\",\r\n          }}\r\n        >\r\n          <img src={imageSource} width=\"100%\" height=\"auto\" alt=\"modalImage\" />\r\n        </Modal>\r\n        <Modal\r\n          open={openDualImageModal}\r\n          center\r\n          onClose={() => {\r\n            setOpenDualImageModal(false);\r\n            setPostsortDualImageArray([]);\r\n          }}\r\n          classNames={{ overlay: \"dualImageOverlay\", modal: \"dualImageModal\" }}\r\n        >\r\n          <img\r\n            src={postsortDualImageArray[0]}\r\n            width=\"49.5%\"\r\n            height=\"auto\"\r\n            alt=\"modalImage\"\r\n          />\r\n          <img\r\n            src={postsortDualImageArray[1]}\r\n            width=\"49.5%\"\r\n            height=\"auto\"\r\n            style={{ marginLeft: \"1%\" }}\r\n            alt=\"modalImage2\"\r\n          />\r\n        </Modal>\r\n        <CardTag cardFontSize={cardFontSize}>{agreeText}</CardTag>\r\n        <CardAndTextHolder>\r\n          <Card\r\n            cardFontSize={cardFontSize}\r\n            width={width}\r\n            height={height}\r\n            cardColor={item.cardColor}\r\n            onClick={(e) => handleOpenImageModal(e, item.element.props.src)}\r\n          >\r\n            {content}\r\n          </Card>\r\n          <TagContainerDiv>\r\n            <CommentArea\r\n              bgColor={highlighting}\r\n              border={highlighting}\r\n              data-gramm_editor=\"false\"\r\n              height={height}\r\n              cardFontSize={cardFontSize}\r\n              id={item.id}\r\n              placeholder={placeholder}\r\n              defaultValue={cardComment}\r\n              onChange={(e) => {\r\n                handleChange(e, index);\r\n              }}\r\n            />\r\n          </TagContainerDiv>\r\n        </CardAndTextHolder>\r\n      </Container>\r\n    );\r\n  });\r\n};\r\n\r\nexport default HighCards;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  max-width: 1100px;\r\n  margin-top: 50px;\r\n  border-radius: 3px;\r\n  border: 1px solid darkgray;\r\n`;\r\n\r\nconst CardTag = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  background: #c7f6c7;\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  color: black;\r\n  text-align: center;\r\n  height: 1.5em;\r\n`;\r\n\r\nconst CardAndTextHolder = styled.div`\r\n  display: flex;\r\n  align-content: center;\r\n  background: rgb(224, 224, 224);\r\n  width: 100%;\r\n`;\r\n\r\nconst CommentArea = styled.textarea`\r\n  padding: 10px;\r\n  margin-top: 2px;\r\n  background-color: ${(props) =>\r\n    props.bgColor ? \"whitesmoke\" : \"rgba(253, 224, 71, .5)\"};\r\n  height: ${(props) => `${props.height}px;`};\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  width: calc(100% - 6px);\r\n  border: 2px solid darkgray;\r\n  border-radius: 3px;\r\n  outline: ${(props) => (props.border ? \"none\" : \"dashed 3px black\")};\r\n`;\r\n\r\nconst TagContainerDiv = styled.div`\r\n  padding-top: 3px;\r\n  width: 100%;\r\n`;\r\n\r\nconst Card = styled.div`\r\n  user-select: \"none\";\r\n  padding: 0 2px 0 2px;\r\n  margin: 5px 5px 5px 5px;\r\n  line-height: 1em;\r\n  height: ${(props) => `${props.height}px;`};\r\n  width: 35vw;\r\n  //max-width: ${(props) => (props.useImages ? `none` : `${props.width}px;`)};\r\n  border-radius: 5px;\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2px solid darkslategray;\r\n  background-color: #f6f6f6;\r\n  text-align: center;\r\n\r\n  img {\r\n    object-fit: contain;\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport sanitizeString from \"../../utilities/sanitizeString\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\n\r\n/* eslint react/prop-types: 0 */\r\n\r\n// format example ===> {high: [\"column4\"], middle: [\"column0\"], low: [\"columnN4\"]}\r\n\r\nconst getPostsortCommentCheckObj = (state) => state.postsortCommentCheckObj;\r\nconst getSetPostsortCommentCheckObj = (state) =>\r\n  state.setPostsortCommentCheckObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getShowPostsortCommentHighlighting = (state) =>\r\n  state.showPostsortCommentHighlighting;\r\nconst getPostsortDualImageArray = (state) => state.postsortDualImageArray;\r\nconst getSetPostsortDualImageArray = (state) => state.setPostsortDualImageArray;\r\n\r\nconst HighCards2Display = (props) => {\r\n  // HELPER FUNCTION\r\n  const asyncLocalStorage = {\r\n    async setItem(key, value) {\r\n      await null;\r\n      return localStorage.setItem(key, value);\r\n    },\r\n  };\r\n\r\n  // LOCAL STATE\r\n  const [openImageModal, setOpenImageModal] = useState(false);\r\n  const [imageSource, setImageSource] = useState(\"\");\r\n  const [openDualImageModal, setOpenDualImageModal] = useState(false);\r\n\r\n  // PERSISTED STATE\r\n  const columnStatements = JSON.parse(localStorage.getItem(\"sortColumns\"));\r\n\r\n  const [requiredCommentsObject, setRequiredCommentsObject] = useLocalStorage(\r\n    \"HC2-requiredCommentsObj\",\r\n    {}\r\n  );\r\n  // GLOBAL STATE\r\n  const postsortCommentCheckObj = useStore(getPostsortCommentCheckObj);\r\n  const setPostsortCommentCheckObj = useStore(getSetPostsortCommentCheckObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const showPostsortCommentHighlighting = useStore(\r\n    getShowPostsortCommentHighlighting\r\n  );\r\n  const postsortDualImageArray = useStore(getPostsortDualImageArray);\r\n  const setPostsortDualImageArray = useStore(getSetPostsortDualImageArray);\r\n\r\n  const { height, width, agreeObj, cardFontSize } = props;\r\n  const highCards2 = columnStatements.vCols[agreeObj.columnDisplay2];\r\n  const { agreeText, placeholder } = agreeObj;\r\n  let columnDisplay = agreeObj.columnDisplay2;\r\n\r\n  // enlarge images on double click\r\n  const handleOpenImageModal = (e, src) => {\r\n    if (e.detail === 2) {\r\n      if (e.shiftKey) {\r\n        postsortDualImageArray.push(e.target.src);\r\n        setPostsortDualImageArray(postsortDualImageArray);\r\n        if (postsortDualImageArray.length === 2) {\r\n          setOpenDualImageModal(true);\r\n        }\r\n      } else {\r\n        setImageSource(e.target.src);\r\n        setOpenImageModal(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  // on leaving card comment section,\r\n  const onChange = (event, itemId) => {\r\n    const results = JSON.parse(localStorage.getItem(\"resultsPostsort\")) || {};\r\n    let allCommentsObj =\r\n      JSON.parse(localStorage.getItem(\"allCommentsObj\")) || {};\r\n\r\n    // set comment check object for Results formatting on Submit page\r\n    let commentLength = event.target.value.length;\r\n    if (commentLength > 0) {\r\n      postsortCommentCheckObj[`hc2-${itemId}`] = true;\r\n      setPostsortCommentCheckObj(postsortCommentCheckObj);\r\n    } else {\r\n      postsortCommentCheckObj[`hc2-${itemId}`] = false;\r\n      setPostsortCommentCheckObj(postsortCommentCheckObj);\r\n    }\r\n    const cards = columnStatements?.vCols[agreeObj.columnDisplay2];\r\n    const targetCard = event.target.id;\r\n    const userEnteredText = event.target.value;\r\n    const identifier = `${columnDisplay}_${+itemId}`;\r\n\r\n    // to update RESULTS storage for just the card that changed\r\n    // results format  ===> { column3_1: \"(image3) yes I think so\" }\r\n    cards.map((el) => {\r\n      if (el.id === targetCard) {\r\n        const comment3 = userEnteredText;\r\n        // remove new line and commas to make csv export easier\r\n        const comment2 = comment3.replace(/\\n/g, \" \");\r\n        const comment = comment2.replace(/,/g, \" \").trim();\r\n        // assign to main data object for confirmation / debugging\r\n        if (comment.length > 0) {\r\n          el.comment = sanitizeString(comment);\r\n          // assign to comments object\r\n\r\n          results[identifier] = `(${el.id}) ${comment}`;\r\n          // setup persistence for comments\r\n          allCommentsObj[identifier] = `(${el.id}) ${comment}`;\r\n          allCommentsObj[\r\n            `textArea-${columnDisplay}_${itemId + 1}`\r\n          ] = `${comment}`;\r\n          setRequiredCommentsObject((requiredCommentsObject) => {\r\n            return { ...requiredCommentsObject, [`hc2-${itemId}`]: true };\r\n          });\r\n        } else {\r\n          el.comment = \"\";\r\n          results[identifier] = \"\";\r\n          allCommentsObj[identifier] = \"\";\r\n          allCommentsObj[`textArea-${columnDisplay}_${itemId + 1}`] = \"\";\r\n          setRequiredCommentsObject((requiredCommentsObject) => {\r\n            return { ...requiredCommentsObject, [`hc2-${itemId}`]: false };\r\n          });\r\n        }\r\n      }\r\n      return el;\r\n    });\r\n    asyncLocalStorage.setItem(\"allCommentsObj\", JSON.stringify(allCommentsObj));\r\n    asyncLocalStorage.setItem(\"resultsPostsort\", JSON.stringify(results));\r\n  }; // end onBlur\r\n\r\n  // render elements\r\n  return highCards2.map((item, index) => {\r\n    let content = ReactHtmlParser(`<div>${decodeHTML(item.statement)}</div>`);\r\n    let allCommentsObj =\r\n      JSON.parse(localStorage.getItem(\"allCommentsObj\")) || {};\r\n    let cardComment =\r\n      allCommentsObj[`textArea-${columnDisplay}_${+index + 1}`] || \"\";\r\n\r\n    if (configObj.useImages === true) {\r\n      content = ReactHtmlParser(\r\n        `<img src=\"${item.element.props.src}\" style=\"pointer-events: all\" alt=${item.element.props.alt} />`\r\n      );\r\n    }\r\n\r\n    let highlighting = true;\r\n    if (\r\n      configObj.postsortCommentsRequired === \"true\" ||\r\n      configObj.postsortCommentsRequired === true\r\n    ) {\r\n      if (showPostsortCommentHighlighting === true) {\r\n        highlighting = requiredCommentsObject[`hc2-${index}`];\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Container key={item.statement}>\r\n        <Modal\r\n          open={openImageModal}\r\n          center\r\n          onClose={() => setOpenImageModal(false)}\r\n          classNames={{\r\n            modal: `${configObj.imageFormat}`,\r\n            overlay: \"dualImageOverlay\",\r\n          }}\r\n        >\r\n          <img src={imageSource} width=\"100%\" height=\"auto\" alt=\"modalImage\" />\r\n        </Modal>\r\n        <Modal\r\n          open={openDualImageModal}\r\n          center\r\n          onClose={() => {\r\n            setOpenDualImageModal(false);\r\n            setPostsortDualImageArray([]);\r\n          }}\r\n          classNames={{ overlay: \"dualImageOverlay\", modal: \"dualImageModal\" }}\r\n        >\r\n          <img\r\n            src={postsortDualImageArray[0]}\r\n            width=\"49.5%\"\r\n            height=\"auto\"\r\n            alt=\"modalImage\"\r\n          />\r\n          <img\r\n            src={postsortDualImageArray[1]}\r\n            width=\"49.5%\"\r\n            height=\"auto\"\r\n            style={{ marginLeft: \"1%\" }}\r\n            alt=\"modalImage2\"\r\n          />\r\n        </Modal>\r\n        <CardTag cardFontSize={cardFontSize}>{agreeText}</CardTag>\r\n        <CardAndTextHolder>\r\n          <Card\r\n            cardFontSize={cardFontSize}\r\n            width={width}\r\n            height={height}\r\n            onClick={(e) => handleOpenImageModal(e, item.element.props.src)}\r\n          >\r\n            {content}\r\n          </Card>\r\n          <TagContainerDiv>\r\n            <CommentArea\r\n              bgColor={highlighting}\r\n              border={highlighting}\r\n              data-gramm_editor=\"false\"\r\n              height={height}\r\n              cardFontSize={cardFontSize}\r\n              id={item.id}\r\n              placeholder={placeholder}\r\n              defaultValue={cardComment}\r\n              onChange={(e) => {\r\n                onChange(e, index);\r\n              }}\r\n            />\r\n          </TagContainerDiv>\r\n        </CardAndTextHolder>\r\n      </Container>\r\n    );\r\n  });\r\n};\r\n\r\nexport default HighCards2Display;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  max-width: 1100px;\r\n  margin-top: 50px;\r\n  border-radius: 3px;\r\n  border: 1px solid darkgray;\r\n`;\r\n\r\nconst CardTag = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  background: #c7f6c7;\r\n  color: black;\r\n  text-align: center;\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  height: 1.5em;\r\n`;\r\n\r\nconst CardAndTextHolder = styled.div`\r\n  display: flex;\r\n  align-content: center;\r\n  background: rgb(224, 224, 224);\r\n  width: 100%;\r\n`;\r\n\r\nconst CommentArea = styled.textarea`\r\n  padding: 10px;\r\n  margin-top: 2px;\r\n  background-color: ${(props) =>\r\n    props.bgColor ? \"whitesmoke\" : \"rgba(253, 224, 71, .5)\"};\r\n  height: ${(props) => `${props.height}px;`};\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  width: calc(100% - 6px);\r\n  border: 2px solid darkgray;\r\n  border-radius: 3px;\r\n  outline: ${(props) => (props.border ? \"none\" : \"dashed 3px black\")};\r\n`;\r\n\r\nconst TagContainerDiv = styled.div`\r\n  padding-top: 3px;\r\n  width: 100%;\r\n`;\r\n\r\nconst Card = styled.div`\r\n  user-select: \"none\";\r\n  padding: 0 2px 0 2px;\r\n  margin: 5px 5px 5px 5px;\r\n  line-height: 1em;\r\n  height: ${(props) => `${props.height}px;`};\r\n  width: 35vw;\r\n  // max-width: ${(props) => `${props.width}px;`};\r\n  border-radius: 5px;\r\n  font-size: ${(props) => `${props.cardFontSize}px`};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2px solid black;\r\n  background-color: #f6f6f6;\r\n  text-align: center;\r\n\r\n  img {\r\n    object-fit: contain;\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerPostsortModal = (state) => state.triggerPostsortModal;\r\nconst getSetTriggerPostsortModal = (state) => state.setTriggerPostsortModal;\r\n\r\nconst PostsortHelpModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerPostsortModal = useStore(getTriggerPostsortModal);\r\n  const setTriggerPostsortModal = useStore(getSetTriggerPostsortModal);\r\n\r\n  const postsortHelpModalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.postsortModalHead)) || \"\";\r\n  const postsortHelpModalText =\r\n    ReactHtmlParser(decodeHTML(langObj.postsortModalText)) || \"\";\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerPostsortModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerPostsortModal}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{postsortHelpModalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{postsortHelpModalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default PostsortHelpModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React, { useEffect } from \"react\";\r\nimport { Prompt } from \"react-router-dom\";\r\n\r\nconst PromptUnload = () => {\r\n  useEffect(() => {\r\n    window.addEventListener(\"beforeunload\", alertUser);\r\n    return () => {\r\n      window.removeEventListener(\"beforeunload\", alertUser);\r\n    };\r\n  }, []);\r\n\r\n  const alertUser = (e) => {\r\n    // e.preventDefault();\r\n    // e.returnValue = \"\";\r\n    var message = \"o/\";\r\n\r\n    (e || window.event).returnValue = message; //Gecko + IE\r\n    return message;\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Prompt\r\n        when={false}\r\n        message={() => \"Are you sure you want to leave this page?\"}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PromptUnload;\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerModalOpen = (state) => state.triggerPostsortPreventNavModal;\r\nconst getSetTrigPostPrevNavModal = (state) =>\r\n  state.setTriggerPostsortPreventNavModal;\r\n\r\nconst PostsortPreventNavModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerModalOpen = useStore(getTriggerModalOpen);\r\n\r\n  const setTriggerPostsortPreventNavModal = useStore(\r\n    getSetTrigPostPrevNavModal\r\n  );\r\n\r\n  const modalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.postsortPreventNavModalHead)) || \"\";\r\n  const modalText =\r\n    ReactHtmlParser(decodeHTML(langObj.postsortPreventNavModalText)) || \"\";\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerPostsortPreventNavModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerModalOpen}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{modalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{modalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default PostsortPreventNavModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport LowCards from \"./LowCards\";\r\nimport LowCards2 from \"./LowCards2\";\r\nimport HighCards from \"./HighCards\";\r\nimport HighCards2 from \"./HighCards2\";\r\nimport styled from \"styled-components\";\r\nimport calculateTimeOnPage from \"../../utilities/calculateTimeOnPage\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport PostsortHelpModal from \"./PostsortHelpModal\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport PromptUnload from \"../../utilities/PromptUnload\";\r\nimport PostsortPreventNavModal from \"./PostsortPreventNavModal\";\r\n\r\n/* eslint react/prop-types: 0 */\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getMapObj = (state) => state.mapObj;\r\nconst getSetProgressScore = (state) => state.setProgressScore;\r\nconst getCardHeightPostsort = (state) => state.cardHeightPostsort;\r\nconst getCardFontSizePostsort = (state) => state.cardFontSizePostsort;\r\nconst getSetCurrentPage = (state) => state.setCurrentPage;\r\nconst getSetDisplayNextButton = (state) => state.setDisplayNextButton;\r\n\r\nconst PostSort = () => {\r\n  const ElementRef = useRef(null);\r\n\r\n  // GLOBAL STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const mapObj = useSettingsStore(getMapObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const setProgressScore = useStore(getSetProgressScore);\r\n  let cardHeightPostsort = useStore(getCardHeightPostsort);\r\n  let cardFontSizePostsort = useStore(getCardFontSizePostsort);\r\n  const setCurrentPage = useStore(getSetCurrentPage);\r\n  const setDisplayNextButton = useStore(getSetDisplayNextButton);\r\n\r\n  // PERSISTENT STATE\r\n  const columnStatements = JSON.parse(localStorage.getItem(\"columnStatements\"));\r\n  let cardFontSizePersist = +JSON.parse(\r\n    localStorage.getItem(\"fontSizePostsort\")\r\n  );\r\n  let cardHeightPersist = +JSON.parse(\r\n    localStorage.getItem(\"cardHeightPostsort\")\r\n  );\r\n\r\n  if (cardFontSizePersist) {\r\n    cardFontSizePostsort = cardFontSizePersist;\r\n  }\r\n\r\n  if (cardHeightPersist) {\r\n    cardHeightPostsort = cardHeightPersist;\r\n  }\r\n\r\n  // set next button display\r\n  setDisplayNextButton(true);\r\n\r\n  const headerBarColor = configObj.headerBarColor;\r\n  const postsortInstructions =\r\n    ReactHtmlParser(decodeHTML(langObj.postsortInstructions)) || \"\";\r\n\r\n  useEffect(() => {\r\n    const Elementcount = ElementRef.current.childNodes.length;\r\n    localStorage.setItem(\"postsortCommentCardCount\", Elementcount - 1);\r\n  });\r\n\r\n  useEffect(() => {\r\n    let startTime = Date.now();\r\n    const setStateAsync = async () => {\r\n      await setCurrentPage(\"postsort\");\r\n      localStorage.setItem(\"currentPage\", \"postsort\");\r\n      await setProgressScore(50);\r\n    };\r\n    setStateAsync();\r\n    return () => {\r\n      calculateTimeOnPage(startTime, \"postsortPage\", \"postsortPage\");\r\n    };\r\n  }, [setCurrentPage, setProgressScore]);\r\n\r\n  // pull data from localStorage\r\n  const columnWidth = 250;\r\n\r\n  const titleText = ReactHtmlParser(decodeHTML(langObj.postsortHeader)) || \"\";\r\n  const agree = ReactHtmlParser(decodeHTML(langObj.postsortAgreement)) || \"\";\r\n  const disagree =\r\n    ReactHtmlParser(decodeHTML(langObj.postsortDisagreement)) || \"\";\r\n  const placeholder = langObj.placeholder;\r\n\r\n  const keys = Object.keys(mapObj.postsortConvertObj);\r\n  const agreeColDisp1 = keys.pop();\r\n  const agreeColDisp2 = keys.pop();\r\n  const disagreeColDisp1 = keys.shift();\r\n  const disagreeColDisp2 = keys.shift();\r\n\r\n  const postsortAgreeColDisp1 = agreeColDisp1;\r\n  const postsortAgreeColDisp2 = agreeColDisp2;\r\n  const showSecondPosColumn = configObj.showSecondPosColumn;\r\n  const postsortDisagreeColDisp1 = disagreeColDisp1;\r\n  const postsortDisagreeColDisp2 = disagreeColDisp2;\r\n  const showSecondNegColumn = configObj.showSecondNegColumn;\r\n\r\n  const agreeObj = {};\r\n  agreeObj.agreeText = agree;\r\n  agreeObj.columnDisplay = [postsortAgreeColDisp1];\r\n  agreeObj.columnDisplay2 = [postsortAgreeColDisp2];\r\n  agreeObj.displaySecondColumn = showSecondPosColumn;\r\n  agreeObj.placeholder = placeholder;\r\n\r\n  const disagreeObj = {};\r\n  disagreeObj.disagreeText = disagree;\r\n  disagreeObj.columnDisplay = [postsortDisagreeColDisp1];\r\n  disagreeObj.columnDisplay2 = [postsortDisagreeColDisp2];\r\n  disagreeObj.displaySecondColumn = showSecondNegColumn;\r\n  disagreeObj.placeholder = placeholder;\r\n\r\n  const highCards = columnStatements?.vCols[agreeObj.columnDisplay];\r\n  const highCards2 = columnStatements?.vCols[agreeObj.columnDisplay2];\r\n  // const neutralCards = columnStatements.vCols[neutralObj.columnDisplay];\r\n  const lowCards = columnStatements?.vCols[disagreeObj.columnDisplay];\r\n  const lowCards2 = columnStatements?.vCols[disagreeObj.columnDisplay2];\r\n\r\n  return (\r\n    <div>\r\n      <PromptUnload />\r\n      <PostsortHelpModal />\r\n      <PostsortPreventNavModal />\r\n      <SortTitleBar background={headerBarColor}>{titleText}</SortTitleBar>\r\n      <CardsContainer ref={ElementRef}>\r\n        <PostsortInstructions>{postsortInstructions}</PostsortInstructions>\r\n        <HighCards\r\n          agreeObj={agreeObj}\r\n          height={cardHeightPostsort}\r\n          cardFontSize={cardFontSizePostsort}\r\n          width={columnWidth}\r\n          highCards={highCards}\r\n        />\r\n        {agreeObj.displaySecondColumn && (\r\n          <HighCards2\r\n            agreeObj={agreeObj}\r\n            height={cardHeightPostsort}\r\n            cardFontSize={cardFontSizePostsort}\r\n            width={columnWidth}\r\n            highCards2={highCards2}\r\n          />\r\n        )}\r\n        {disagreeObj.displaySecondColumn && (\r\n          <LowCards2\r\n            disagreeObj={disagreeObj}\r\n            height={cardHeightPostsort}\r\n            cardFontSize={cardFontSizePostsort}\r\n            width={columnWidth}\r\n            lowCards2={lowCards2}\r\n          />\r\n        )}\r\n        <LowCards\r\n          disagreeObj={disagreeObj}\r\n          height={cardHeightPostsort}\r\n          cardFontSize={cardFontSizePostsort}\r\n          width={columnWidth}\r\n          lowCards={lowCards}\r\n        />\r\n      </CardsContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostSort;\r\n\r\nconst CardsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding-bottom: 150px;\r\n  margin-top: 50px;\r\n`;\r\n\r\nconst SortTitleBar = styled.div`\r\n  width: 100vw;\r\n  padding-left: 1.5vw;\r\n  padding-right: 1.5vw;\r\n  padding-top: 5px;\r\n  min-height: 50px;\r\n  background-color: ${(props) => props.background};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n  position: fixed;\r\n  top: 0;\r\n`;\r\n\r\nconst PostsortInstructions = styled.div`\r\n  display: flex;\r\n  justify-self: center;\r\n  align-self: center;\r\n  margin-top: 30px;\r\n  text-align: center;\r\n  color: black;\r\n  font-size: 2vh;\r\n  font-weight: normal;\r\n  max-width: 1100px;\r\n`;\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst PresortModal = () => {\r\n  const getLangObj = (state) => state.langObj;\r\n  const getTriggerPresortModal = (state) => state.triggerPresortModal;\r\n  const getSetTriggerPresortModal = (state) => state.setTriggerPresortModal;\r\n\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerPresortModal = useStore(getTriggerPresortModal);\r\n  const setTriggerPresortModal = useStore(getSetTriggerPresortModal);\r\n\r\n  /*\r\n  const hasPresortSortingStarted = localStorage.getItem(\"columns\");\r\n  if (hasPresortSortingStarted && hasPresortSortingStarted.length > 0) {\r\n    setTriggerPresortModal(false);\r\n  }\r\n  */\r\n\r\n  const onCloseModal = () => {\r\n    setTriggerPresortModal(false);\r\n  };\r\n\r\n  const header = ReactHtmlParser(decodeHTML(langObj.presortModalHead)) || \"\";\r\n  const modalText = ReactHtmlParser(decodeHTML(langObj.presortModalText)) || \"\";\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerPresortModal}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{header}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{modalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default PresortModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getStatementsObj = (state) => state.statementsObj;\r\nconst getColumnStatements = (state) => state.columnStatements;\r\nconst getPreSortedStateNumInit = (state) =>\r\n  state.presortSortedStatementsNumInitial;\r\n// const getSetColumnStatements = (state) => state.setColumnStatements;\r\nconst getSetPresortFinished = (state) => state.setPresortFinished;\r\nconst getSetTrigPresortFinModal = (state) =>\r\n  state.setTriggerPresortFinishedModal;\r\nconst getResults = (state) => state.results;\r\nconst getSetResults = (state) => state.setResults;\r\nconst getSetProgressScoreAdditional = (state) =>\r\n  state.setProgressScoreAdditional;\r\n\r\nfunction PresortDND(props) {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const statementsObj = useSettingsStore(getStatementsObj);\r\n  const columnStatements = useSettingsStore(getColumnStatements);\r\n  const presortSortedStatementsNumInitial = useStore(getPreSortedStateNumInit);\r\n  // const setColumnStatements = useSettingsStore(getSetColumnStatements);\r\n  const setPresortFinished = useStore(getSetPresortFinished);\r\n  const setTriggerPresortFinishedModal = useStore(getSetTrigPresortFinModal);\r\n  const results = useStore(getResults);\r\n  const setResults = useStore(getSetResults);\r\n  const setProgressScoreAdditional = useStore(getSetProgressScoreAdditional);\r\n\r\n  const statementsName =\r\n    ReactHtmlParser(decodeHTML(langObj.presortStatements)) || \"\";\r\n  const btnDisagreement =\r\n    ReactHtmlParser(decodeHTML(langObj.presortDisagreement)) || \"\";\r\n  const btnAgreement =\r\n    ReactHtmlParser(decodeHTML(langObj.presortAgreement)) || \"\";\r\n  const btnNeutral = ReactHtmlParser(decodeHTML(langObj.presortNeutral)) || \"\";\r\n  const onPageInstructions =\r\n    ReactHtmlParser(decodeHTML(langObj.presortOnPageInstructions)) || \"\";\r\n\r\n  // initialize local state\r\n  let [presortSortedStatementsNum, setPresortSortedStatementsNum] = useState(\r\n    presortSortedStatementsNumInitial\r\n  );\r\n\r\n  const cardFontSize = `${props.cardFontSize}px`;\r\n  let defaultFontColor = configObj.defaultFontColor;\r\n  let statementsLength = columnStatements.statementList.length;\r\n\r\n  const cardHeight = 210;\r\n\r\n  const [columns, setColumns] = useLocalStorage(\"columns\", {\r\n    cards: {\r\n      name: statementsName,\r\n      items: [...props.statements],\r\n      id: \"cards\",\r\n    },\r\n    neg: {\r\n      name: btnDisagreement,\r\n      items: [],\r\n      id: \"neg\",\r\n    },\r\n    neutral: {\r\n      name: btnNeutral,\r\n      items: [],\r\n      id: \"neutral\",\r\n    },\r\n    pos: {\r\n      name: btnAgreement,\r\n      id: \"pos\",\r\n      items: [],\r\n    },\r\n  });\r\n\r\n  // default = positive sort direction\r\n  let pinkArraySortValue = 333,\r\n    greenArraySortValue = 111;\r\n  if (configObj.sortDirection === \"negative\") {\r\n    pinkArraySortValue = 111;\r\n    greenArraySortValue = 333;\r\n  }\r\n\r\n  const onDragEnd = useCallback(\r\n    (result, columns, setColumns) => {\r\n      if (!result.destination || result.destination.droppableId === \"cards\") {\r\n        return;\r\n      }\r\n      const { source, destination } = result;\r\n\r\n      // update statement characteristics\r\n      const statementsArray = [...columnStatements.statementList];\r\n      const destinationId = result.destination.droppableId;\r\n      const draggableId = result.draggableId;\r\n\r\n      // set METADATA FOR SORTING\r\n      for (let i = 0; i < statementsArray.length; i++) {\r\n        if (statementsArray[i].id === draggableId) {\r\n          if (destinationId === \"neg\") {\r\n            statementsArray[i].divColor = \"isNegativeStatement\";\r\n            statementsArray[i].cardColor = \"pinkSortCard\";\r\n            statementsArray[i].pinkChecked = true;\r\n            statementsArray[i].yellowChecked = false;\r\n            statementsArray[i].greenChecked = false;\r\n            statementsArray[i].sortValue = pinkArraySortValue;\r\n          }\r\n          if (destinationId === \"neutral\") {\r\n            statementsArray[i].divColor = \"isUncertainStatement\";\r\n            statementsArray[i].cardColor = \"yellowSortCard\";\r\n            statementsArray[i].pinkChecked = false;\r\n            statementsArray[i].yellowChecked = true;\r\n            statementsArray[i].greenChecked = false;\r\n            statementsArray[i].sortValue = 222;\r\n          }\r\n          if (destinationId === \"pos\") {\r\n            statementsArray[i].divColor = \"isPositiveStatement\";\r\n            statementsArray[i].cardColor = \"greenSortCard\";\r\n            statementsArray[i].pinkChecked = false;\r\n            statementsArray[i].yellowChecked = false;\r\n            statementsArray[i].greenChecked = true;\r\n            statementsArray[i].sortValue = greenArraySortValue;\r\n          }\r\n        }\r\n      }\r\n\r\n      // set new ordering\r\n      for (let i = 0; i < statementsArray.length; i++) {\r\n        statementsArray[i].listIndex = i + 1;\r\n      }\r\n\r\n      // save to memory\r\n      columnStatements.statementList = [...statementsArray];\r\n      //setColumnStatements(columnStatements);\r\n      localStorage.setItem(\r\n        \"columnStatements\",\r\n        JSON.stringify(columnStatements)\r\n      );\r\n\r\n      // when dropped on different droppable\r\n      if (source.droppableId !== destination.droppableId) {\r\n        try {\r\n          const sourceColumn = columns[source.droppableId];\r\n          const destColumn = columns[destination.droppableId];\r\n          const sourceItems = [...sourceColumn.items];\r\n          const destItems = [...destColumn.items];\r\n          const [removed] = sourceItems.splice(source.index, 1);\r\n\r\n          // change background color\r\n          if (destColumn.id === \"pos\") {\r\n            removed.backgroundColor = configObj.greenCardColor;\r\n          }\r\n          if (destColumn.id === \"neg\") {\r\n            removed.backgroundColor = configObj.pinkCardColor;\r\n          }\r\n          if (destColumn.id === \"neutral\") {\r\n            removed.backgroundColor = configObj.yellowCardColor;\r\n          }\r\n\r\n          destItems.splice(destination.index, 0, removed);\r\n\r\n          // update columns\r\n          setColumns({\r\n            ...columns,\r\n            [source.droppableId]: {\r\n              ...sourceColumn,\r\n              items: sourceItems,\r\n            },\r\n            [destination.droppableId]: {\r\n              ...destColumn,\r\n              items: destItems,\r\n            },\r\n          });\r\n\r\n          // calc remaining statements\r\n          let sortedStatements;\r\n          if (sourceColumn.id === \"cards\") {\r\n            sortedStatements =\r\n              statementsObj.totalStatements - sourceColumn.items.length + 1;\r\n            setPresortSortedStatementsNum(sortedStatements);\r\n            const ratio = sortedStatements / statementsObj.totalStatements;\r\n            const completedPercent = (ratio * 30).toFixed();\r\n\r\n            // update Progress Bar State\r\n            setProgressScoreAdditional(completedPercent);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      } else {\r\n        try {\r\n          // MOVING BETWEEN COLUMNS\r\n          const sourceCol = columns[source.droppableId];\r\n          const copiedItems = [...sourceCol.items];\r\n          const [removed] = copiedItems.splice(source.index, 1);\r\n          copiedItems.splice(destination.index, 0, removed);\r\n          setColumns({\r\n            ...columns,\r\n            [source.droppableId]: {\r\n              ...sourceCol,\r\n              items: copiedItems,\r\n            },\r\n          });\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    },\r\n    [\r\n      configObj,\r\n      columnStatements,\r\n      statementsObj,\r\n      setProgressScoreAdditional,\r\n      greenArraySortValue,\r\n      pinkArraySortValue,\r\n    ]\r\n  ); // END DRAG-END\r\n\r\n  useEffect(() => {\r\n    const handleKeyUp = (event) => {\r\n      let target;\r\n      if (event.key === \"1\" || event.key === 1) {\r\n        target = \"neg\";\r\n      } else if (event.key === \"2\" || event.key === 2) {\r\n        target = \"neutral\";\r\n      } else if (event.key === \"3\" || event.key === 3) {\r\n        target = \"pos\";\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      if (columns.cards.items.length > 0) {\r\n        let source = columns.cards.items[0].id;\r\n        const results = {\r\n          draggableId: source,\r\n          type: \"DEFAULT\",\r\n          source: {\r\n            index: 0,\r\n            droppableId: \"cards\",\r\n          },\r\n          reason: \"DROP\",\r\n          mode: \"FLUID\",\r\n          destination: {\r\n            droppableId: target,\r\n            index: 0,\r\n          },\r\n          combine: null,\r\n        };\r\n\r\n        onDragEnd(results, columns, setColumns);\r\n      }\r\n    }; // end keyup\r\n\r\n    window.addEventListener(\"keyup\", handleKeyUp);\r\n\r\n    return () => window.removeEventListener(\"keyup\", handleKeyUp);\r\n  }, [onDragEnd, setColumns, columns]);\r\n\r\n  useEffect(() => {\r\n    let posText = \"\";\r\n    let neutralText = \"\";\r\n    let negText = \"\";\r\n\r\n    columns.pos.items.forEach((item) => {\r\n      if (columns.pos.items[0]) {\r\n        posText += item.statementNum + \",\";\r\n      }\r\n    });\r\n\r\n    if (columns.neutral.items[0]) {\r\n      columns.neutral.items.forEach((item) => {\r\n        neutralText += item.statementNum + \",\";\r\n      });\r\n    }\r\n\r\n    if (columns.neg.items[0]) {\r\n      columns.neg.items.forEach((item) => {\r\n        negText += item.statementNum + \",\";\r\n      });\r\n    }\r\n\r\n    let projectResultsObj = results;\r\n    projectResultsObj.npos = columns.pos.items.length;\r\n    projectResultsObj.posStateNums = posText;\r\n    projectResultsObj.nneu = columns.neutral.items.length;\r\n    projectResultsObj.neuStateNums = neutralText;\r\n    projectResultsObj.nneg = columns.neg.items.length;\r\n    projectResultsObj.negStateNums = negText;\r\n    setResults(projectResultsObj);\r\n    localStorage.setItem(\"resultsPresort\", JSON.stringify(projectResultsObj));\r\n  }, [columns, results, setResults]);\r\n\r\n  useEffect(() => {\r\n    if (columns.cards.items.length === 0) {\r\n      setPresortFinished(true);\r\n      setTriggerPresortFinishedModal(true);\r\n    }\r\n  }, [\r\n    columns.cards.items.length,\r\n    setPresortFinished,\r\n    setTriggerPresortFinishedModal,\r\n  ]);\r\n\r\n  // RENDER COMPONENT\r\n\r\n  return (\r\n    <PresortGrid id=\"statementsGrid\">\r\n      <ImageEnlargeInstructionsDiv id=\"imageEnlargeInstructionsDiv\">\r\n        <div>{onPageInstructions}</div>\r\n      </ImageEnlargeInstructionsDiv>\r\n      <CompletionRatioDiv id=\"completionRatio\">\r\n        {presortSortedStatementsNum}/{statementsLength}\r\n      </CompletionRatioDiv>\r\n      <ColumnNamesNeg id=\"negDivImg\">\r\n        <div>{columns.neg.name}</div>\r\n      </ColumnNamesNeg>\r\n      <ColumnNamesNeu id=\"negDivImg\">\r\n        <div>{columns.neutral.name}</div>\r\n      </ColumnNamesNeu>\r\n      <ColumnNamesPos id=\"negDivImg\">\r\n        <div>{columns.pos.name}</div>\r\n      </ColumnNamesPos>\r\n      <DragDropContext\r\n        onDragEnd={(result) => onDragEnd(result, columns, setColumns)}\r\n      >\r\n        {Object.entries(columns).map(([columnId, column], index) => {\r\n          return (\r\n            <AllColWrapper\r\n              key={columnId}\r\n              id={`${columnId}Div`}\r\n              className={`${columnId}Div`}\r\n            >\r\n              <ThreeColCardWrapper>\r\n                <Droppable\r\n                  droppableId={columnId}\r\n                  className={columnId}\r\n                  key={columnId}\r\n                >\r\n                  {(provided, snapshot) => {\r\n                    return (\r\n                      <div\r\n                        {...provided.droppableProps}\r\n                        ref={provided.innerRef}\r\n                        id={columnId}\r\n                        className={columnId}\r\n                        style={{\r\n                          background: snapshot.isDraggingOver\r\n                            ? \"lightblue\"\r\n                            : \"white\",\r\n                          padding: 4,\r\n                          width: \"100%\",\r\n                        }}\r\n                      >\r\n                        {column.items.map((item, index) => {\r\n                          const statementHtml = ReactHtmlParser(\r\n                            `<div>${decodeHTML(item.statement)}</div>`\r\n                          );\r\n                          return (\r\n                            <Draggable\r\n                              key={item.id}\r\n                              id={item.id}\r\n                              draggableId={item.id}\r\n                              index={index}\r\n                              className=\"dragObject\"\r\n                            >\r\n                              {(provided, snapshot) => {\r\n                                return (\r\n                                  <DroppableContainer\r\n                                    ref={provided.innerRef}\r\n                                    {...provided.draggableProps}\r\n                                    {...provided.dragHandleProps}\r\n                                    style={{\r\n                                      userSelect: \"none\",\r\n                                      padding: 6,\r\n                                      margin: \"0 0 8px 0\",\r\n                                      width: \"100%\",\r\n                                      height: cardHeight,\r\n                                      overflow: \"hidden\",\r\n                                      fontSize: cardFontSize,\r\n                                      filter: snapshot.isDragging\r\n                                        ? \"brightness(0.85)\"\r\n                                        : \"brightness(1.00)\",\r\n                                      backgroundColor: snapshot.isDragging\r\n                                        ? item.backgroundColor\r\n                                        : item.backgroundColor,\r\n                                      color: defaultFontColor,\r\n                                      ...provided.draggableProps.style,\r\n                                    }}\r\n                                  >\r\n                                    {statementHtml}\r\n                                  </DroppableContainer>\r\n                                );\r\n                              }}\r\n                            </Draggable>\r\n                          );\r\n                        })}\r\n                        {provided.placeholder}\r\n                      </div>\r\n                    );\r\n                  }}\r\n                </Droppable>\r\n              </ThreeColCardWrapper>\r\n            </AllColWrapper>\r\n          );\r\n        })}\r\n      </DragDropContext>\r\n    </PresortGrid>\r\n  );\r\n}\r\n\r\nexport default PresortDND;\r\nconst ColumnNamesNeg = styled.div`\r\n  display: flex;\r\n  grid-column-start: 2;\r\n  grid-row-start: 2;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n\r\n  div {\r\n    display: flex;\r\n    outline: 1px solid #a8a8a8;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgba(255, 182, 193, 0.4);\r\n    min-width: 50%;\r\n    padding: 2px;\r\n    border-radius: 5px;\r\n  }\r\n`;\r\n\r\nconst ColumnNamesNeu = styled.div`\r\n  display: flex;\r\n  align-self: center;\r\n  grid-column-start: 3;\r\n  grid-row-start: 2;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n\r\n  div {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    outline: 1px solid #a8a8a8;\r\n    background-color: lightgray;\r\n    min-width: 50%;\r\n    padding: 2px;\r\n    border-radius: 5px;\r\n  }\r\n`;\r\n\r\nconst ColumnNamesPos = styled.div`\r\n  display: flex;\r\n  grid-column-start: 4;\r\n  grid-row-start: 2;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n\r\n  div {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgba(199, 246, 199, 0.6);\r\n    min-width: 50%;\r\n    padding: 2px;\r\n    border-radius: 5px;\r\n    outline: 1px solid #a8a8a8;\r\n  }\r\n`;\r\n\r\nconst PresortGrid = styled.div`\r\n  padding-top: 10px;\r\n  margin-top: 25px;\r\n  margin-bottom: 55px;\r\n  display: grid;\r\n  height: calc(100vh-100px);\r\n  grid-template-rows: 34h 25px 40vh;\r\n  grid-template-columns: 0.25fr 1.5fr 1.5fr 1.5fr 0.25fr;\r\n  row-gap: 3px;\r\n  column-gap: 15px;\r\n  overflow-y: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n`;\r\n\r\nconst DroppableContainer = styled.div`\r\n  background-color: \"#83cafe\";\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n  border-radius: 2px;\r\n  width: 27.8vw;\r\n  border: 1px solid #a8a8a8;\r\n`;\r\n\r\nconst ThreeColCardWrapper = styled.div`\r\n  margin: 4px;\r\n  img {\r\n    max-width: 98%;\r\n    max-height: 98%;\r\n    padding: 0px;\r\n  }\r\n`;\r\n\r\nconst CompletionRatioDiv = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-bottom: 5px;\r\n  font-size: 60px;\r\n  font-weight: bold;\r\n  padding-left: 3px;\r\n  padding-right: 3px;\r\n`;\r\n\r\nconst ImageEnlargeInstructionsDiv = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-bottom: 5px;\r\n  font-size: 16px;\r\n  padding-left: 3px;\r\n  padding-right: 3px;\r\n  width: 100%;\r\n`;\r\n\r\nconst AllColWrapper = styled.div`\r\n  margin: 4px;\r\n  display: \"flex\";\r\n  flex-direction: \"column\";\r\n  width: 100%;\r\n`;\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerModalOpen = (state) => state.triggerPresortPreventNavModal;\r\nconst getSetTrigPrePrevNavModal = (state) =>\r\n  state.setTriggerPresortPreventNavModal;\r\n\r\nconst PresortPreventNavModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerModalOpen = useStore(getTriggerModalOpen);\r\n  const setTriggerPresortPreventNavModal = useStore(getSetTrigPrePrevNavModal);\r\n\r\n  const modalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.presortPreventNavModalHead)) || \"\";\r\n  const modalText =\r\n    ReactHtmlParser(decodeHTML(langObj.presortPreventNavModalText)) || \"\";\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerPresortPreventNavModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerModalOpen}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{modalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{modalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default PresortPreventNavModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerModal = (state) => state.triggerPresortFinishedModal;\r\nconst getSetTriggerModal = (state) => state.setTriggerPresortFinishedModal;\r\n\r\nconst PresortFinishedModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerModal = useStore(getTriggerModal);\r\n  const setTriggerModal = useStore(getSetTriggerModal);\r\n\r\n  const loginHelpModalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.presortFinishedModalHead)) || \"\";\r\n  const loginHelpModalText =\r\n    ReactHtmlParser(decodeHTML(langObj.presortFinishedModalText)) || \"\";\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerModal}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{loginHelpModalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{loginHelpModalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default PresortFinishedModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getSetCurrentPage = (state) => state.setCurrentPage;\r\n\r\nconst PresortIsComplete = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const setCurrentPage = useStore(getSetCurrentPage);\r\n\r\n  const headerBarColor = configObj.headerBarColor;\r\n  const mainText =\r\n    ReactHtmlParser(decodeHTML(langObj.stepCompleteMessage)) || \"\";\r\n  const titleBarText = ReactHtmlParser(decodeHTML(langObj.titleBarText)) || \"\";\r\n\r\n  useEffect(() => {\r\n    setCurrentPage(\"presort\");\r\n  }, [setCurrentPage]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <SortTitleBar background={headerBarColor}>{titleBarText}</SortTitleBar>\r\n      <ContainerDiv>\r\n        <ContentDiv>{mainText}</ContentDiv>\r\n      </ContainerDiv>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PresortIsComplete;\r\n\r\nconst SortTitleBar = styled.div`\r\n  width: calc(100vw-4px);\r\n  padding-left: 1.5vw;\r\n  padding-right: 1.5vw;\r\n  padding-top: 5px;\r\n  min-height: 50px;\r\n  background-color: ${(props) => props.background};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n`;\r\n\r\nconst ContainerDiv = styled.div`\r\n  display: flex;\r\n  min-height: 800px;\r\n  width: calc(100vw-4px);\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ContentDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.2em;\r\n  width: 85vw;\r\n  font-size: 1.35em;\r\n  padding: 25px;\r\n  align-self: center;\r\n`;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getSetCurrentPage = (state) => state.setCurrentPage;\r\n\r\nconst PleaseLogInFirst = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const setCurrentPage = useStore(getSetCurrentPage);\r\n\r\n  const headerBarColor = configObj.headerBarColor;\r\n  const mainText = ReactHtmlParser(decodeHTML(langObj.logInFirst));\r\n  const titleBarText = ReactHtmlParser(decodeHTML(langObj.titleBarText));\r\n\r\n  useEffect(() => {\r\n    setCurrentPage(\"presort\");\r\n  }, [setCurrentPage]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <SortTitleBar background={headerBarColor}>{titleBarText}</SortTitleBar>\r\n      <ContainerDiv>\r\n        <ContentDiv>{mainText}</ContentDiv>\r\n      </ContainerDiv>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PleaseLogInFirst;\r\n\r\nconst SortTitleBar = styled.div`\r\n  width: calc(100vw-4px);\r\n  padding-left: 1.5vw;\r\n  padding-right: 1.5vw;\r\n  padding-top: 5px;\r\n  min-height: 50px;\r\n  background-color: ${(props) => props.background};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n`;\r\n\r\nconst ContainerDiv = styled.div`\r\n  display: flex;\r\n  min-height: 800px;\r\n  width: calc(100vw-4px);\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ContentDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.2em;\r\n  width: 85vw;\r\n  font-size: 1.35em;\r\n  padding: 25px;\r\n  align-self: center;\r\n`;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getStatementsObj = (state) => state.statementsObj;\r\nconst getColumnStatements = (state) => state.columnStatements;\r\n// const getSetColumnStatements = (state) => state.setColumnStatements;\r\nconst getSetPresortFinished = (state) => state.setPresortFinished;\r\nconst getSetTrigPresortFinModal = (state) =>\r\n  state.setTriggerPresortFinishedModal;\r\nconst getResults = (state) => state.results;\r\nconst getSetResults = (state) => state.setResults;\r\nconst getSetProgressScoreAdditional = (state) =>\r\n  state.setProgressScoreAdditional;\r\n\r\n/*\r\n *\r\n *  drop column css is in \"globalCSS.js\" and column ids are generated string concatenations\r\n *  cardsDivImg, negDivImg,\r\n */\r\n\r\nfunction PresortDNDImages(props) {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const statementsObj = useSettingsStore(getStatementsObj);\r\n  const columnStatements = useSettingsStore(getColumnStatements);\r\n  // const presortSortedStatementsNumInitial = useStore(getPreSortedStateNumInit);\r\n  // const setColumnStatements = useSettingsStore(getSetColumnStatements);\r\n  const setPresortFinished = useStore(getSetPresortFinished);\r\n  const setTriggerPresortFinishedModal = useStore(getSetTrigPresortFinModal);\r\n  const results = useStore(getResults);\r\n  const setResults = useStore(getSetResults);\r\n  const setProgressScoreAdditional = useStore(getSetProgressScoreAdditional);\r\n\r\n  let imageWidth = \"24vw\";\r\n  if (configObj.imageFormat === \"postSortImageModal43\") {\r\n    imageWidth = \"20vw\";\r\n  }\r\n  const statementsName =\r\n    ReactHtmlParser(decodeHTML(langObj.presortStatements)) || \"\";\r\n  const btnDisagreement =\r\n    ReactHtmlParser(decodeHTML(langObj.presortDisagreement)) || \"\";\r\n  const btnAgreement =\r\n    ReactHtmlParser(decodeHTML(langObj.presortAgreement)) || \"\";\r\n  const btnNeutral = ReactHtmlParser(decodeHTML(langObj.presortNeutral)) || \"\";\r\n  const enlargeText =\r\n    ReactHtmlParser(decodeHTML(langObj.presortImageSortInstructions)) || \"\";\r\n\r\n  // initialize local state\r\n  let [presortSortedStatementsNum, setPresortSortedStatementsNum] =\r\n    useLocalStorage(\"presortSortedCards\", 0);\r\n  const [openImageModal, setOpenImageModal] = useState(false);\r\n  const [imageSource, setImageSource] = useState(\"\");\r\n  const [dualPhotoArray, setDualPhotoArray] = useState([]);\r\n  const [openDualImageModal, setOpenDualImageModal] = useState(false);\r\n\r\n  const handleOpenImageModal = (e, src) => {\r\n    if (e.detail === 2) {\r\n      if (e.shiftKey) {\r\n        dualPhotoArray.push(e.target.src);\r\n        setDualPhotoArray(dualPhotoArray);\r\n        if (dualPhotoArray.length === 2) {\r\n          setOpenDualImageModal(true);\r\n        }\r\n      } else {\r\n        setImageSource(e.target.src);\r\n        setOpenImageModal(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  let statementsLength = columnStatements.imagesList.length;\r\n  const cardFontSize = `${props.cardFontSize}px`;\r\n  let defaultFontColor = configObj.defaultFontColor;\r\n\r\n  const [columns, setColumns] = useLocalStorage(\"columns\", {\r\n    cards: {\r\n      name: statementsName,\r\n      items: [...columnStatements.imagesList],\r\n      id: \"cards\",\r\n    },\r\n    neg: {\r\n      name: btnDisagreement,\r\n      items: [],\r\n      id: \"neg\",\r\n    },\r\n    neutral: {\r\n      name: btnNeutral,\r\n      items: [],\r\n      id: \"neutral\",\r\n    },\r\n    pos: {\r\n      name: btnAgreement,\r\n      id: \"pos\",\r\n      items: [],\r\n    },\r\n  });\r\n\r\n  // default = positive sort direction\r\n  let pinkArraySortValue = 333,\r\n    greenArraySortValue = 111;\r\n  if (configObj.sortDirection === \"negative\") {\r\n    pinkArraySortValue = 111;\r\n    greenArraySortValue = 333;\r\n  }\r\n\r\n  const onDragEnd = useCallback(\r\n    (result, columns, setColumns) => {\r\n      if (!result.destination || result.destination.droppableId === \"cards\") {\r\n        return;\r\n      }\r\n      const { source, destination } = result;\r\n\r\n      // update statement characteristics\r\n      const imagesArray = [...columnStatements.imagesList];\r\n      const destinationId = result.destination.droppableId;\r\n      const draggableId = result.draggableId;\r\n\r\n      // set METADATA FOR SORTING\r\n      for (let i = 0; i < imagesArray.length; i++) {\r\n        if (imagesArray[i].id === draggableId) {\r\n          if (destinationId === \"neg\") {\r\n            imagesArray[i].divColor = \"isNegativeStatement\";\r\n            imagesArray[i].cardColor = \"pinkSortCard\";\r\n            imagesArray[i].pinkChecked = true;\r\n            imagesArray[i].yellowChecked = false;\r\n            imagesArray[i].greenChecked = false;\r\n            imagesArray[i].sortValue = pinkArraySortValue;\r\n          }\r\n          if (destinationId === \"neutral\") {\r\n            imagesArray[i].divColor = \"isUncertainStatement\";\r\n            imagesArray[i].cardColor = \"yellowSortCard\";\r\n            imagesArray[i].pinkChecked = false;\r\n            imagesArray[i].yellowChecked = true;\r\n            imagesArray[i].greenChecked = false;\r\n            imagesArray[i].sortValue = 222;\r\n          }\r\n          if (destinationId === \"pos\") {\r\n            imagesArray[i].divColor = \"isPositiveStatement\";\r\n            imagesArray[i].cardColor = \"greenSortCard\";\r\n            imagesArray[i].pinkChecked = false;\r\n            imagesArray[i].yellowChecked = false;\r\n            imagesArray[i].greenChecked = true;\r\n            imagesArray[i].sortValue = greenArraySortValue;\r\n          }\r\n        }\r\n      }\r\n\r\n      // set new ordering\r\n      for (let i = 0; i < imagesArray.length; i++) {\r\n        imagesArray[i].listIndex = i + 1;\r\n      }\r\n\r\n      // save to memory\r\n      columnStatements.imagesList = [...imagesArray];\r\n      // setColumnStatements(columnStatements);\r\n      localStorage.setItem(\r\n        \"columnStatements\",\r\n        JSON.stringify(columnStatements)\r\n      );\r\n\r\n      // when dropped on different droppable\r\n      if (source.droppableId !== destination.droppableId) {\r\n        try {\r\n          const sourceColumn = columns[source.droppableId];\r\n          const destColumn = columns[destination.droppableId];\r\n          const sourceItems = [...sourceColumn.items];\r\n          const destItems = [...destColumn.items];\r\n          const [removed] = sourceItems.splice(source.index, 1);\r\n\r\n          // change background color\r\n          if (destColumn.id === \"pos\") {\r\n            removed.backgroundColor = configObj.greenCardColor;\r\n          }\r\n          if (destColumn.id === \"neg\") {\r\n            removed.backgroundColor = configObj.pinkCardColor;\r\n          }\r\n          if (destColumn.id === \"neutral\") {\r\n            removed.backgroundColor = configObj.yellowCardColor;\r\n          }\r\n\r\n          destItems.splice(destination.index, 0, removed);\r\n\r\n          // update columns\r\n          setColumns({\r\n            ...columns,\r\n            [source.droppableId]: {\r\n              ...sourceColumn,\r\n              items: sourceItems,\r\n            },\r\n            [destination.droppableId]: {\r\n              ...destColumn,\r\n              items: destItems,\r\n            },\r\n          });\r\n\r\n          // calc remaining statements\r\n          let sortedStatements;\r\n          if (sourceColumn.id === \"cards\") {\r\n            sortedStatements = statementsLength - sourceColumn.items.length + 1;\r\n            setPresortSortedStatementsNum(sortedStatements);\r\n            const ratio = sortedStatements / statementsObj.totalStatements;\r\n            const completedPercent = (ratio * 30).toFixed();\r\n\r\n            // update Progress Bar State\r\n            setProgressScoreAdditional(completedPercent);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      } else {\r\n        try {\r\n          // MOVING BETWEEN COLUMNS\r\n          const sourceCol = columns[source.droppableId];\r\n          const copiedItems = [...sourceCol.items];\r\n          const [removed] = copiedItems.splice(source.index, 1);\r\n          copiedItems.splice(destination.index, 0, removed);\r\n          setColumns({\r\n            ...columns,\r\n            [source.droppableId]: {\r\n              ...sourceCol,\r\n              items: copiedItems,\r\n            },\r\n          });\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    },\r\n    [\r\n      configObj,\r\n      columnStatements,\r\n      statementsObj,\r\n      setProgressScoreAdditional,\r\n      statementsLength,\r\n      greenArraySortValue,\r\n      pinkArraySortValue,\r\n      setPresortSortedStatementsNum,\r\n    ]\r\n  ); // END DRAG-END\r\n\r\n  useEffect(() => {\r\n    const handleKeyUp = (event) => {\r\n      let target;\r\n      if (event.key === \"1\" || event.key === 1) {\r\n        target = \"neg\";\r\n      } else if (event.key === \"2\" || event.key === 2) {\r\n        target = \"neutral\";\r\n      } else if (event.key === \"3\" || event.key === 3) {\r\n        target = \"pos\";\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      if (columns.cards.items.length > 0) {\r\n        let source = columns.cards.items[0].id;\r\n        const results = {\r\n          draggableId: source,\r\n          type: \"DEFAULT\",\r\n          source: {\r\n            index: 0,\r\n            droppableId: \"cards\",\r\n          },\r\n          reason: \"DROP\",\r\n          mode: \"FLUID\",\r\n          destination: {\r\n            droppableId: target,\r\n            index: 0,\r\n          },\r\n          combine: null,\r\n        };\r\n\r\n        onDragEnd(results, columns, setColumns);\r\n      }\r\n    }; // end keyup\r\n\r\n    window.addEventListener(\"keyup\", handleKeyUp);\r\n\r\n    return () => window.removeEventListener(\"keyup\", handleKeyUp);\r\n  }, [onDragEnd, columns, setColumns]);\r\n\r\n  useEffect(() => {\r\n    let posText = \"\";\r\n    let neutralText = \"\";\r\n    let negText = \"\";\r\n\r\n    columns.pos.items.forEach((item) => {\r\n      if (columns.pos.items[0]) {\r\n        posText += item.statementNum + \",\";\r\n      }\r\n    });\r\n\r\n    if (columns.neutral.items[0]) {\r\n      columns.neutral.items.forEach((item) => {\r\n        neutralText += item.statementNum + \",\";\r\n      });\r\n    }\r\n\r\n    if (columns.neg.items[0]) {\r\n      columns.neg.items.forEach((item) => {\r\n        negText += item.statementNum + \",\";\r\n      });\r\n    }\r\n\r\n    let projectResultsObj = results;\r\n    projectResultsObj.npos = columns.pos.items.length;\r\n    projectResultsObj.posStateNums = posText;\r\n    projectResultsObj.nneu = columns.neutral.items.length;\r\n    projectResultsObj.neuStateNums = neutralText;\r\n    projectResultsObj.nneg = columns.neg.items.length;\r\n    projectResultsObj.negStateNums = negText;\r\n    setResults(projectResultsObj);\r\n    localStorage.setItem(\"resultsPresort\", JSON.stringify(projectResultsObj));\r\n  }, [columns, results, setResults]);\r\n\r\n  useEffect(() => {\r\n    if (columns.cards.items.length === 0) {\r\n      setPresortFinished(true);\r\n      setTriggerPresortFinishedModal(true);\r\n    }\r\n  }, [\r\n    columns.cards.items.length,\r\n    setPresortFinished,\r\n    setTriggerPresortFinishedModal,\r\n  ]);\r\n\r\n  // RENDER COMPONENT\r\n  return (\r\n    <PresortGrid id=\"imageGrid\">\r\n      <ImageEnlargeInstructionsDiv id=\"imageEnlargeInstructionsDiv\">\r\n        <div>{enlargeText}</div>\r\n      </ImageEnlargeInstructionsDiv>\r\n      <CompletionRatioDiv id=\"completionRatioImg\">\r\n        {presortSortedStatementsNum}/{statementsLength}\r\n      </CompletionRatioDiv>\r\n      <ColumnNamesNeg id=\"negDivImg\">\r\n        <div>{columns.neg.name}</div>\r\n      </ColumnNamesNeg>\r\n      <ColumnNamesNeu id=\"negDivImg\">\r\n        <div>{columns.neutral.name}</div>\r\n      </ColumnNamesNeu>\r\n      <ColumnNamesPos id=\"negDivImg\">\r\n        <div>{columns.pos.name}</div>\r\n      </ColumnNamesPos>\r\n\r\n      <Modal\r\n        open={openImageModal}\r\n        center\r\n        onClose={() => setOpenImageModal(false)}\r\n        classNames={{\r\n          modal: `${configObj.imageFormat}`,\r\n          overlay: \"dualImageOverlay\",\r\n        }}\r\n      >\r\n        <img src={imageSource} width=\"100%\" height=\"auto\" alt=\"modalImage\" />\r\n      </Modal>\r\n      <Modal\r\n        open={openDualImageModal}\r\n        center\r\n        onClose={() => {\r\n          setOpenDualImageModal(false);\r\n          setDualPhotoArray([]);\r\n        }}\r\n        classNames={{ overlay: \"dualImageOverlay\", modal: \"dualImageModal\" }}\r\n      >\r\n        <img\r\n          src={dualPhotoArray[0]}\r\n          width=\"49.5%\"\r\n          height=\"auto\"\r\n          alt=\"modalImage\"\r\n        />\r\n        <img\r\n          src={dualPhotoArray[1]}\r\n          width=\"49.5%\"\r\n          height=\"auto\"\r\n          style={{ marginLeft: \"1%\" }}\r\n          alt=\"modalImage2\"\r\n        />\r\n      </Modal>\r\n\r\n      <DragDropContext\r\n        onDragEnd={(result) => onDragEnd(result, columns, setColumns)}\r\n      >\r\n        {Object.entries(columns).map(([columnId, column], index) => {\r\n          return (\r\n            <AllColWrapper\r\n              key={columnId}\r\n              id={`${columnId}Div`}\r\n              className={`${columnId}DivImg`}\r\n            >\r\n              <ThreeColCardWrapper>\r\n                <Droppable\r\n                  droppableId={columnId}\r\n                  className={columnId}\r\n                  key={columnId}\r\n                >\r\n                  {(provided, snapshot) => {\r\n                    return (\r\n                      <div\r\n                        {...provided.droppableProps}\r\n                        ref={provided.innerRef}\r\n                        id={columnId}\r\n                        className={columnId}\r\n                        style={{\r\n                          background: snapshot.isDraggingOver\r\n                            ? \"lightblue\"\r\n                            : \"white\",\r\n                          padding: 4,\r\n                          width: \"100%\",\r\n                          height: \"auto\",\r\n                        }}\r\n                      >\r\n                        {column.items.map((item, index) => {\r\n                          return (\r\n                            <Draggable\r\n                              key={item.id}\r\n                              id={item.id}\r\n                              draggableId={item.id}\r\n                              index={index}\r\n                              className=\"dragObject\"\r\n                            >\r\n                              {(provided, snapshot) => {\r\n                                return (\r\n                                  <DroppableContainer\r\n                                    id=\"DroppableContainer\"\r\n                                    ref={provided.innerRef}\r\n                                    {...provided.draggableProps}\r\n                                    {...provided.dragHandleProps}\r\n                                    imageWidth={imageWidth}\r\n                                    style={{\r\n                                      userSelect: \"none\",\r\n                                      padding: 2,\r\n                                      margin: \"0 0 8px 0\",\r\n                                      overflow: \"hidden\",\r\n                                      fontSize: cardFontSize,\r\n                                      filter: snapshot.isDragging\r\n                                        ? \"brightness(0.85)\"\r\n                                        : \"brightness(1.00)\",\r\n                                      backgroundColor: snapshot.isDragging\r\n                                        ? item.backgroundColor\r\n                                        : item.backgroundColor,\r\n                                      color: defaultFontColor,\r\n                                      ...provided.draggableProps.style,\r\n                                    }}\r\n                                    onClick={(e) =>\r\n                                      handleOpenImageModal(\r\n                                        e,\r\n                                        item.element.props.src\r\n                                      )\r\n                                    }\r\n                                  >\r\n                                    <img\r\n                                      src={item.element.props.src}\r\n                                      alt={item.element.props.alt}\r\n                                    />\r\n                                  </DroppableContainer>\r\n                                );\r\n                              }}\r\n                            </Draggable>\r\n                          );\r\n                        })}\r\n                        {provided.placeholder}\r\n                      </div>\r\n                    );\r\n                  }}\r\n                </Droppable>\r\n              </ThreeColCardWrapper>\r\n            </AllColWrapper>\r\n          );\r\n        })}\r\n      </DragDropContext>\r\n    </PresortGrid>\r\n  );\r\n}\r\n\r\nexport default PresortDNDImages;\r\n\r\nconst ColumnNamesNeg = styled.div`\r\n  display: flex;\r\n  grid-column-start: 2;\r\n  grid-row-start: 2;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n\r\n  div {\r\n    display: flex;\r\n    outline: 1px solid #a8a8a8;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgba(255, 182, 193, 0.4);\r\n    min-width: 50%;\r\n    padding: 2px;\r\n    border-radius: 5px;\r\n  }\r\n`;\r\n\r\nconst ColumnNamesNeu = styled.div`\r\n  display: flex;\r\n  align-self: center;\r\n  grid-column-start: 3;\r\n  grid-row-start: 2;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n\r\n  div {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    outline: 1px solid #a8a8a8;\r\n    background-color: lightgray;\r\n    min-width: 50%;\r\n    padding: 2px;\r\n    border-radius: 5px;\r\n  }\r\n`;\r\n\r\nconst ColumnNamesPos = styled.div`\r\n  display: flex;\r\n  grid-column-start: 4;\r\n  grid-row-start: 2;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n\r\n  div {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgba(199, 246, 199, 0.6);\r\n    min-width: 50%;\r\n    padding: 2px;\r\n    border-radius: 5px;\r\n    outline: 1px solid #a8a8a8;\r\n  }\r\n`;\r\n\r\nconst PresortGrid = styled.div`\r\n  padding-top: 10px;\r\n  margin-top: 25px;\r\n  margin-bottom: 55px;\r\n  display: grid;\r\n  height: calc(100vh-100px);\r\n  grid-template-rows: 34h 25px 40vh;\r\n  grid-template-columns: 0.25fr 1.5fr 1.5fr 1.5fr 0.25fr;\r\n  row-gap: 3px;\r\n  column-gap: 15px;\r\n  overflow-y: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n`;\r\n\r\nconst DroppableContainer = styled.div`\r\n  background-color: \"#83cafe\";\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n  border-radius: 2px;\r\n  width: 27.8vw;\r\n  // margin-left: 15px;\r\n  // border: 1px solid #a8a8a8;\r\n  img {\r\n    width: ${(props) => props.imageWidth} !important;\r\n    height: auto;\r\n    border: 1px solid black;\r\n  }\r\n`;\r\n\r\nconst ThreeColCardWrapper = styled.div`\r\n  margin: 4px;\r\n  img {\r\n    object-fit: contain;\r\n    padding: 0px;\r\n  }\r\n`;\r\n\r\nconst CompletionRatioDiv = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-bottom: 5px;\r\n  font-size: 60px;\r\n  font-weight: bold;\r\n  padding-left: 3px;\r\n  padding-right: 3px;\r\n`;\r\n\r\nconst ImageEnlargeInstructionsDiv = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-bottom: 5px;\r\n  font-size: 16px;\r\n  padding-left: 3px;\r\n  padding-right: 3px;\r\n  width: 100%;\r\n`;\r\n\r\nconst AllColWrapper = styled.div`\r\n  margin: 4px;\r\n  display: \"flex\";\r\n  flex-direction: \"column\";\r\n  width: 100%;\r\n`;\r\n","import React, { useEffect } from \"react\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport PresortModal from \"./PresortModal\";\r\nimport PresortDND from \"./PresortDND\";\r\nimport calculateTimeOnPage from \"../../utilities/calculateTimeOnPage\";\r\nimport styled from \"styled-components\";\r\nimport PresortPreventNavModal from \"./PresortPreventNavModal\";\r\nimport PresortFinishedModal from \"./PresortFinishedModal\";\r\nimport PresortIsComplete from \"./PresortIsComplete\";\r\nimport PleaseLogInFirst from \"./PleaseLogInFirst\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport PromptUnload from \"../../utilities/PromptUnload\";\r\nimport PresortDndImages from \"./PresortDndImages\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getStatementsObj = (state) => state.statementsObj;\r\nconst getCardFontSizePresort = (state) => state.cardFontSizePresort;\r\nconst getIsLoggedIn = (state) => state.isLoggedIn;\r\nconst getSetCurrentPage = (state) => state.setCurrentPage;\r\nconst getSetProgressScore = (state) => state.setProgressScore;\r\nconst getPresortNoReturn = (state) => state.presortNoReturn;\r\nconst getResetColumnStatements = (state) => state.resetColumnStatements;\r\nconst getSetDisplayNextButton = (state) => state.setDisplayNextButton;\r\n\r\nconst PresortPage = (props) => {\r\n  // GLOBAL STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const statementsObj = useSettingsStore(getStatementsObj);\r\n  let cardFontSize = useStore(getCardFontSizePresort);\r\n  const isLoggedIn = useSettingsStore(getIsLoggedIn);\r\n  const setCurrentPage = useStore(getSetCurrentPage);\r\n  const setProgressScore = useStore(getSetProgressScore);\r\n  const presortNoReturn = useStore(getPresortNoReturn);\r\n  const resetColumnStatements = useSettingsStore(getResetColumnStatements);\r\n  const setDisplayNextButton = useStore(getSetDisplayNextButton);\r\n  const cardFontSizePersist = +localStorage.getItem(\"fontSizePresort\");\r\n\r\n  if (cardFontSizePersist) {\r\n    cardFontSize = cardFontSizePersist;\r\n  }\r\n\r\n  // set next button display\r\n  setDisplayNextButton(true);\r\n\r\n  useEffect(() => {\r\n    let startTime = Date.now();\r\n    const setStateAsync = async () => {\r\n      await setCurrentPage(\"presort\");\r\n      localStorage.setItem(\"currentPage\", \"presort\");\r\n      await setProgressScore(20);\r\n    };\r\n    setStateAsync();\r\n    return () => {\r\n      calculateTimeOnPage(startTime, \"presortPage\", \"presortPage\");\r\n    };\r\n  }, [setCurrentPage, setProgressScore]);\r\n\r\n  let columnStatements = statementsObj.columnStatements;\r\n\r\n  if (configObj.setupTarget === \"local\") {\r\n    columnStatements = JSON.parse(JSON.stringify(resetColumnStatements));\r\n  }\r\n\r\n  const headerBarColor = configObj.headerBarColor;\r\n  const initialScreen = configObj.initialScreen;\r\n  const statements = cloneDeep(columnStatements.statementList);\r\n  const imageSort = configObj.useImages;\r\n\r\n  const titleBarText = ReactHtmlParser(decodeHTML(langObj.titleBarText)) || \"\";\r\n\r\n  // early return if log-in required and not logged in\r\n  if (initialScreen !== \"anonymous\") {\r\n    if (isLoggedIn === false) {\r\n      return <PleaseLogInFirst />;\r\n    }\r\n  }\r\n  // early return of presort finished message if complete\r\n  if (presortNoReturn) {\r\n    return <PresortIsComplete />;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <PromptUnload />\r\n      <PresortModal />\r\n      <PresortFinishedModal />\r\n      <PresortPreventNavModal />\r\n      <SortTitleBar background={headerBarColor}>{titleBarText}</SortTitleBar>\r\n      {imageSort ? (\r\n        <PresortDndImages cardFontSize={cardFontSize} />\r\n      ) : (\r\n        <PresortDND statements={statements} cardFontSize={cardFontSize} />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PresortPage;\r\n\r\nconst SortTitleBar = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100vw;\r\n  padding-left: 1.5vw;\r\n  padding-right: 1.5vw;\r\n  min-height: 50px;\r\n  background-color: ${(props) => props.background};\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n  position: fixed;\r\n  z-index: 999;\r\n  top: 0;\r\n`;\r\n","import useStore from \"../../globalState/useStore\";\r\n\r\nconst checkForColumnOverload = (\r\n  columnLengthCheckArray,\r\n  forcedSorts,\r\n  totalStatements,\r\n  qSortPattern,\r\n  qSortHeaderNumbers\r\n) => {\r\n  if (forcedSorts === true) {\r\n    const tempArray = [];\r\n\r\n    // iterate through array and check if col length > design length\r\n    columnLengthCheckArray.forEach(function (item, index) {\r\n      if (item > +qSortPattern[index]) {\r\n        tempArray.push(qSortHeaderNumbers[index]);\r\n        useStore.setState({ sortCompleted: false });\r\n        useStore.setState({ overloadedColumn: qSortHeaderNumbers[index] });\r\n        useStore.setState({ hasOverloadedColumn: true });\r\n        useStore.setState({ isSortingCards: false });\r\n        return null;\r\n      }\r\n    });\r\n    // if no overload - set overload to no and is sorting to true\r\n    if (tempArray.length === 0) {\r\n      useStore.setState({ hasOverloadedColumn: false });\r\n      useStore.setState({ isSortingCards: true });\r\n    }\r\n  }\r\n\r\n  const numSortedStatements = columnLengthCheckArray.reduce(function (\r\n    acc,\r\n    val\r\n  ) {\r\n    return acc + val;\r\n  });\r\n\r\n  useStore.setState({ numSortedStatements: numSortedStatements });\r\n\r\n  if (forcedSorts === false) {\r\n    if (numSortedStatements === totalStatements) {\r\n      useStore.setState({ sortCompleted: true });\r\n      useStore.setState({ isSortingCards: false });\r\n    } else {\r\n      useStore.setState({ sortCompleted: false });\r\n      useStore.setState({ isSortingCards: true });\r\n    }\r\n  }\r\n};\r\n\r\nexport default checkForColumnOverload;\r\n","import isEqual from \"lodash/isEqual\";\r\nimport checkForColumnOverload from \"./checkForColumnOverload\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\n/**\r\n * Moves an item from one list to another list.\r\n */\r\nconst move = (\r\n  sourceListArray,\r\n  destinationListArray,\r\n  droppableSource,\r\n  droppableDestination,\r\n  columnStatements,\r\n  totalStatements,\r\n  sortCharacteristics,\r\n  allowUnforcedSorts,\r\n  qSortHeaderNumbers\r\n) => {\r\n  const { qSortPattern, qSortHeaders, forcedSorts } = sortCharacteristics;\r\n\r\n  const destClone = [...destinationListArray];\r\n\r\n  // to splice in and out\r\n  const [removed] = sourceListArray.splice(droppableSource.index, 1);\r\n  destinationListArray.splice(droppableDestination.index, 0, removed);\r\n\r\n  sourceListArray[droppableSource.droppableId] = [removed];\r\n  destinationListArray[droppableDestination.droppableId] = [...destClone];\r\n\r\n  // to assign to object and register results to state\r\n  const result = {};\r\n  result[droppableSource.droppableId] = [...sourceListArray];\r\n  result[droppableDestination.droppableId] = [...destinationListArray];\r\n\r\n  // to save to state and auto update lists\r\n  useStore.setState({ result: result });\r\n\r\n  // for sort complete checking\r\n  const columnLengthCheckArray = [];\r\n  for (let i = 0; i < qSortHeaders.length; i++) {\r\n    const currentColumnLength =\r\n      columnStatements.vCols[`column${qSortHeaders[i]}`];\r\n    columnLengthCheckArray.push(currentColumnLength.length);\r\n  }\r\n  // sort mutates, so clone\r\n  const qSortPatternClone = [...qSortPattern];\r\n  const overloadArrayCheck = [...columnLengthCheckArray];\r\n  const match = isEqual(columnLengthCheckArray, qSortPatternClone);\r\n\r\n  checkForColumnOverload(\r\n    overloadArrayCheck,\r\n    forcedSorts,\r\n    totalStatements,\r\n    qSortPattern,\r\n    qSortHeaderNumbers\r\n  );\r\n\r\n  // to disable checking if unforced Q sorts allowed\r\n  if (allowUnforcedSorts === false) {\r\n    // if the sort pattern matches default sort pattern\r\n    if (match === true) {\r\n      useStore.setState({ hasOverloadedColumn: false });\r\n      useStore.setState({ sortCompleted: true });\r\n      console.log(\"sorting complete\");\r\n      useStore.setState({ isSortingCards: false });\r\n      useStore.setState({ isSortingFinished: true });\r\n    } else {\r\n      useStore.setState({ hasOverloadedColumn: true });\r\n      useStore.setState({ sortCompleted: false });\r\n      useStore.setState({ isSortingCards: true });\r\n      if (columnStatements.statementList.length === 0) {\r\n        useStore.setState({ isSortingFinished: true });\r\n      } else {\r\n        useStore.setState({ isSortingFinished: false });\r\n      }\r\n    }\r\n  } else {\r\n    // for unforced sorts - is source array empty?\r\n    if (sourceListArray.length === 0) {\r\n      useStore.setState({ hasOverloadedColumn: false });\r\n      useStore.setState({ sortCompleted: true });\r\n      console.log(\"sorting complete\");\r\n      useStore.setState({ isSortingCards: false });\r\n      useStore.setState({ isSortingFinished: true });\r\n    } else {\r\n      useStore.setState({ sortCompleted: false });\r\n      useStore.setState({ isSortingCards: true });\r\n      useStore.setState({ hasOverloadedColumn: false });\r\n      useStore.setState({ isSortingFinished: false });\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default move;\r\n","// to reorder within the same column\r\nconst reorder = (\r\n  columnToBeReordered,\r\n  startIndex,\r\n  endIndex,\r\n  columnStatements\r\n) => {\r\n  try {\r\n    console.log(\"reorder\");\r\n    // no re-ordering of statements list / it's arranged by flexbox \"order\" css property\r\n    if (columnToBeReordered === \"statements\") {\r\n      return columnStatements;\r\n    }\r\n    // let list = state.getState(columnList);\r\n    const list = columnStatements.vCols[columnToBeReordered];\r\n    const result = [...list]; // Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n\r\n    columnStatements.vCols[columnToBeReordered] = [...result];\r\n\r\n    return { ...columnStatements };\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport default reorder;\r\n","const getItemStyle = (\r\n  isDragging,\r\n  draggableStyle,\r\n  cardWidth,\r\n  cardHeight,\r\n  cardFontSize,\r\n  cardColor,\r\n  greenCardColor,\r\n  yellowCardColor,\r\n  pinkCardColor,\r\n  fontColor\r\n) => {\r\n  let newCardColor;\r\n  if (cardColor === \"greenSortCard\") {\r\n    newCardColor = greenCardColor;\r\n  }\r\n  if (cardColor === \"yellowSortCard\") {\r\n    newCardColor = yellowCardColor;\r\n  }\r\n  if (cardColor === \"pinkSortCard\") {\r\n    newCardColor = pinkCardColor;\r\n  }\r\n\r\n  return {\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: \"none\",\r\n    padding: `0 2px 0 2px`,\r\n    margin: `0 2px 8px 3px`,\r\n    lineHeight: `1.3em`,\r\n    fontSize: cardFontSize,\r\n    color: fontColor,\r\n    height: cardHeight,\r\n    width: cardWidth,\r\n    borderRadius: `5px`,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    border: `1px solid #a8a8a8`,\r\n    filter: isDragging ? \"brightness(0.85)\" : \"brightness(1.00)\",\r\n    zIndex: \"-1\",\r\n\r\n    // transitionDelay: \"0.2s\",\r\n    // change background colour if dragging  (#e6bbad or #FFB266)\r\n    textAlign: `center`,\r\n    background: isDragging ? newCardColor : newCardColor,\r\n\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n  };\r\n};\r\n\r\nexport default getItemStyle;\r\n","import useStore from \"../../globalState/useStore\";\r\n\r\n// card and column styling\r\nconst getListStyle = (\r\n  isDraggingOver,\r\n  props,\r\n  forcedSorts,\r\n  columnWidth,\r\n  columnColor,\r\n  cardHeight\r\n) => {\r\n  // forcedSorts is \"warnOverloadedColumn\" in configObj\r\n  let isUnderMaxCards;\r\n  if (forcedSorts === true) {\r\n    isUnderMaxCards = props.columnStatementsArray.length <= props.maxCards;\r\n  } else {\r\n    isUnderMaxCards = true;\r\n  }\r\n\r\n  // to set highlighting for column headers\r\n  if (isDraggingOver) {\r\n    useStore.setState({ draggingOverColumnId: props.columnId });\r\n  }\r\n\r\n  return {\r\n    background: isDraggingOver\r\n      ? \"lightblue\"\r\n      : isUnderMaxCards\r\n      ? columnColor\r\n      : \"orange\",\r\n    padding: `3px 0.5px 0px 3.5px`,\r\n\r\n    minWidth: columnWidth + 13,\r\n    marginTop: 0,\r\n    marginRight: 0,\r\n    minHeight: props.minHeight - 10,\r\n    borderRadius: `2px`,\r\n    outline: isUnderMaxCards ? \"1px solid #d8d8d8\" : \"2px dashed black\",\r\n    outlineOffset: \"-1px\",\r\n  };\r\n};\r\n\r\nexport default getListStyle;\r\n\r\n// border: 'solid 1px #ededed',\r\n","import React from \"react\";\r\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport styled from \"styled-components\";\r\nimport getItemStyle from \"./getItemStyle\";\r\nimport getListStyle from \"./getListStyle\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\n/* eslint react/prop-types: 0 */\r\n\r\nconst SortColumn = (props) => {\r\n  const {\r\n    forcedSorts,\r\n    columnWidth,\r\n    cardHeight,\r\n    columnId,\r\n    sortValue,\r\n    columnStatementsArray,\r\n    columnColor,\r\n    cardFontSize,\r\n    greenCardColor,\r\n    yellowCardColor,\r\n    pinkCardColor,\r\n    fontColor,\r\n  } = props;\r\n\r\n  // had to push column sort value to state because didn't want to edit dnd library result object\r\n  // was't able to just pass it as a prop\r\n  return (\r\n    <SortColumnsDiv id=\"sortColumnsDiv\">\r\n      <Droppable id=\"ColDroppable\" droppableId={columnId} direction=\"vertical\">\r\n        {(provided, snapshot) => {\r\n          if (snapshot.isDraggingOver) {\r\n            useStore.setState({ draggingOverColumnId: columnId });\r\n            useStore.setState({ currentSortValue: sortValue });\r\n          }\r\n          return (\r\n            <DroppableColDiv\r\n              id=\"DroppableColDiv\"\r\n              ref={provided.innerRef}\r\n              style={getListStyle(\r\n                snapshot.isDraggingOver,\r\n                props,\r\n                forcedSorts,\r\n                columnWidth,\r\n                columnColor,\r\n                cardHeight\r\n              )}\r\n            >\r\n              {columnStatementsArray.map((item, index) => {\r\n                const statementHtml = ReactHtmlParser(\r\n                  `<div>${decodeHTML(item.statement)}</div>`\r\n                );\r\n                return (\r\n                  <Draggable\r\n                    key={item.id}\r\n                    draggableId={item.id}\r\n                    cardColor={item.cardColor}\r\n                    index={index}\r\n                  >\r\n                    {(provided, snapshot) => (\r\n                      <StatementDiv\r\n                        id=\"StatementDiv\"\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        {...provided.dragHandleProps}\r\n                        style={getItemStyle(\r\n                          snapshot.isDragging,\r\n                          provided.draggableProps.style,\r\n                          columnWidth,\r\n                          cardHeight,\r\n                          cardFontSize,\r\n                          `${item.cardColor}`,\r\n                          greenCardColor,\r\n                          yellowCardColor,\r\n                          pinkCardColor,\r\n                          fontColor\r\n                        )}\r\n                      >\r\n                        {statementHtml}\r\n                      </StatementDiv>\r\n                    )}\r\n                  </Draggable>\r\n                );\r\n              })}\r\n              {provided.placeholder}\r\n            </DroppableColDiv>\r\n          );\r\n        }}\r\n      </Droppable>\r\n    </SortColumnsDiv>\r\n  );\r\n};\r\n\r\nexport default React.memo(SortColumn);\r\n\r\nconst SortColumnsDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst DroppableColDiv = styled.div`\r\n  justify-items: center;\r\n`;\r\n\r\nconst StatementDiv = styled.div`\r\n  display: flex;\r\n  width: 96%;\r\n  margin-left: 2%;\r\n  margin-bottom: 5px !important;\r\n  height: ${(props) => `${props.cardHeight}px`};\r\n  justify-content: center;\r\n`;\r\n","// horizontal column styling\r\nconst getListStyleHori = (\r\n  isDraggingOver,\r\n  horiCardMinHeight,\r\n  sortDirection\r\n) => ({\r\n  background: isDraggingOver ? \"lightblue\" : \"#e4e4e4\",\r\n  display: \"flex\",\r\n  flexDirection: \"row\",\r\n  flexWrap: \"nowrap\",\r\n  width: \"100vw\",\r\n  paddingRight: \"20px\",\r\n  minHeight: horiCardMinHeight,\r\n  overflowX: `scroll`,\r\n  direction: sortDirection,\r\n  scrollBehavior: `smooth`,\r\n});\r\n\r\nexport default getListStyleHori;\r\n","// card styling\r\nconst getItemStyleHori = (\r\n  isDragging,\r\n  draggableStyle,\r\n  sortValue,\r\n  cardColor,\r\n  columnWidth,\r\n  cardHeight,\r\n  cardFontSize,\r\n  greenCardColor,\r\n  yellowCardColor,\r\n  pinkCardColor,\r\n  fontColor\r\n) => {\r\n  let newSortValue = sortValue;\r\n  let newCardColor = cardColor;\r\n\r\n  // puts un-evaluated cards at the end of the list and set default color\r\n  if (isNaN(+newSortValue)) {\r\n    newSortValue = 999;\r\n  }\r\n\r\n  // set background color according to user passed in values\r\n  if (newCardColor === \"undefined\" || newCardColor === \"yellowSortCard\") {\r\n    newCardColor = yellowCardColor;\r\n  }\r\n  if (newCardColor === \"pinkSortCard\") {\r\n    newCardColor = pinkCardColor;\r\n  }\r\n  if (newCardColor === \"greenSortCard\") {\r\n    newCardColor = greenCardColor;\r\n  }\r\n\r\n  return {\r\n    userSelect: \"none\",\r\n    WebkitUserSelect: \"none\",\r\n    lineHeight: `1.3em`,\r\n    fontSize: cardFontSize,\r\n    color: fontColor,\r\n    height: cardHeight,\r\n    minWidth: columnWidth,\r\n    maxWidth: columnWidth,\r\n    paddingRight: 2,\r\n    paddingLeft: 2,\r\n    borderRadius: `5px`,\r\n    touchAction: \"manipulation\",\r\n    marginBottom: 5,\r\n    marginTop: 5,\r\n    marginRight: `2px`,\r\n    marginLeft: `2px`,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    textAlign: `center`,\r\n    order: newSortValue,\r\n    filter: isDragging ? \"brightness(0.85)\" : \"brightness(1.00)\",\r\n    // change background color if dragging, otherwise pre-sort value color\r\n    background: isDragging ? newCardColor : newCardColor,\r\n    // styles to apply on draggables\r\n    ...draggableStyle,\r\n  };\r\n};\r\n\r\nexport default getItemStyleHori;\r\n","const calculateDragResults = (\r\n  outcome,\r\n  totalStatements,\r\n  results,\r\n  sortFinishedModalHasBeenShown,\r\n  sortGridResults\r\n) => {\r\n  try {\r\n    let isSortingFinished = false;\r\n    let triggerSortingFinishedModal = false;\r\n\r\n    if (outcome.destination !== null) {\r\n      // derive sortValue from droppableId\r\n      const replaceColumn = /column/gi;\r\n      const replaceN = /N/gi;\r\n      let sortValue1 = outcome.destination.droppableId;\r\n      sortValue1 = sortValue1.replace(replaceColumn, \"\");\r\n      sortValue1 = sortValue1.replace(replaceN, \"-\");\r\n      const sortValue = parseInt(sortValue1, 10);\r\n\r\n      // assign key (like \"s1\") and value (sortValue like \"-4\")\r\n      sortGridResults[outcome.draggableId] = sortValue;\r\n\r\n      // create results string\r\n      const testForCompleteArray = Object.keys(sortGridResults);\r\n      let catchNan = false;\r\n\r\n      // test if finished\r\n      if (testForCompleteArray.length === totalStatements) {\r\n        let resultsText = \"\";\r\n        for (let i = 0; i < totalStatements; i++) {\r\n          let key = `s${i + 1}`;\r\n          let newValue = sortGridResults[key];\r\n          if (isNaN(newValue)) {\r\n            catchNan = true;\r\n          }\r\n          resultsText += `${newValue}|`;\r\n          console.log(resultsText);\r\n        } // loop end\r\n\r\n        if (catchNan === true) {\r\n          // card in footer - sort not complete\r\n          isSortingFinished = false;\r\n        } else {\r\n          // if sort is complete\r\n          // process string to remove trailing bar\r\n          isSortingFinished = true;\r\n\r\n          if (resultsText.charAt(resultsText.length - 1) === \"|\") {\r\n            resultsText = resultsText.substring(0, resultsText.length - 1);\r\n          }\r\n\r\n          console.log(resultsText);\r\n\r\n          results.sort = resultsText;\r\n\r\n          if (sortFinishedModalHasBeenShown === false) {\r\n            sortFinishedModalHasBeenShown = true;\r\n            triggerSortingFinishedModal = true;\r\n          }\r\n        }\r\n      }\r\n\r\n      const returnObj = {};\r\n      returnObj.isSortingFinished = isSortingFinished;\r\n      returnObj.results = results;\r\n      returnObj.sortFinishedModalHasBeenShown = sortFinishedModalHasBeenShown;\r\n      returnObj.triggerSortingFinishedModal = triggerSortingFinishedModal;\r\n      returnObj.sortGridResults = sortGridResults;\r\n\r\n      return returnObj;\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n    console.log(\"there was an error in calculateDragResults\");\r\n  }\r\n};\r\n\r\nexport default calculateDragResults;\r\n","import React from \"react\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport styled from \"styled-components\";\r\nimport move from \"./move\";\r\nimport reorder from \"./reorder\";\r\nimport SortColumn from \"./SortColumn\";\r\nimport getListStyleHori from \"./getListStyleHori\";\r\nimport getItemStyleHori from \"./getItemStyleHori\";\r\nimport calculateDragResults from \"./calculateDragResults\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\n\r\n/* eslint react/prop-types: 0 */\r\n\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getMapObj = (state) => state.mapObj;\r\nconst getStatementsObj = (state) => state.statementsObj;\r\nconst getSetIsSortingCards = (state) => state.setIsSortingCards;\r\nconst getSetSortCompleted = (state) => state.setSortCompleted;\r\nconst getSetProgScoreAddSort = (state) => state.setProgressScoreAdditionalSort;\r\nconst getResults = (state) => state.results;\r\nconst getSortFinModalHasBeenShown = (state) =>\r\n  state.sortFinishedModalHasBeenShown;\r\nconst getSortGridResults = (state) => state.sortGridResults;\r\nconst getSetIsSortingFinished = (state) => state.setIsSortingFinished;\r\nconst getSetResults = (state) => state.setResults;\r\nconst getSetTriggerSortingFinModal = (state) =>\r\n  state.setTriggerSortingFinishedModal;\r\nconst getSetSortGridResults = (state) => state.setSortGridResults;\r\n\r\nconst SortGrid = (props) => {\r\n  // GLOBAL STATE\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const mapObj = useSettingsStore(getMapObj);\r\n  const statementsObj = useSettingsStore(getStatementsObj);\r\n  const setIsSortingCards = useStore(getSetIsSortingCards);\r\n  const setSortCompleted = useStore(getSetSortCompleted);\r\n  const setProgressScoreAdditionalSort = useStore(getSetProgScoreAddSort);\r\n  const results = useStore(getResults);\r\n  const sortFinishedModalHasBeenShown = useStore(getSortFinModalHasBeenShown);\r\n  const sortGridResults = useStore(getSortGridResults);\r\n  const setIsSortingFinished = useStore(getSetIsSortingFinished);\r\n  const setResults = useStore(getSetResults);\r\n  const setTriggerSortingFinishedModal = useStore(getSetTriggerSortingFinModal);\r\n  const setSortGridResults = useStore(getSetSortGridResults);\r\n\r\n  const greenCardColor = configObj.greenCardColor;\r\n  const yellowCardColor = configObj.yellowCardColor;\r\n  const pinkCardColor = configObj.pinkCardColor;\r\n\r\n  const qSortHeaders = [...mapObj.qSortHeaders];\r\n  const qSortHeaderNumbers = [...mapObj.qSortHeaderNumbers];\r\n  const columnColorsArray = [...mapObj.columnColorsArray];\r\n  const columnHeadersColorsArray = [...mapObj.columnHeadersColorsArray];\r\n  const qSortPattern = [...mapObj.qSortPattern];\r\n  const cardHeight = props.cardHeight;\r\n\r\n  let presortColumnStatements = JSON.parse(\r\n    localStorage.getItem(\"columnStatements\")\r\n  );\r\n\r\n  if (presortColumnStatements === null) {\r\n    presortColumnStatements = [];\r\n  }\r\n  // LOCAL STATE\r\n\r\n  // PERSISTENT STATE\r\n  const [columnStatements, setColumnStatements] = useLocalStorage(\r\n    \"sortColumns\",\r\n    presortColumnStatements\r\n  );\r\n\r\n  // layout settings\r\n  let columnWidth = props.columnWidth;\r\n  const totalStatements = +configObj.totalStatements;\r\n  const sortCharacterisiticsPrep = {};\r\n  sortCharacterisiticsPrep.qSortPattern = [...mapObj.qSortPattern];\r\n  sortCharacterisiticsPrep.qSortHeaders = [...mapObj.qSortHeaders];\r\n  sortCharacterisiticsPrep.forcedSorts = configObj.warnOverloadedColumn;\r\n  sortCharacterisiticsPrep.qSortHeaderNumbers = [...mapObj.qSortHeaderNumbers];\r\n\r\n  const sortCharacteristics = sortCharacterisiticsPrep;\r\n  const allowUnforcedSorts = configObj.allowUnforcedSorts;\r\n\r\n  // get sort direction\r\n  let sortDirection = \"rtl\";\r\n  if (configObj.sortDirection === \"negative\") {\r\n    sortDirection = \"ltr\";\r\n  }\r\n\r\n  // fire move and re-order functions\r\n  const onDragEnd = (result) => {\r\n    try {\r\n      /*\r\n    example result object:\r\n    result {\"draggableId\":\"s1\",\"type\":\"DEFAULT\",\r\n    \"source\":{\"droppableId\":\"statements\",\"index\":0},\r\n    \"destination\":{\"droppableId\":\"column1\",\"index\":0},\r\n    \"reason\":\"DROP\"}\r\n    */\r\n      // translated column name and starts results calculations\r\n      const manageDragResults = calculateDragResults(\r\n        { ...result },\r\n        totalStatements,\r\n        results,\r\n        sortFinishedModalHasBeenShown,\r\n        sortGridResults\r\n      );\r\n\r\n      setIsSortingFinished(manageDragResults.sortFinished);\r\n      setResults(manageDragResults.results);\r\n\r\n      setSortGridResults(manageDragResults.sortGridResults);\r\n\r\n      // source and destination are objects\r\n      const { source, destination } = result;\r\n\r\n      // dropped outside the list\r\n      if (!destination) {\r\n        return;\r\n      }\r\n      // if moving inside the same column\r\n      if (source.droppableId === destination.droppableId) {\r\n        let newCols = reorder(\r\n          source.droppableId,\r\n          source.index,\r\n          destination.index,\r\n          columnStatements\r\n        );\r\n\r\n        setColumnStatements(newCols);\r\n      } else {\r\n        // moving to another column\r\n        // source.droppableId give orgin id => \"statements\" or \"columnN1\"\r\n        // sourceList is cards in that origin\r\n        // gather data to send to move function\r\n        let sourceListArray;\r\n        let destinationListArray;\r\n        if (source.droppableId === \"statements\") {\r\n          sourceListArray = columnStatements.statementList;\r\n        } else {\r\n          sourceListArray = columnStatements.vCols[source.droppableId];\r\n        }\r\n        if (destination.droppableId === \"statements\") {\r\n          destinationListArray = columnStatements.statementList;\r\n        } else {\r\n          destinationListArray =\r\n            columnStatements.vCols[destination.droppableId];\r\n        }\r\n        const droppableSource = source;\r\n        const droppableDestination = destination;\r\n\r\n        move(\r\n          sourceListArray,\r\n          destinationListArray,\r\n          droppableSource,\r\n          droppableDestination,\r\n          columnStatements,\r\n          totalStatements,\r\n          sortCharacteristics,\r\n          allowUnforcedSorts,\r\n          qSortHeaderNumbers\r\n        );\r\n\r\n        // global state updates\r\n        setColumnStatements(columnStatements);\r\n        const hasShownSortFinModal = localStorage.getItem(\r\n          \"hasShownSortFinModal\"\r\n        );\r\n\r\n        if (columnStatements.statementList.length === 0) {\r\n          setIsSortingCards(false);\r\n          setSortCompleted(true);\r\n          if (hasShownSortFinModal === \"false\") {\r\n            localStorage.setItem(\"hasShownSortFinModal\", true);\r\n            setTriggerSortingFinishedModal(true);\r\n          }\r\n        } else {\r\n          localStorage.setItem(\"hasShownSortFinModal\", false);\r\n          setIsSortingCards(true);\r\n          setSortCompleted(false);\r\n        }\r\n\r\n        // increment Progress Bar\r\n        const totalStatements2 = statementsObj.totalStatements;\r\n        const remainingStatements = columnStatements.statementList.length;\r\n        const numerator = totalStatements2 - remainingStatements;\r\n        const ratio = numerator / totalStatements2;\r\n        const completedPercent = (ratio * 30).toFixed();\r\n\r\n        // update Progress Bar State\r\n        setProgressScoreAdditionalSort(completedPercent);\r\n      }\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  }; // end of dragEnd helper function\r\n\r\n  // get user settings\r\n  const cardFontSize = props.cardFontSize;\r\n  const fontColor = props.fontColor;\r\n\r\n  // just the hori container size, not card size\r\n  let horiCardMinHeight = 50;\r\n\r\n  // pull data from STATE\r\n  const statements = columnStatements.statementList;\r\n\r\n  // setup grid columns\r\n  const columns = qSortHeaders.map((value, index, highlightedColHeader) => {\r\n    const columnId = `column${qSortHeaders[index]}`;\r\n    const sortValue = qSortHeaderNumbers[index];\r\n    const columnColor = columnColorsArray[index];\r\n\r\n    return (\r\n      <SortColumn\r\n        key={columnId}\r\n        minHeight={qSortPattern[index] * (+cardHeight + 8)}\r\n        maxCards={qSortPattern[index]}\r\n        columnId={columnId}\r\n        columnStatementsArray={columnStatements.vCols[columnId]}\r\n        forcedSorts={configObj.warnOverloadedColumn}\r\n        columnWidth={props.columnWidth}\r\n        cardHeight={+cardHeight}\r\n        sortValue={sortValue}\r\n        columnColor={columnColor}\r\n        cardFontSize={cardFontSize}\r\n        qSortHeaderNumber={qSortHeaderNumbers[index]}\r\n        columnHeadersColor={columnHeadersColorsArray[index]}\r\n        greenCardColor={greenCardColor}\r\n        yellowCardColor={yellowCardColor}\r\n        pinkCardColor={pinkCardColor}\r\n        fontColor={fontColor}\r\n      />\r\n    );\r\n  }); // end map of sort columns\r\n\r\n  const InnerList = React.memo((props) => {\r\n    const items = props.statements.map((item, index) => {\r\n      const statementHtml = ReactHtmlParser(\r\n        `<div>${decodeHTML(item.statement)}</div>`\r\n      );\r\n      return (\r\n        <Draggable\r\n          key={item.id}\r\n          draggableId={item.id}\r\n          index={index}\r\n          sortValue={item.sortValue}\r\n          cardColor={item.cardColor}\r\n          className=\"droppableCards\"\r\n        >\r\n          {(provided, snapshot) => (\r\n            <>\r\n              <div\r\n                ref={provided.innerRef}\r\n                className={`${item.cardColor}`}\r\n                {...provided.draggableProps}\r\n                {...provided.dragHandleProps}\r\n                style={getItemStyleHori(\r\n                  snapshot.isDragging,\r\n                  provided.draggableProps.style,\r\n                  `${item.sortValue}`,\r\n                  `${item.cardColor}`,\r\n                  columnWidth,\r\n                  cardHeight,\r\n                  cardFontSize,\r\n                  greenCardColor,\r\n                  yellowCardColor,\r\n                  pinkCardColor,\r\n                  fontColor\r\n                )}\r\n              >\r\n                <span style={{ direction: \"ltr\" }}>{statementHtml}</span>\r\n              </div>\r\n            </>\r\n          )}\r\n        </Draggable>\r\n      );\r\n    });\r\n    /*\r\n    let finalItem = <div key={\"placeholder\"}>{props.provided.placeholder}</div>;\r\n    items.unshift(finalItem);\r\n    */\r\n    return items;\r\n  });\r\n\r\n  // returning main content => horizontal feeder\r\n  return (\r\n    <DragDropContext onDragEnd={onDragEnd}>\r\n      <div className=\"rootDiv\">\r\n        {columns}\r\n        <SortFooterDiv id=\"SortFooterDiv\">\r\n          <CardSlider id=\"CardSlider\">\r\n            <Droppable\r\n              id=\"Droppable\"\r\n              droppableId=\"statements\"\r\n              direction=\"horizontal\"\r\n            >\r\n              {(provided, snapshot) => (\r\n                <HorizontalFeederDiv\r\n                  id=\"HorizontalFeederDiv\"\r\n                  ref={provided.innerRef}\r\n                  style={getListStyleHori(\r\n                    snapshot.isDraggingOver,\r\n                    horiCardMinHeight,\r\n                    sortDirection\r\n                  )}\r\n                >\r\n                  <InnerList statements={statements} provided={provided} />\r\n                  <div style={{ width: `0px` }}>{provided.placeholder}</div>\r\n                </HorizontalFeederDiv>\r\n              )}\r\n            </Droppable>\r\n          </CardSlider>\r\n        </SortFooterDiv>\r\n      </div>\r\n    </DragDropContext>\r\n  );\r\n};\r\n\r\nexport default SortGrid;\r\n\r\nconst SortFooterDiv = styled.div`\r\n  background: #e4e4e4;\r\n  padding-right: 10px;\r\n  position: fixed;\r\n  left: 0px;\r\n  bottom: 50px;\r\n  width: 100vw;\r\n  height: ${(props) => `${+props.cardHeight + 20}px;`};\r\n`;\r\n\r\nconst CardSlider = styled.div`\r\n  display: flex;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst HorizontalFeederDiv = styled.div``;\r\n\r\n/* DO NOT DELETE - important\r\n\"columnColorsArray\": [\r\n      \"#ffb2b2\"\r\n      \"#ffbfbf\",\r\n      \"#ffcbcb\",\r\n      \"#ffd8d8\",\r\n      \"#ffe5e5\",\r\n      \"#f5f5f5\",\r\n      \"#d6f5d6\",\r\n      \"#c1f0c1\",\r\n      \"#adebad\",\r\n      \"#98E698\",\r\n      \"#84e184\"\r\n    ],\r\n*/\r\n","const getItemStyleImages = (\r\n  isDragging,\r\n  draggableStyle,\r\n  cardWidth,\r\n  cardHeight,\r\n  cardFontSize,\r\n  cardColor,\r\n  greenCardColor,\r\n  yellowCardColor,\r\n  pinkCardColor,\r\n  fontColor\r\n) => {\r\n  let newCardColor;\r\n  if (cardColor === \"greenSortCard\") {\r\n    newCardColor = greenCardColor;\r\n  }\r\n  if (cardColor === \"yellowSortCard\") {\r\n    newCardColor = yellowCardColor;\r\n  }\r\n  if (cardColor === \"pinkSortCard\") {\r\n    newCardColor = pinkCardColor;\r\n  }\r\n\r\n  return {\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: \"none\",\r\n    lineHeight: `1.3em`,\r\n    fontSize: cardFontSize,\r\n    maxHeight: cardHeight,\r\n    color: fontColor,\r\n    borderRadius: `5px`,\r\n    filter: isDragging ? \"brightness(0.85)\" : \"brightness(1.00)\",\r\n    zIndex: \"-1\",\r\n\r\n    // transitionDelay: \"0.2s\",\r\n    // change background colour if dragging  (#e6bbad or #FFB266)\r\n    textAlign: `center`,\r\n    background: isDragging ? newCardColor : \"whitesmoke\",\r\n\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n  };\r\n};\r\n\r\nexport default getItemStyleImages;\r\n","import useStore from \"../../globalState/useStore\";\r\n\r\n// card and column styling\r\nconst getListStyle = (\r\n  isDraggingOver,\r\n  props,\r\n  forcedSorts,\r\n  columnWidth,\r\n  columnColor,\r\n  cardHeight\r\n) => {\r\n  // forcedSorts is \"warnOverloadedColumn\" in configObj\r\n  let isUnderMaxCards;\r\n  if (forcedSorts === true) {\r\n    isUnderMaxCards = props.columnStatementsArray.length <= props.maxCards;\r\n  } else {\r\n    isUnderMaxCards = true;\r\n  }\r\n\r\n  // to set highlighting for column headers\r\n  if (isDraggingOver) {\r\n    useStore.setState({ draggingOverColumnId: props.columnId });\r\n  }\r\n\r\n  return {\r\n    background: isDraggingOver\r\n      ? \"lightblue\"\r\n      : isUnderMaxCards\r\n      ? columnColor\r\n      : \"orange\",\r\n    padding: `5px 0px 0px 0px`,\r\n    justifyContent: \"center\",\r\n    width: columnWidth + 13,\r\n    marginTop: 0,\r\n    marginRight: 0,\r\n    minHeight: props.minHeight - 10,\r\n    borderRadius: `2px`,\r\n    outline: isUnderMaxCards ? \"1px solid #d8d8d8\" : \"2px dashed black\",\r\n    outlineOffset: \"-1px\",\r\n  };\r\n};\r\n\r\nexport default getListStyle;\r\n\r\n// border: 'solid 1px #ededed',\r\n","import React from \"react\";\r\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport styled from \"styled-components\";\r\nimport getItemStyleImages from \"./getItemStyleImages\";\r\nimport getListStyleImages from \"./getListStyleImages\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\n/* eslint react/prop-types: 0 */\r\n\r\nconst SortColumnImages = (props) => {\r\n  const {\r\n    forcedSorts,\r\n    columnWidth,\r\n    cardHeight,\r\n    columnId,\r\n    sortValue,\r\n    columnStatementsArray,\r\n    columnColor,\r\n    cardFontSize,\r\n    greenCardColor,\r\n    yellowCardColor,\r\n    pinkCardColor,\r\n    fontColor,\r\n    handleOpenImageModal,\r\n  } = props;\r\n\r\n  // had to push column sort value to state because didn't want to edit dnd library result object\r\n  // was't able to just pass it as a prop\r\n  return (\r\n    <SortColumnsDiv id=\"sortColumnsDiv\">\r\n      <Droppable id=\"ColDroppable\" droppableId={columnId} direction=\"vertical\">\r\n        {(provided, snapshot) => {\r\n          if (snapshot.isDraggingOver) {\r\n            useStore.setState({ draggingOverColumnId: columnId });\r\n            useStore.setState({ currentSortValue: sortValue });\r\n          }\r\n          return (\r\n            <DroppableColDiv\r\n              id=\"DroppableColDiv\"\r\n              ref={provided.innerRef}\r\n              style={getListStyleImages(\r\n                snapshot.isDraggingOver,\r\n                props,\r\n                forcedSorts,\r\n                columnWidth,\r\n                columnColor,\r\n                cardHeight\r\n              )}\r\n            >\r\n              {columnStatementsArray.map((item, index) => {\r\n                return (\r\n                  <Draggable\r\n                    key={item.id}\r\n                    draggableId={item.id}\r\n                    cardColor={item.cardColor}\r\n                    index={index}\r\n                  >\r\n                    {(provided, snapshot) => (\r\n                      <ImageDiv\r\n                        id=\"imageDiv\"\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        {...provided.dragHandleProps}\r\n                        onClick={(e) =>\r\n                          handleOpenImageModal(e, item.element.props.src)\r\n                        }\r\n                        style={getItemStyleImages(\r\n                          snapshot.isDragging,\r\n                          provided.draggableProps.style,\r\n                          columnWidth,\r\n                          cardHeight,\r\n                          cardFontSize,\r\n                          `${item.cardColor}`,\r\n                          greenCardColor,\r\n                          yellowCardColor,\r\n                          pinkCardColor,\r\n                          fontColor\r\n                        )}\r\n                      >\r\n                        <img\r\n                          src={item.element.props.src}\r\n                          alt={item.element.props.alt}\r\n                          style={{ border: \"1px solid black\" }}\r\n                        />\r\n                      </ImageDiv>\r\n                    )}\r\n                  </Draggable>\r\n                );\r\n              })}\r\n              {provided.placeholder}\r\n            </DroppableColDiv>\r\n          );\r\n        }}\r\n      </Droppable>\r\n    </SortColumnsDiv>\r\n  );\r\n};\r\n\r\nexport default React.memo(SortColumnImages);\r\n\r\nconst SortColumnsDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst DroppableColDiv = styled.div`\r\n  justify-items: center;\r\n`;\r\n\r\nconst ImageDiv = styled.div`\r\n  display: flex;\r\n  width: 96%;\r\n  margin-left: 2%;\r\n  margin-bottom: 5px !important;\r\n  height: ${(props) => `${props.cardHeight}px`};\r\n  justify-content: center;\r\n\r\n  img {\r\n    max-width: 96%;\r\n    max-height: 96%;\r\n    object-fit: contain;\r\n  }\r\n`;\r\n","// card styling\r\nconst getItemStyleHoriImages = (\r\n  isDragging,\r\n  draggableStyle,\r\n  sortValue,\r\n  cardColor,\r\n  columnWidth,\r\n  cardHeight,\r\n  cardFontSize,\r\n  greenCardColor,\r\n  yellowCardColor,\r\n  pinkCardColor,\r\n  fontColor\r\n) => {\r\n  let newSortValue = sortValue;\r\n  let newCardColor = cardColor;\r\n\r\n  // puts un-evaluated cards at the end of the list and set default color\r\n  if (isNaN(+newSortValue)) {\r\n    newSortValue = 999;\r\n  }\r\n\r\n  // set background color according to user passed in values\r\n  if (newCardColor === \"undefined\" || newCardColor === \"yellowSortCard\") {\r\n    newCardColor = yellowCardColor;\r\n  }\r\n  if (newCardColor === \"pinkSortCard\") {\r\n    newCardColor = pinkCardColor;\r\n  }\r\n  if (newCardColor === \"greenSortCard\") {\r\n    newCardColor = greenCardColor;\r\n  }\r\n\r\n  return {\r\n    userSelect: \"none\",\r\n    WebkitUserSelect: \"none\",\r\n    lineHeight: `1.3em`,\r\n    fontSize: cardFontSize,\r\n    color: fontColor,\r\n    height: cardHeight,\r\n    minWidth: columnWidth,\r\n    maxWidth: columnWidth,\r\n    paddingRight: 2,\r\n    paddingLeft: 2,\r\n    borderRadius: `5px`,\r\n    touchAction: \"manipulation\",\r\n    marginBottom: 5,\r\n    marginTop: 5,\r\n    marginRight: `2px`,\r\n    marginLeft: `2px`,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    textAlign: `center`,\r\n    order: newSortValue,\r\n    filter: isDragging ? \"brightness(0.85)\" : \"brightness(1.00)\",\r\n    // change background color if dragging, otherwise pre-sort value color\r\n    background: isDragging ? newCardColor : newCardColor,\r\n    // styles to apply on draggables\r\n    ...draggableStyle,\r\n  };\r\n};\r\n\r\nexport default getItemStyleHoriImages;\r\n","const calculateDragResultsImages = (\r\n  outcome,\r\n  totalStatements,\r\n  results,\r\n  sortFinishedModalHasBeenShown,\r\n  sortGridResults\r\n) => {\r\n  try {\r\n    let isSortingFinished = false;\r\n    let triggerSortingFinishedModal = false;\r\n\r\n    if (outcome.destination !== null) {\r\n      // derive sortValue from droppableId\r\n      const replaceColumn = /column/gi;\r\n      const replaceN = /N/gi;\r\n      let sortValue1 = outcome.destination.droppableId;\r\n      sortValue1 = sortValue1.replace(replaceColumn, \"\");\r\n      sortValue1 = sortValue1.replace(replaceN, \"-\");\r\n      const sortValue = parseInt(sortValue1, 10);\r\n\r\n      // assign key (like \"s1\") and value (sortValue like \"-4\")\r\n      sortGridResults[outcome.draggableId] = sortValue;\r\n\r\n      // create results string\r\n      const testForCompleteArray = Object.keys(sortGridResults);\r\n\r\n      let catchNan = false;\r\n\r\n      // *** IF SORTING FINISHED\r\n      if (testForCompleteArray.length === totalStatements) {\r\n        // convert to results text\r\n        let resultsText = \"\";\r\n        for (let i = 0; i < totalStatements; i++) {\r\n          let key = `image${i + 1}`;\r\n          let newValue = sortGridResults[key];\r\n          if (isNaN(newValue)) {\r\n            catchNan = true;\r\n          }\r\n          resultsText += `${newValue}|`;\r\n        } // loop end\r\n\r\n        if (catchNan === true) {\r\n          // card in footer - sort not complete\r\n          isSortingFinished = false;\r\n        } else {\r\n          // if sort is complete\r\n          // process string to remove trailing bar\r\n          isSortingFinished = true;\r\n          // remove trailing bar\r\n          if (resultsText.charAt(resultsText.length - 1) === \"|\") {\r\n            resultsText = resultsText.substring(0, resultsText.length - 1);\r\n          }\r\n\r\n          results.sort = resultsText;\r\n          console.log(\"resultsText\", resultsText);\r\n\r\n          localStorage.setItem(\"resultsSort\", JSON.stringify(resultsText));\r\n\r\n          if (sortFinishedModalHasBeenShown === false) {\r\n            sortFinishedModalHasBeenShown = true;\r\n            triggerSortingFinishedModal = true;\r\n          }\r\n        }\r\n      }\r\n\r\n      const returnObj = {};\r\n      returnObj.isSortingFinished = isSortingFinished;\r\n      returnObj.results = results;\r\n      returnObj.sortFinishedModalHasBeenShown = sortFinishedModalHasBeenShown;\r\n      returnObj.triggerSortingFinishedModal = triggerSortingFinishedModal;\r\n      returnObj.sortGridResults = sortGridResults;\r\n\r\n      return returnObj;\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n    console.log(\"there was an error in calculateDragResults\");\r\n  }\r\n};\r\n\r\nexport default calculateDragResultsImages;\r\n","import React, { useState } from \"react\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport styled from \"styled-components\";\r\nimport move from \"./move\";\r\nimport reorder from \"./reorder\";\r\nimport SortColumnImages from \"./SortColumnImages\";\r\nimport getListStyleHori from \"./getListStyleHori\";\r\nimport getItemStyleHoriImages from \"./getItemStyleHoriImages\";\r\nimport calculateDragResultsImages from \"./calculateDragResultsImages\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\n\r\n/* eslint react/prop-types: 0 */\r\n\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getMapObj = (state) => state.mapObj;\r\nconst getSetIsSortingCards = (state) => state.setIsSortingCards;\r\nconst getSetSortCompleted = (state) => state.setSortCompleted;\r\nconst getSetProgScoreAddSort = (state) => state.setProgressScoreAdditionalSort;\r\nconst getResults = (state) => state.results;\r\nconst getSortFinModalHasBeenShown = (state) =>\r\n  state.sortFinishedModalHasBeenShown;\r\nconst getSortGridResults = (state) => state.sortGridResults;\r\nconst getSetIsSortingFinished = (state) => state.setIsSortingFinished;\r\nconst getSetResults = (state) => state.setResults;\r\nconst getSetTriggerSortingFinModal = (state) =>\r\n  state.setTriggerSortingFinishedModal;\r\nconst getSetSortGridResults = (state) => state.setSortGridResults;\r\n\r\nconst SortGridImages = (props) => {\r\n  // GLOBAL STATE\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const mapObj = useSettingsStore(getMapObj);\r\n  const setIsSortingCards = useStore(getSetIsSortingCards);\r\n  const setSortCompleted = useStore(getSetSortCompleted);\r\n  const setProgressScoreAdditionalSort = useStore(getSetProgScoreAddSort);\r\n  const results = useStore(getResults);\r\n  const sortFinishedModalHasBeenShown = useStore(getSortFinModalHasBeenShown);\r\n  const sortGridResults = useStore(getSortGridResults);\r\n  const setIsSortingFinished = useStore(getSetIsSortingFinished);\r\n  const setResults = useStore(getSetResults);\r\n  const setTriggerSortingFinishedModal = useStore(getSetTriggerSortingFinModal);\r\n  const setSortGridResults = useStore(getSetSortGridResults);\r\n  const greenCardColor = configObj.greenCardColor;\r\n  const yellowCardColor = configObj.yellowCardColor;\r\n  const pinkCardColor = configObj.pinkCardColor;\r\n  const qSortHeaders = [...mapObj.qSortHeaders];\r\n  const qSortHeaderNumbers = [...mapObj.qSortHeaderNumbers];\r\n  const columnColorsArray = [...mapObj.columnColorsArray];\r\n  const columnHeadersColorsArray = [...mapObj.columnHeadersColorsArray];\r\n  const qSortPattern = [...mapObj.qSortPattern];\r\n\r\n  let presortColumnStatements = JSON.parse(\r\n    localStorage.getItem(\"columnStatements\")\r\n  );\r\n\r\n  if (presortColumnStatements === null) {\r\n    presortColumnStatements = [];\r\n  }\r\n\r\n  // LOCAL STATE\r\n  const [openImageModal, setOpenImageModal] = useState(false);\r\n  const [imageSource, setImageSource] = useState(\"\");\r\n  const [dualPhotoArray, setDualPhotoArray] = useState([]);\r\n  const [openDualImageModal, setOpenDualImageModal] = useState(false);\r\n\r\n  // PERSISTENT STATE\r\n  const [columnStatements, setColumnStatements] = useLocalStorage(\r\n    \"sortColumns\",\r\n    presortColumnStatements\r\n  );\r\n\r\n  let columnWidth = props.columnWidth;\r\n  const totalStatements = +configObj.numImages;\r\n  const sortCharacterisiticsPrep = {};\r\n  sortCharacterisiticsPrep.qSortPattern = [...mapObj.qSortPattern];\r\n  sortCharacterisiticsPrep.qSortHeaders = [...mapObj.qSortHeaders];\r\n  sortCharacterisiticsPrep.forcedSorts = configObj.warnOverloadedColumn;\r\n  sortCharacterisiticsPrep.qSortHeaderNumbers = [...mapObj.qSortHeaderNumbers];\r\n\r\n  const sortCharacteristics = sortCharacterisiticsPrep;\r\n  const allowUnforcedSorts = configObj.allowUnforcedSorts;\r\n\r\n  // get sort direction\r\n  let sortDirection = \"rtl\";\r\n  if (configObj.sortDirection === \"negative\") {\r\n    sortDirection = \"ltr\";\r\n  }\r\n\r\n  const handleOpenImageModal = (e, src) => {\r\n    if (e.detail === 2) {\r\n      if (e.shiftKey) {\r\n        dualPhotoArray.push(e.target.src);\r\n        setDualPhotoArray(dualPhotoArray);\r\n        if (dualPhotoArray.length === 2) {\r\n          setOpenDualImageModal(true);\r\n        }\r\n      } else {\r\n        setImageSource(e.target.src);\r\n        setOpenImageModal(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  // fire move and re-order functions\r\n  const onDragEnd = (result) => {\r\n    try {\r\n      /*\r\n    example result object:\r\n    result {\"draggableId\":\"s1\",\"type\":\"DEFAULT\",\r\n    \"source\":{\"droppableId\":\"statements\",\"index\":0},\r\n    \"destination\":{\"droppableId\":\"column1\",\"index\":0},\r\n    \"reason\":\"DROP\"}\r\n    */\r\n      // translated column name and starts results calculations\r\n      const manageDragResults = calculateDragResultsImages(\r\n        { ...result },\r\n        totalStatements,\r\n        results,\r\n        sortFinishedModalHasBeenShown,\r\n        sortGridResults\r\n      );\r\n\r\n      setIsSortingFinished(manageDragResults.sortFinished);\r\n      setResults(manageDragResults.results);\r\n\r\n      setSortGridResults(manageDragResults.sortGridResults);\r\n\r\n      // source and destination are objects\r\n      const { source, destination } = result;\r\n\r\n      // dropped outside the list\r\n      if (!destination) {\r\n        return;\r\n      }\r\n      // if moving inside the same column\r\n      if (source.droppableId === destination.droppableId) {\r\n        let newCols = reorder(\r\n          source.droppableId,\r\n          source.index,\r\n          destination.index,\r\n          columnStatements\r\n        );\r\n\r\n        setColumnStatements(newCols);\r\n      } else {\r\n        // moving to another column\r\n        // source.droppableId give origin id => \"statements\" or \"columnN1\"\r\n        // sourceList is cards in that origin\r\n        // gather data to send to move function\r\n        let sourceListArray;\r\n        let destinationListArray;\r\n        if (source.droppableId === \"statements\") {\r\n          sourceListArray = columnStatements.imagesList;\r\n        } else {\r\n          sourceListArray = columnStatements.vCols[source.droppableId];\r\n        }\r\n        if (destination.droppableId === \"statements\") {\r\n          destinationListArray = columnStatements.imagesList;\r\n        } else {\r\n          destinationListArray =\r\n            columnStatements.vCols[destination.droppableId];\r\n        }\r\n        const droppableSource = source;\r\n        const droppableDestination = destination;\r\n\r\n        move(\r\n          sourceListArray,\r\n          destinationListArray,\r\n          droppableSource,\r\n          droppableDestination,\r\n          columnStatements,\r\n          totalStatements,\r\n          sortCharacteristics,\r\n          allowUnforcedSorts,\r\n          qSortHeaderNumbers\r\n        );\r\n\r\n        // global state updates\r\n        setColumnStatements(columnStatements);\r\n        const hasShownSortFinModal = localStorage.getItem(\r\n          \"hasShownSortFinModal\"\r\n        );\r\n\r\n        if (columnStatements.imagesList.length === 0) {\r\n          setIsSortingCards(false);\r\n          setSortCompleted(true);\r\n          if (hasShownSortFinModal === \"false\") {\r\n            localStorage.setItem(\"hasShownSortFinModal\", true);\r\n            setTriggerSortingFinishedModal(true);\r\n          }\r\n        } else {\r\n          localStorage.setItem(\"hasShownSortFinModal\", false);\r\n          setIsSortingCards(true);\r\n          setSortCompleted(false);\r\n        }\r\n\r\n        // increment Progress Bar\r\n        const totalStatements2 = configObj.numImages;\r\n        const remainingStatements = columnStatements.imagesList.length;\r\n        const numerator = totalStatements2 - remainingStatements;\r\n        const ratio = numerator / totalStatements2;\r\n        const completedPercent = (ratio * 30).toFixed();\r\n\r\n        // update Progress Bar State\r\n        setProgressScoreAdditionalSort(completedPercent);\r\n      }\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  }; // end of dragEnd helper function\r\n\r\n  // get user settings\r\n  const cardFontSize = props.cardFontSize;\r\n  const fontColor = props.fontColor;\r\n\r\n  // just the hori container size, not card size\r\n  let horiCardMinHeight = 50;\r\n\r\n  // pull data from STATE\r\n  const statements = columnStatements.imagesList;\r\n\r\n  // setup grid columns\r\n  const columns = qSortHeaders.map((value, index, highlightedColHeader) => {\r\n    const columnId = `column${qSortHeaders[index]}`;\r\n    const sortValue = qSortHeaderNumbers[index];\r\n    const columnColor = columnColorsArray[index];\r\n\r\n    return (\r\n      <SortColumnImages\r\n        key={columnId}\r\n        minHeight={qSortPattern[index] * (+props.cardHeight + 8)}\r\n        maxCards={qSortPattern[index]}\r\n        columnId={columnId}\r\n        columnStatementsArray={columnStatements.vCols[columnId]}\r\n        forcedSorts={configObj.warnOverloadedColumn}\r\n        columnWidth={props.columnWidth}\r\n        cardHeight={+props.cardHeight}\r\n        sortValue={sortValue}\r\n        columnColor={columnColor}\r\n        cardFontSize={cardFontSize}\r\n        qSortHeaderNumber={qSortHeaderNumbers[index]}\r\n        columnHeadersColor={columnHeadersColorsArray[index]}\r\n        greenCardColor={greenCardColor}\r\n        yellowCardColor={yellowCardColor}\r\n        pinkCardColor={pinkCardColor}\r\n        fontColor={fontColor}\r\n        handleOpenImageModal={handleOpenImageModal}\r\n      />\r\n    );\r\n  }); // end map of sort columns\r\n\r\n  const InnerList = React.memo((props) => {\r\n    const items = props.statements.map((item, index) => {\r\n      return (\r\n        <Draggable\r\n          key={item.id}\r\n          draggableId={item.id}\r\n          index={index}\r\n          sortValue={item.sortValue}\r\n          cardColor={item.cardColor}\r\n          className=\"droppableCards\"\r\n        >\r\n          {(provided, snapshot) => (\r\n            <>\r\n              <FeederCard\r\n                ref={provided.innerRef}\r\n                className={`${item.cardColor}`}\r\n                {...provided.draggableProps}\r\n                {...provided.dragHandleProps}\r\n                onClick={(e) => handleOpenImageModal(e, item.element.props.src)}\r\n                style={getItemStyleHoriImages(\r\n                  snapshot.isDragging,\r\n                  provided.draggableProps.style,\r\n                  `${item.sortValue}`,\r\n                  `${item.cardColor}`,\r\n                  columnWidth,\r\n                  props.cardHeight,\r\n                  cardFontSize,\r\n                  greenCardColor,\r\n                  yellowCardColor,\r\n                  pinkCardColor,\r\n                  fontColor\r\n                )}\r\n              >\r\n                <img\r\n                  src={item.element.props.src}\r\n                  alt={item.element.props.alt}\r\n                />\r\n              </FeederCard>\r\n              {provided.placeholder}\r\n            </>\r\n          )}\r\n        </Draggable>\r\n      );\r\n    });\r\n    return items;\r\n  });\r\n  /*\r\n  *** placeholder problem is from React Beautiful DND lib - due to position fixed\r\n  let finalItem = <div key={\"placeholder\"}>{props.provided.placeholder}</div>;\r\n  items.unshift(finalItem);\r\n  todo - fix placeholder problem\r\n  */\r\n\r\n  // returning main content => horizontal feeder\r\n  return (\r\n    <>\r\n      <Modal\r\n        open={openImageModal}\r\n        center\r\n        onClose={() => setOpenImageModal(false)}\r\n        classNames={{\r\n          modal: `${configObj.imageFormat}`,\r\n          overlay: \"dualImageOverlay\",\r\n        }}\r\n      >\r\n        <img src={imageSource} width=\"100%\" height=\"auto\" alt=\"modalImage\" />\r\n      </Modal>\r\n      <Modal\r\n        open={openDualImageModal}\r\n        center\r\n        onClose={() => {\r\n          setOpenDualImageModal(false);\r\n          setDualPhotoArray([]);\r\n        }}\r\n        classNames={{ overlay: \"dualImageOverlay\", modal: \"dualImageModal\" }}\r\n      >\r\n        <img\r\n          src={dualPhotoArray[0]}\r\n          width=\"49.5%\"\r\n          height=\"auto\"\r\n          alt=\"modalImage\"\r\n        />\r\n        <img\r\n          src={dualPhotoArray[1]}\r\n          width=\"49.5%\"\r\n          height=\"auto\"\r\n          style={{ marginLeft: \"1%\" }}\r\n          alt=\"modalImage2\"\r\n        />\r\n      </Modal>\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <div className=\"rootDiv\">\r\n          {columns}\r\n          <SortFooterDiv id=\"SortFooterDiv\">\r\n            <CardSlider id=\"CardSlider\">\r\n              <Droppable\r\n                id=\"Droppable\"\r\n                droppableId=\"statements\"\r\n                direction=\"horizontal\"\r\n                style={{ maxWidth: \"100vw\" }}\r\n              >\r\n                {(provided, snapshot) => (\r\n                  <HorizontalFeederDiv\r\n                    id=\"HorizontalFeederDiv\"\r\n                    ref={provided.innerRef}\r\n                    style={getListStyleHori(\r\n                      snapshot.isDraggingOver,\r\n                      horiCardMinHeight,\r\n                      sortDirection\r\n                    )}\r\n                  >\r\n                    <InnerList\r\n                      statements={statements}\r\n                      cardHeight={props.cardHeight}\r\n                      provided={provided}\r\n                    />\r\n                    <span style={{ display: \"none\" }}>\r\n                      {\" \"}\r\n                      {provided.placeholder}\r\n                    </span>\r\n                  </HorizontalFeederDiv>\r\n                )}\r\n              </Droppable>\r\n            </CardSlider>\r\n          </SortFooterDiv>\r\n        </div>\r\n      </DragDropContext>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SortGridImages;\r\n\r\nconst SortFooterDiv = styled.div`\r\n  background: #e4e4e4;\r\n  padding-right: 10px;\r\n  position: fixed;\r\n  left: 0px;\r\n  bottom: 50px;\r\n  width: 100vw;\r\n  height: ${(props) => `${+props.cardHeight + 20}px;`};\r\n`;\r\n\r\nconst CardSlider = styled.div`\r\n  display: flex;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst HorizontalFeederDiv = styled.div``;\r\n\r\nconst FeederCard = styled.div`\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: contain;\r\n  }\r\n`;\r\n\r\n/* DO NOT DELETE - important\r\n\"columnColorsArray\": [\r\n      \"#ffb2b2\"\r\n      \"#ffbfbf\",\r\n      \"#ffcbcb\",\r\n      \"#ffd8d8\",\r\n      \"#ffe5e5\",\r\n      \"#f5f5f5\",\r\n      \"#d6f5d6\",\r\n      \"#c1f0c1\",\r\n      \"#adebad\",\r\n      \"#98E698\",\r\n      \"#84e184\"\r\n    ],\r\n*/\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerSortModal = (state) => state.triggerSortModal;\r\nconst getSetTriggerSortModal = (state) => state.setTriggerSortModal;\r\n\r\nconst SortHelpModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerSortModal = useStore(getTriggerSortModal);\r\n  const setTriggerSortModal = useStore(getSetTriggerSortModal);\r\n\r\n  const helpModalHead = ReactHtmlParser(decodeHTML(langObj.sortHelpModalHead));\r\n  const helpModalText = ReactHtmlParser(decodeHTML(langObj.sortHelpModalText));\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerSortModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerSortModal}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{helpModalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{helpModalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default SortHelpModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"./decodeHTML\";\r\nimport useSettingsStore from \"../globalState/useSettingsStore\";\r\nimport useStore from \"../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerSortFinishedMod = (state) => state.triggerSortingFinishedModal;\r\nconst getSetTrigSortFinishMod = (state) => state.setTriggerSortingFinishedModal;\r\n\r\nconst SortingFinishedModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerSortingFinishedModal = useStore(getTriggerSortFinishedMod);\r\n  const setTriggerSortingFinishedModal = useStore(getSetTrigSortFinishMod);\r\n\r\n  const helpModalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.sortingCompleteModalHead)) || \"\";\r\n  const helpModalText =\r\n    ReactHtmlParser(decodeHTML(langObj.sortingCompleteModalText)) || \"\";\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerSortingFinishedModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerSortingFinishedModal}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{helpModalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{helpModalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default SortingFinishedModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerModalOpen = (state) => state.triggerSortPreventNavModal;\r\nconst getSetTriggerSortPreventNavModal = (state) =>\r\n  state.setTriggerSortPreventNavModal;\r\n\r\nconst PresortPreventNavModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerModalOpen = useStore(getTriggerModalOpen);\r\n  const setTriggerSortPreventNavModal = useStore(\r\n    getSetTriggerSortPreventNavModal\r\n  );\r\n\r\n  const modalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.sortPreventNavModalHead)) || \"\";\r\n  const modalText =\r\n    ReactHtmlParser(decodeHTML(langObj.sortPreventNavModalText)) || \"\";\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerSortPreventNavModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerModalOpen}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{modalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{modalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default PresortPreventNavModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerModalOpen = (state) => state.triggerSortOverloadedColumnModal;\r\nconst getSetTrigOverColModal = (state) =>\r\n  state.setTriggerSortOverloadedColumnModal;\r\n\r\nconst OverloadedColumnModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerModalOpen = useStore(getTriggerModalOpen);\r\n  const setTriggerSortOverloadedColumnModal = useStore(getSetTrigOverColModal);\r\n\r\n  const modalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.sortOverloadedColumnModalHead)) || \"\";\r\n  const modalText =\r\n    ReactHtmlParser(decodeHTML(langObj.sortOverloadedColumnModalText)) || \"\";\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerSortOverloadedColumnModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerModalOpen}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{modalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{modalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default OverloadedColumnModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\n\r\nconst getMapObj = (state) => state.mapObj;\r\n\r\nconst SortColGuides = (props) => {\r\n  // STATE\r\n  const mapObj = useSettingsStore(getMapObj);\r\n\r\n  const qSortHeaderNumbers = [...mapObj.qSortHeaderNumbers];\r\n  const columnHeadersColorsArray = [...mapObj.columnHeadersColorsArray];\r\n  let columnWidth = +props.columnWidth + 11;\r\n\r\n  return (\r\n    <ColorBarDivContainer id=\"colorBarDivContainer\">\r\n      {qSortHeaderNumbers.map((value, index) => {\r\n        return (\r\n          <ColorBarDiv\r\n            key={uuid()}\r\n            width={columnWidth}\r\n            color={columnHeadersColorsArray[index]}\r\n          >\r\n            {value}\r\n          </ColorBarDiv>\r\n        );\r\n      })}\r\n    </ColorBarDivContainer>\r\n  );\r\n};\r\n\r\nexport default SortColGuides;\r\n\r\nconst ColorBarDiv = styled.div`\r\n  background-color: ${(props) => props.color};\r\n  width: ${(props) => +props.width}px;\r\n  margin-right: 1px;\r\n  margin-left: 1px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-size: 24px;\r\n  height: 28px;\r\n  border-bottom: 2px solid black;\r\n`;\r\n\r\nconst ColorBarDivContainer = styled.div`\r\n  display: flex;\r\n  padding-left: 2px;\r\n  flex-direction: row;\r\n  background-color: #d8d8d8;\r\n  margin-bottom: 0px;\r\n  height: 30px;\r\n`;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport SortGrid from \"./SortGrid\";\r\nimport SortGridImages from \"./SortGridImages\";\r\nimport styled from \"styled-components\";\r\nimport calculateTimeOnPage from \"../../utilities/calculateTimeOnPage\";\r\nimport SortHelpModal from \"./SortHelpModal\";\r\nimport SortingFinishedModal from \"../../utilities/SortingFinishedModal\";\r\nimport PreventSortNavModal from \"./PreventSortNavModal\";\r\nimport OverloadedColumnModal from \"./OverloadedColumnModal\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport SortColGuides from \"./SortColGuides\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport PromptUnload from \"../../utilities/PromptUnload\";\r\n\r\nfunction debounce(fn, ms) {\r\n  let timer;\r\n  return (_) => {\r\n    clearTimeout(timer);\r\n    timer = setTimeout((_) => {\r\n      timer = null;\r\n      fn.apply(this, arguments);\r\n    }, ms);\r\n  };\r\n}\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getMapObj = (state) => state.mapObj;\r\nconst getCardFontSizeSort = (state) => state.cardFontSizeSort;\r\nconst getTopMargin = (state) => state.topMargin;\r\nconst getSetPresortNoReturn = (state) => state.setPresortNoReturn;\r\nconst getSetCurrentPage = (state) => state.setCurrentPage;\r\nconst getSetTopMargin = (state) => state.setTopMargin;\r\nconst getSetDisplayNextButton = (state) => state.setDisplayNextButton;\r\nlet getCardHeightSort = (state) => state.cardHeightSort;\r\n\r\nconst Sort = () => {\r\n  // GLOBAL STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const mapObj = useSettingsStore(getMapObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const imageSort = configObj.useImages;\r\n\r\n  let cardFontSize = useStore(getCardFontSizeSort);\r\n  const topMargin = useStore(getTopMargin);\r\n  const setPresortNoReturn = useStore(getSetPresortNoReturn);\r\n  const setCurrentPage = useStore(getSetCurrentPage);\r\n  const setTopMargin = useStore(getSetTopMargin);\r\n  const setDisplayNextButton = useStore(getSetDisplayNextButton);\r\n  // const setCardFontSize = useStore(getSetCardFontSize);\r\n  const qSortPattern = [...mapObj.qSortPattern];\r\n  let cardHeight = useStore(getCardHeightSort);\r\n  const cardHeightPersist = +localStorage.getItem(\"cardHeightSort\");\r\n  const cardFontSizePersist = +localStorage.getItem(\"fontSizeSort\");\r\n\r\n  if (cardHeightPersist) {\r\n    cardHeight = cardHeightPersist;\r\n  }\r\n  if (cardFontSizePersist) {\r\n    cardFontSize = cardFontSizePersist;\r\n  }\r\n\r\n  // force updates on window resize\r\n  const [dimensions, setDimensions] = useState({\r\n    height: window.innerHeight,\r\n    width: document.body.clientWidth,\r\n  });\r\n\r\n  // LOCAL STATE\r\n  const [columnWidth, setColumnWidth] = useState(150);\r\n\r\n  // set next button display\r\n  setDisplayNextButton(true);\r\n\r\n  const headerBarColor = configObj.headerBarColor;\r\n  const fontColor = configObj.defaultFontColor;\r\n\r\n  const sortDisagreement =\r\n    ReactHtmlParser(decodeHTML(langObj.sortDisagreement)) || \"\";\r\n  const sortAgreement =\r\n    ReactHtmlParser(decodeHTML(langObj.sortAgreement)) || \"\";\r\n  const condOfInst = ReactHtmlParser(decodeHTML(langObj.condOfInst)) || \"\";\r\n\r\n  const qlength = qSortPattern.length;\r\n\r\n  const visibleWidthAdjust = useMemo(() => {\r\n    // less than -3\r\n    // -6 to +6\r\n    if (qlength > 12) {\r\n      return 170;\r\n    }\r\n    // -5 to +5\r\n    if (qlength > 10) {\r\n      return 145;\r\n    }\r\n    // -4 to +4\r\n    if (qlength > 8) {\r\n      return 120;\r\n    }\r\n    // -3 to +3\r\n    if (qlength > 6) {\r\n      return 96;\r\n    }\r\n\r\n    if (qlength > 0) {\r\n      return 70;\r\n    }\r\n  }, [qlength]);\r\n\r\n  // page resize\r\n  useEffect(() => {\r\n    const columnWidth =\r\n      (dimensions.width - visibleWidthAdjust) / qSortPattern.length;\r\n    setColumnWidth(columnWidth);\r\n\r\n    const debouncedHandleResize = debounce(function handleResize() {\r\n      setDimensions({\r\n        height: window.innerHeight,\r\n        width: document.body.clientWidth,\r\n      });\r\n    }, 200);\r\n\r\n    window.addEventListener(\"resize\", debouncedHandleResize);\r\n\r\n    return (_) => {\r\n      window.removeEventListener(\"resize\", debouncedHandleResize);\r\n    };\r\n  }, [dimensions, qSortPattern.length, visibleWidthAdjust]);\r\n\r\n  useEffect(() => {\r\n    /* this should adjust the margin of the sort grid because I can't know\r\n     the size - it will depend on how much the researcher writes in the \r\n     \"conditions of instruction\" section - so, I grab the height of titleBar \r\n     after render and reset the margin\r\n    */\r\n    const sortGridMarginTop = +JSON.parse(\r\n      localStorage.getItem(\"sortGridMarginTop\")\r\n    );\r\n    let height = document.getElementById(\"sortTitleBarContainer\").clientHeight;\r\n\r\n    height = +JSON.stringify(height);\r\n\r\n    setTimeout(() => {\r\n      if (sortGridMarginTop !== height) {\r\n        setTopMargin(height);\r\n        localStorage.setItem(\"sortGridMarginTop\", JSON.stringify(height));\r\n      } else {\r\n        setTopMargin(+sortGridMarginTop);\r\n      }\r\n    }, 50);\r\n  });\r\n\r\n  useEffect(() => {\r\n    let startTime = Date.now();\r\n    const setStateAsync = async () => {\r\n      await setPresortNoReturn(true);\r\n      localStorage.setItem(\"currentPage\", \"sort\");\r\n      await setCurrentPage(\"sort\");\r\n    };\r\n    setStateAsync();\r\n    return () => {\r\n      calculateTimeOnPage(startTime, \"sortPage\", \"sortPage\");\r\n    };\r\n  }, [setPresortNoReturn, setCurrentPage]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <PromptUnload />\r\n      <SortHelpModal />\r\n      <PreventSortNavModal />\r\n      <SortingFinishedModal />\r\n      <OverloadedColumnModal />\r\n      <SortTitleBarContainer id=\"sortTitleBarContainer\">\r\n        <SortTitleBar id=\"sortTitleBar\" background={headerBarColor}>\r\n          <Disagree>{sortDisagreement}</Disagree>\r\n          <CondOfInst fontSize={configObj.condOfInstFontSize}>\r\n            {condOfInst}\r\n          </CondOfInst>\r\n          <Agree>{sortAgreement}</Agree>\r\n        </SortTitleBar>\r\n        <SortColGuides columnWidth={columnWidth} />\r\n      </SortTitleBarContainer>\r\n      <SortGridContainer marginTop={topMargin}>\r\n        {imageSort ? (\r\n          <SortGridImages\r\n            id=\"sortGridImages\"\r\n            dimensions={dimensions}\r\n            cardFontSize={cardFontSize}\r\n            fontColor={fontColor}\r\n            columnWidth={columnWidth}\r\n            cardHeight={cardHeight}\r\n          />\r\n        ) : (\r\n          <SortGrid\r\n            id=\"sortGridDiv\"\r\n            dimensions={dimensions}\r\n            cardFontSize={cardFontSize}\r\n            fontColor={fontColor}\r\n            columnWidth={columnWidth}\r\n            cardHeight={cardHeight}\r\n          />\r\n        )}\r\n        ;\r\n      </SortGridContainer>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Sort;\r\n\r\nconst SortTitleBarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100vw;\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 999;\r\n`;\r\n\r\nconst SortTitleBar = styled.div`\r\n  width: 100vw;\r\n  padding-left: 1.5vw;\r\n  padding-right: 1.5vw;\r\n  padding-bottom: 5px;\r\n  display: inline-grid;\r\n  grid-template-columns: 15% 1fr 15%;\r\n  color: black;\r\n  font-weight: bold;\r\n  background-color: ${(props) => props.background};\r\n`;\r\n\r\nconst CondOfInst = styled.div`\r\n  color: white;\r\n  max-width: 80vw;\r\n  font-size: ${(props) => `${props.fontSize}px`};\r\n  padding: 5px;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  align-self: end;\r\n`;\r\n\r\nconst Agree = styled.div`\r\n  font-size: 22px;\r\n  align-self: end;\r\n  justify-self: end;\r\n  color: white;\r\n  padding-bottom: 5px;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst Disagree = styled.div`\r\n  font-size: 22px;\r\n  align-self: end;\r\n  justify-self: start;\r\n  color: white;\r\n  padding-bottom: 5px;\r\n`;\r\n\r\nconst SortGridContainer = styled.div`\r\n  margin-top: ${(props) => `${props.marginTop}px`};\r\n  margin-bottom: 250px;\r\n`;\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerModalOpen = (state) => state.triggerTransmissionOKModal;\r\nconst getSetTriggerTransOKMod = (state) => state.setTriggerTransmissionOKModal;\r\nconst getSetDisplayGoodbyeMessage = (state) => state.setDisplayGoodbyeMessage;\r\n\r\nconst SubmitSuccessModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerModalOpen = useStore(getTriggerModalOpen);\r\n  const setTriggerTransmissionOKModal = useStore(getSetTriggerTransOKMod);\r\n  const setDisplayGoodbyeMessage = useStore(getSetDisplayGoodbyeMessage);\r\n\r\n  const modalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.transferOkModalHeader)) || \"\";\r\n  const modalText =\r\n    ReactHtmlParser(decodeHTML(langObj.transferOkModalText)) || \"\";\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerTransmissionOKModal(false);\r\n    setDisplayGoodbyeMessage(true);\r\n    //document.getElementById(\"secondProjectLink\").click();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerModalOpen}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{modalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{modalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default SubmitSuccessModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerModalOpen = (state) => state.triggerTransmissionFailModal;\r\nconst getSetTrigTransFailMod = (state) => state.setTriggerTransmissionFailModal;\r\n\r\nconst SubmitFailureModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerModalOpen = useStore(getTriggerModalOpen);\r\n  const setTriggerTransmissionFailModal = useStore(getSetTrigTransFailMod);\r\n\r\n  const modalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.transferFailModalHeader)) || \"\";\r\n\r\n  const modalText =\r\n    ReactHtmlParser(decodeHTML(langObj.transferFailModalText)) || \"\";\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerTransmissionFailModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerModalOpen}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{modalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{modalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default SubmitFailureModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport SubmitSuccessModal from \"./SubmitSuccessModal\";\r\nimport SubmitFailureModal from \"./SubmitFailureModal\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport PromptUnload from \"../../utilities/PromptUnload\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getDisplaySubmitFallback = (state) => state.displaySubmitFallback;\r\nconst getSubmitFailNumber = (state) => state.submitFailNumber;\r\nconst getSetTrigTranFailMod = (state) => state.setTriggerTransmissionFailModal;\r\nconst getSetTrigTransOKModal = (state) => state.setTriggerTransmissionOKModal;\r\nconst getSetDisplaySubmitFallback = (state) => state.setDisplaySubmitFallback;\r\nconst getTransmittingData = (state) => state.transmittingData;\r\nconst getSetTransmittingData = (state) => state.setTransmittingData;\r\nconst getCheckInternetConnection = (state) => state.checkInternetConnection;\r\nconst getSetCheckInternetConnection = (state) =>\r\n  state.setCheckInternetConnection;\r\nconst getSetDisplayGoodbyeMessage = (state) => state.setDisplayGoodbyeMessage;\r\n\r\nconst SubmitResultsButton = (props) => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  let displaySubmitFallback = useStore(getDisplaySubmitFallback);\r\n  let submitFailNumber = useStore(getSubmitFailNumber);\r\n  const setTriggerTransmissionFailModal = useStore(getSetTrigTranFailMod);\r\n  const setTriggerTransmissionOKModal = useStore(getSetTrigTransOKModal);\r\n  const setDisplaySubmitFallback = useStore(getSetDisplaySubmitFallback);\r\n  let transmittingData = useStore(getTransmittingData);\r\n  const setTransmittingData = useStore(getSetTransmittingData);\r\n  let checkInternetConnection = useStore(getCheckInternetConnection);\r\n  const setCheckInternetConnection = useStore(getSetCheckInternetConnection);\r\n  const setDisplayGoodbyeMessage = useStore(getSetDisplayGoodbyeMessage);\r\n\r\n  const btnTransferText =\r\n    ReactHtmlParser(decodeHTML(langObj.btnTransfer)) || \"\";\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    e.target.disabled = true;\r\n\r\n    // setup for client-side internet connection fail case\r\n    setTransmittingData(true);\r\n    setCheckInternetConnection(false);\r\n    setTimeout(() => {\r\n      setTransmittingData(false);\r\n      setCheckInternetConnection(true);\r\n    }, 20000);\r\n\r\n    console.log(JSON.stringify(props.results, null, 2));\r\n\r\n    window.firebase\r\n      .auth()\r\n      .signInAnonymously()\r\n      .then(() => {\r\n        // Signed in..\r\n        window.rootRef.push(props.results, function (error) {\r\n          if (error) {\r\n            // data error action -  modal\r\n            console.log(\"data error - there was an error at rootRef level!\");\r\n            setTriggerTransmissionFailModal(true);\r\n            e.target.disabled = false;\r\n          } else {\r\n            // do success action - modal\r\n            console.log(\"success! pushed to database\");\r\n            localStorage.setItem(\"submitted\", \"true\");\r\n            let urlUsercode = localStorage.getItem(\"urlUsercode\");\r\n\r\n            if (configObj.linkToSecondProject === true) {\r\n              setDisplayGoodbyeMessage(true);\r\n\r\n              const nextLinkAnchor = document.createElement(\"a\");\r\n              nextLinkAnchor.setAttribute(\"id\", \"secondProjectLink\");\r\n              nextLinkAnchor.setAttribute(\r\n                \"href\",\r\n                `${configObj.secondProjectUrl}/#/?usercode=${urlUsercode}`\r\n              );\r\n              if (navigator.userAgent.toLowerCase().indexOf(\"chrome\") > -1) {\r\n                nextLinkAnchor.setAttribute(\"target\", \"_blank\");\r\n              }\r\n              document.body.appendChild(nextLinkAnchor);\r\n              document.getElementById(\"secondProjectLink\").click();\r\n            }\r\n\r\n            setTriggerTransmissionOKModal(true);\r\n          }\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        var errorCode = error.code;\r\n        var errorMessage = error.message;\r\n        submitFailNumber = submitFailNumber + 1;\r\n        console.log(submitFailNumber);\r\n        setTransmittingData(false);\r\n        // Firebase connection error\r\n        console.log(\"Connection error - there was an error at firebase level!\");\r\n        setTriggerTransmissionFailModal(true);\r\n        console.log(errorCode, errorMessage);\r\n        e.target.disabled = false;\r\n\r\n        if (submitFailNumber > 2) {\r\n          console.log(\"display fallback set to true\");\r\n          setDisplaySubmitFallback(true);\r\n          displaySubmitFallback = true;\r\n        }\r\n      });\r\n    console.log(\"submission processed\");\r\n  };\r\n\r\n  if (displaySubmitFallback === true) {\r\n    return (\r\n      <React.Fragment>\r\n        <PromptUnload />\r\n        <SubmitSuccessModal />\r\n        <SubmitFailureModal />\r\n        <DisabledButton tabindex=\"0\">{btnTransferText}</DisabledButton>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <PromptUnload />\r\n      <SubmitSuccessModal />\r\n      <SubmitFailureModal />\r\n      {transmittingData ? (\r\n        <TransmittingSpin />\r\n      ) : (\r\n        <StyledButton tabindex=\"0\" onClick={(e) => handleClick(e)}>\r\n          {btnTransferText}\r\n        </StyledButton>\r\n      )}\r\n      {checkInternetConnection && (\r\n        <WarningDiv>Check your internet connection</WarningDiv>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default SubmitResultsButton;\r\n\r\nconst StyledButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n\r\nconst DisabledButton = styled.button`\r\n  border-color: lightgray;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: 200px;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: lightgray;\r\n`;\r\n\r\nconst TransmittingSpin = styled.div`\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 5px solid rgba(255, 255, 255, 0.3);\r\n  border-radius: 50%;\r\n  border-top-color: #337ab7;\r\n  animation: spin 1s ease-in-out infinite;\r\n  -webkit-animation: spin 1s ease-in-out infinite;\r\n\r\n  @keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n  @-webkit-keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nconst WarningDiv = styled.div`\r\n  background-color: lightpink;\r\n  padding: 5px;\r\n  border-radius: 3px;\r\n  font-weight: bold;\r\n`;\r\n","const calculatePostsortResults = (resultsPostsort, mapObj, configObj) => {\r\n  const newObject = {};\r\n\r\n  // check for missing responses\r\n  const qSortPattern = mapObj.qSortPattern;\r\n  const qSortHeaderNumbers = mapObj.qSortHeaders;\r\n  const highCardNum = +qSortPattern[qSortPattern.length - 1];\r\n  const highCardVal = +qSortHeaderNumbers[qSortHeaderNumbers.length - 1];\r\n  const highCard2Num = +qSortPattern[qSortPattern.length - 2];\r\n  const highCard2Val = +qSortHeaderNumbers[qSortHeaderNumbers.length - 2];\r\n  const lowCardNum = +qSortPattern[0];\r\n  const lowCardVal = qSortHeaderNumbers[0];\r\n  const lowCard2Num = +qSortPattern[1];\r\n  const lowCard2Val = qSortHeaderNumbers[1];\r\n  const maxValue = Math.max(...qSortPattern);\r\n  const neuCardNum = maxValue;\r\n  const neuCardVal = 0;\r\n\r\n  // check for high card answers\r\n  const length = highCardNum;\r\n  for (let i = 0; i < length; i++) {\r\n    if (!resultsPostsort.hasOwnProperty(`column${highCardVal}_${i}`))\r\n      resultsPostsort[`column${highCardVal}_${i}`] = \"no response\";\r\n  }\r\n\r\n  // check for high card 2 answers\r\n  if (configObj.showSecondPosColumn === true) {\r\n    const length2 = highCard2Num;\r\n    for (let ii = 0; ii < length2; ii++) {\r\n      if (!resultsPostsort.hasOwnProperty(`column${highCard2Val}_${ii}`))\r\n        resultsPostsort[`column${highCard2Val}_${ii}`] = \"no response\";\r\n    }\r\n  }\r\n\r\n  // check for neu card answers\r\n  if (configObj.displayNeutralObjects === true) {\r\n    const length5 = neuCardNum;\r\n    for (let jjj = 0; jjj < length5; jjj++) {\r\n      if (!resultsPostsort.hasOwnProperty(`column${neuCardVal}_${jjj}`))\r\n        resultsPostsort[`column${neuCardVal}_${jjj}`] = \"no response\";\r\n    }\r\n  }\r\n\r\n  // check for low card 2 answers\r\n  if (configObj.showSecondNegColumn === true) {\r\n    const length4 = lowCard2Num;\r\n    for (let jj = 0; jj < length4; jj++) {\r\n      if (!resultsPostsort.hasOwnProperty(`column${lowCard2Val}_${jj}`))\r\n        resultsPostsort[`column${lowCard2Val}_${jj}`] = \"no response\";\r\n    }\r\n  }\r\n\r\n  // check for low card answers\r\n  const length3 = lowCardNum;\r\n  for (let j = 0; j < length3; j++) {\r\n    if (!resultsPostsort.hasOwnProperty(`column${lowCardVal}_${j}`))\r\n      resultsPostsort[`column${lowCardVal}_${j}`] = \"no response\";\r\n  }\r\n\r\n  // re-arrange object properties\r\n  let keys = Object.keys(resultsPostsort);\r\n  keys.sort();\r\n\r\n  for (let i = 0; i < keys.length; i++) {\r\n    newObject[keys[i]] = resultsPostsort[keys[i]];\r\n  }\r\n  return newObject;\r\n};\r\n\r\nexport default calculatePostsortResults;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\n\r\nconst SubmitResultsButton = (props) => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n\r\n  const downloadButtonText =\r\n    ReactHtmlParser(decodeHTML(langObj.btnDownload)) || \"\";\r\n  const randomId = uuid().substring(0, 12);\r\n\r\n  const resultsWithId = {};\r\n  resultsWithId[randomId] = props.results;\r\n\r\n  const finalResults = JSON.stringify(resultsWithId);\r\n\r\n  const handleClick = (e) => {\r\n    function download(content, fileName, contentType) {\r\n      var a = document.createElement(\"a\");\r\n      var file = new Blob([content], { type: contentType });\r\n      a.href = URL.createObjectURL(file);\r\n      a.download = fileName;\r\n      a.click();\r\n      URL.revokeObjectURL(a.href);\r\n    }\r\n\r\n    download(finalResults, \"EQ_Web_Sort_Results.txt\", \"text/plain\");\r\n  };\r\n\r\n  return (\r\n    <ButtonContainer>\r\n      <StyledButton tabindex=\"0\" onClick={(e) => handleClick(e)}>\r\n        {downloadButtonText}\r\n      </StyledButton>\r\n    </ButtonContainer>\r\n  );\r\n};\r\nexport default SubmitResultsButton;\r\n\r\nconst StyledButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: 200px;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: fit-content;\r\n\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 50vw;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport FallbackButtons from \"./FallbackButtons\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\n\r\n// eslint-disable-next-line react/button-has-type\r\n/* eslint react/prop-types: 0 */\r\n\r\n/* const handleClick = () => {\r\n  console.log(\"clicked\");\r\n}; */\r\n\r\nconst getLangObj = (state) => state.langObj;\r\n\r\nconst SubmitFallback = (props) => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n\r\n  const fallbackMessage =\r\n    ReactHtmlParser(decodeHTML(langObj.fallbackMessage)) || \"\";\r\n\r\n  return (\r\n    <div>\r\n      <StyledMessage>{fallbackMessage}</StyledMessage>\r\n      <FallbackButtons results={props.results} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmitFallback;\r\n\r\nconst StyledMessage = styled.div`\r\n  width: 50vw;\r\n  max-width: 900px;\r\n  font-size: 3vh;\r\n  background-color: orange;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport SubmitSuccessModal from \"./SubmitSuccessModal\";\r\nimport SubmitFailureModal from \"./SubmitFailureModal\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useLocalPersist from \"../../globalState/useLocalPersist\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getSetLocalStoredQsorts = (state) => state.setLocalStoredQsorts;\r\nconst getLocalStoredQsorts = (state) => state.localStoredQsorts;\r\nconst getSetHasDownloadedQsorts = (state) => state.setHasDownloadedQsorts;\r\nconst getSetTriggerLocalSubmitSuccessModal = (state) =>\r\n  state.setTriggerLocalSubmitSuccessModal;\r\nconst getSurveyQuestionObjArray = (state) => state.surveyQuestionObjArray;\r\n\r\nconst getLangObj = (state) => state.langObj;\r\n\r\nconst SubmitLocalResultsButton = (props) => {\r\n  console.log(\"props.results\", props.results);\r\n\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n\r\n  const setLocalStoredQsorts = useLocalPersist(getSetLocalStoredQsorts);\r\n  let localStoredQsorts = useLocalPersist(getLocalStoredQsorts);\r\n  const setHasDownloadedQsorts = useLocalPersist(getSetHasDownloadedQsorts);\r\n  const setTriggerLocalSubmitSuccessModal = useStore(\r\n    getSetTriggerLocalSubmitSuccessModal\r\n  );\r\n  const surveyQuestionObjArray = useSettingsStore(getSurveyQuestionObjArray);\r\n  console.log(\"surveyQuestionObjArray\", surveyQuestionObjArray);\r\n\r\n  const btnTransferText =\r\n    ReactHtmlParser(decodeHTML(langObj.localSaveDataButton)) || \"\";\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    e.target.disabled = true;\r\n\r\n    try {\r\n      // reset names in case of page reload\r\n      let localParticipantName = localStorage.getItem(\"localParticipantName\");\r\n      let localUsercode = localStorage.getItem(\"localUsercode\");\r\n      const resultsProject = JSON.parse(JSON.stringify(props.results));\r\n      resultsProject.partId = localParticipantName;\r\n      resultsProject.usercode = localUsercode;\r\n      // set results object\r\n      const participantDesignation1 = uuid();\r\n      const participantDesignation = participantDesignation1.substring(0, 8);\r\n      localStoredQsorts[participantDesignation] = resultsProject;\r\n      setLocalStoredQsorts(localStoredQsorts);\r\n\r\n      // clean up for next participant\r\n      localStorage.removeItem(\"cumulativelandingPageDuration\");\r\n      localStorage.removeItem(\"cumulativepresortPageDuration\");\r\n      localStorage.removeItem(\"cumulativesortPageDuration\");\r\n      localStorage.removeItem(\"cumulativepostsortPageDuration\");\r\n      localStorage.removeItem(\"cumulativesurveyPageDuration\");\r\n      localStorage.removeItem(\"lastAccesslandingPage\");\r\n      localStorage.removeItem(\"lastAccesspresortPage\");\r\n      localStorage.removeItem(\"lastAccesssortPage\");\r\n      localStorage.removeItem(\"lastAccesspostsortPage\");\r\n      localStorage.removeItem(\"lastAccesssurveyPage\");\r\n      localStorage.removeItem(\"timeOnlandingPage\");\r\n      localStorage.removeItem(\"timeOnpresortPage\");\r\n      localStorage.removeItem(\"timeOnsortPage\");\r\n      localStorage.removeItem(\"timeOnpostsortPage\");\r\n      localStorage.removeItem(\"timeOnsurveyPage\");\r\n      localStorage.removeItem(\"resultsSurvey\");\r\n      localStorage.removeItem(\"resultsSort\");\r\n      localStorage.removeItem(\"resultsPresort\");\r\n      localStorage.removeItem(\"resultsPostsort\");\r\n      localStorage.removeItem(\"HC-requiredCommentsObj\");\r\n      localStorage.removeItem(\"HC2-requiredCommentsObj\");\r\n      localStorage.removeItem(\"LC-requiredCommentsObj\");\r\n      localStorage.removeItem(\"LC2-requiredCommentsObj\");\r\n      localStorage.removeItem(\"postsortCommentCardCount\");\r\n      localStorage.removeItem(\"allCommentsObj\");\r\n      localStorage.removeItem(\"localParticipantName\");\r\n      localStorage.removeItem(\"localUsercode\");\r\n\r\n      surveyQuestionObjArray.forEach((question) => {\r\n        localStorage.removeItem(question.id);\r\n      });\r\n\r\n      setTriggerLocalSubmitSuccessModal(true);\r\n      setHasDownloadedQsorts(false);\r\n    } catch (error) {\r\n      e.target.disabled = false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <SubmitSuccessModal />\r\n      <SubmitFailureModal />\r\n      <StyledButton tabindex=\"0\" onClick={(e) => handleClick(e)}>\r\n        {btnTransferText}\r\n      </StyledButton>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default SubmitLocalResultsButton;\r\n\r\nconst StyledButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport { withRouter } from \"react-router\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getSetPresortNoReturn = (state) => state.setPresortNoReturn;\r\nconst getSetColumnStatements = (state) => state.setColumnStatements;\r\nconst getResetColumnStatements = (state) => state.resetColumnStatements;\r\n\r\nconst ReturnToLocalPanelButton = (props) => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const setPresortNoReturn = useStore(getSetPresortNoReturn);\r\n  const setColumnStatements = useSettingsStore(getSetColumnStatements);\r\n  const resetColumnStatements = useSettingsStore(getResetColumnStatements);\r\n  const newColumnStatements = cloneDeep(resetColumnStatements);\r\n\r\n  const btnTransferText =\r\n    ReactHtmlParser(decodeHTML(langObj.returnToLocalPanelButtonText)) || \"\";\r\n\r\n  const {\r\n    history,\r\n    onClick,\r\n    // ⬆ filtering out props that `button` doesn’t know what to do with.\r\n  } = props;\r\n\r\n  let reload = async function (history) {\r\n    await new Promise((resolve, reject) => window.location.reload());\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <StyledButton\r\n        onClick={(event) => {\r\n          onClick && onClick(event);\r\n          setPresortNoReturn(false);\r\n          setColumnStatements(newColumnStatements);\r\n          history.push(\"/\");\r\n          reload();\r\n        }}\r\n      >\r\n        {btnTransferText}\r\n      </StyledButton>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default withRouter(ReturnToLocalPanelButton);\r\n\r\nconst StyledButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport ReturnToLocalPanelButton from \"./ReturnToLocalPanelButton\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTrigLclSubmitSucMdl = (state) => state.triggerLocalSubmitSuccessModal;\r\n\r\nconst LocalSubmitSuccessModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerModalOpen = useStore(getTrigLclSubmitSucMdl);\r\n\r\n  const modalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.localSubmitSuccessModalHeader)) || \"\";\r\n  const modalText =\r\n    ReactHtmlParser(decodeHTML(langObj.localSubmitSuccessModalText)) || \"\";\r\n\r\n  const onCloseModal = () => {};\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerModalOpen}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{modalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{modalText}</ModalContent>\r\n      <ButtonContainer>\r\n        <ReturnToLocalPanelButton />\r\n      </ButtonContainer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default LocalSubmitSuccessModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n// react-responsive-modal-overlay\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport SubmitSuccessModal from \"./SubmitSuccessModal\";\r\nimport SubmitFailureModal from \"./SubmitFailureModal\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport SteinStore from \"stein-js-client\";\r\nimport PromptUnload from \"../../utilities/PromptUnload\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getDisplaySubmitFallback = (state) => state.displaySubmitFallback;\r\nconst getSubmitFailNumber = (state) => state.submitFailNumber;\r\nconst getSetTrigTranFailMod = (state) => state.setTriggerTransmissionFailModal;\r\nconst getSetTrigTransOKModal = (state) => state.setTriggerTransmissionOKModal;\r\nconst getSetDisplaySubmitFallback = (state) => state.setDisplaySubmitFallback;\r\nconst getTransmittingData = (state) => state.transmittingData;\r\nconst getSetTransmittingData = (state) => state.setTransmittingData;\r\nconst getCheckInternetConnection = (state) => state.checkInternetConnection;\r\nconst getSetCheckInternetConnection = (state) =>\r\n  state.setCheckInternetConnection;\r\nconst getSetDisplayGoodbyeMessage = (state) => state.setDisplayGoodbyeMessage;\r\n\r\nconst SubmitResultsButton = (props) => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const apiString = props.api;\r\n  const rawData = props.results;\r\n\r\n  let displaySubmitFallback = useStore(getDisplaySubmitFallback);\r\n  let submitFailNumber = useStore(getSubmitFailNumber);\r\n  const setTriggerTransmissionFailModal = useStore(getSetTrigTranFailMod);\r\n  const setTriggerTransmissionOKModal = useStore(getSetTrigTransOKModal);\r\n  const setDisplaySubmitFallback = useStore(getSetDisplaySubmitFallback);\r\n  let transmittingData = useStore(getTransmittingData);\r\n  const setTransmittingData = useStore(getSetTransmittingData);\r\n  let checkInternetConnection = useStore(getCheckInternetConnection);\r\n  const setCheckInternetConnection = useStore(getSetCheckInternetConnection);\r\n  const setDisplayGoodbyeMessage = useStore(getSetDisplayGoodbyeMessage);\r\n\r\n  const btnTransferText =\r\n    ReactHtmlParser(decodeHTML(langObj.btnTransfer)) || \"\";\r\n\r\n  const store = new SteinStore(apiString);\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    e.target.disabled = true;\r\n    setTransmittingData(true);\r\n    setCheckInternetConnection(false);\r\n\r\n    setTimeout(() => {\r\n      setTransmittingData(false);\r\n      setCheckInternetConnection(true);\r\n    }, 20000);\r\n\r\n    // create results object for transmission\r\n    let formattedResultsObj = {};\r\n    let iterator = 1;\r\n    for (const [key, value] of Object.entries(rawData)) {\r\n      formattedResultsObj[iterator] = `${key}: ${value}`;\r\n      iterator += 1;\r\n    }\r\n\r\n    // POST TO STEIN\r\n\r\n    console.log(JSON.stringify(formattedResultsObj, null, 2));\r\n    store.append(\"Sheet1\", [formattedResultsObj]).then((res) => {\r\n      if (Object.keys(res)[0] === \"error\") {\r\n        console.log(\"there was an error\");\r\n        // setTriggerTransmissionFailModal(true);\r\n\r\n        // re-enable submit button and log error number for fallback\r\n        e.target.disabled = false;\r\n        setTransmittingData(false);\r\n\r\n        submitFailNumber = submitFailNumber + 1;\r\n        console.log(submitFailNumber);\r\n\r\n        if (submitFailNumber > 2) {\r\n          console.log(\"display fallback set to true\");\r\n          setDisplaySubmitFallback(true);\r\n          displaySubmitFallback = true;\r\n        } else {\r\n          setTriggerTransmissionFailModal(true);\r\n        }\r\n      } else {\r\n        // submission success\r\n        console.log(res);\r\n        console.log(\"success! pushed to database\");\r\n        // reset localStorage\r\n        let urlUsercode = localStorage.getItem(\"urlUsercode\");\r\n        localStorage.clear();\r\n        localStorage.setItem(\"urlUsercode\", urlUsercode);\r\n\r\n        if (configObj.linkToSecondProject === true) {\r\n          setDisplayGoodbyeMessage(true);\r\n\r\n          let urlUsercode = localStorage.getItem(\"urlUsercode\");\r\n          const nextLinkAnchor = document.createElement(\"a\");\r\n          nextLinkAnchor.setAttribute(\"id\", \"secondProjectLink\");\r\n          nextLinkAnchor.setAttribute(\r\n            \"href\",\r\n            `${configObj.secondProjectUrl}/#/?usercode=${urlUsercode}`\r\n          );\r\n          if (navigator.userAgent.toLowerCase().indexOf(\"chrome\") > -1) {\r\n            nextLinkAnchor.setAttribute(\"target\", \"_blank\");\r\n          }\r\n          document.body.appendChild(nextLinkAnchor);\r\n          document.getElementById(\"secondProjectLink\").click();\r\n        }\r\n\r\n        setTriggerTransmissionOKModal(true);\r\n      }\r\n    });\r\n\r\n    /*\r\n    if (props.results.sort !== \"no data\") {\r\n      let rawSort = props.results.sort;\r\n      let sortArray = rawSort.split(\"|\");\r\n      let sortObj = {};\r\n      sortArray.forEach((item, index) => (sortObj[\"s\" + (index + 1)] = +item));\r\n      sortObj.randomId = rawData.randomId;\r\n      sortObj.partId = rawData.partId;\r\n      sortObj.urlUsercode = rawData.urlUsercode;\r\n\r\n      console.log(JSON.stringify(sortObj, null, 2));\r\n\r\n      store.append(\"Sheet2\", [sortObj]).then((res) => {\r\n        if (Object.keys(res)[0] === \"error\") {\r\n          console.log(\"there was an error\");\r\n          e.target.disabled = false;\r\n          submitFailNumber = submitFailNumber + 1;\r\n          console.log(submitFailNumber);\r\n\r\n          if (submitFailNumber > 2) {\r\n            console.log(\"display fallback set to true\");\r\n            setDisplaySubmitFallback(true);\r\n            displaySubmitFallback = true;\r\n          } else {\r\n            setTriggerTransmissionFailModal(true);\r\n          }\r\n        } else {\r\n          // submission success\r\n          console.log(res);\r\n          setTriggerTransmissionOKModal(true);\r\n          console.log(\"success! pushed to database\");\r\n          localStorage.removeItem(\"cumulativelandingPageDuration\");\r\n          localStorage.removeItem(\"cumulativepresortPageDuration\");\r\n          localStorage.removeItem(\"cumulativesortPageDuration\");\r\n          localStorage.removeItem(\"cumulativepostsortPageDuration\");\r\n          localStorage.removeItem(\"cumulativesurveyPageDuration\");\r\n          localStorage.removeItem(\"lastAccesslandingPage\");\r\n          localStorage.removeItem(\"lastAccesspresortPage\");\r\n          localStorage.removeItem(\"lastAccesssortPage\");\r\n          localStorage.removeItem(\"lastAccesspostsortPage\");\r\n          localStorage.removeItem(\"lastAccesssurveyPage\");\r\n          localStorage.removeItem(\"timeOnlandingPage\");\r\n          localStorage.removeItem(\"timeOnpresortPage\");\r\n          localStorage.removeItem(\"timeOnsortPage\");\r\n          localStorage.removeItem(\"timeOnpostsortPage\");\r\n          localStorage.removeItem(\"timeOnsurveyPage\");\r\n        }\r\n      });\r\n    }\r\n    */\r\n  };\r\n\r\n  if (displaySubmitFallback === true) {\r\n    return (\r\n      <React.Fragment>\r\n        <PromptUnload />\r\n        <SubmitSuccessModal />\r\n        <SubmitFailureModal />\r\n        <DisabledButton tabindex=\"0\">{btnTransferText}</DisabledButton>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <PromptUnload />\r\n      <SubmitSuccessModal />\r\n      <SubmitFailureModal />\r\n      {transmittingData ? (\r\n        <TransmittingSpin />\r\n      ) : (\r\n        <StyledButton tabindex=\"0\" onClick={(e) => handleClick(e)}>\r\n          {btnTransferText}\r\n        </StyledButton>\r\n      )}\r\n      {checkInternetConnection && (\r\n        <WarningDiv>Check your internet connection</WarningDiv>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default SubmitResultsButton;\r\n\r\nconst StyledButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n\r\nconst DisabledButton = styled.button`\r\n  border-color: lightgray;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: 200px;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: lightgray;\r\n`;\r\n\r\nconst TransmittingSpin = styled.div`\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 5px solid rgba(255, 255, 255, 0.3);\r\n  border-radius: 50%;\r\n  border-top-color: #337ab7;\r\n  animation: spin 1s ease-in-out infinite;\r\n  -webkit-animation: spin 1s ease-in-out infinite;\r\n\r\n  @keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n  @-webkit-keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nconst WarningDiv = styled.div`\r\n  background-color: lightpink;\r\n  padding: 5px;\r\n  border-radius: 3px;\r\n  font-weight: bold;\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\n\r\nconst CopyToClipboardButton = (props) => {\r\n  console.log(\"incoming: \" + JSON.stringify(props.content));\r\n\r\n  // GLOBAL STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const copiedText = ReactHtmlParser(decodeHTML(langObj.copiedText)) || \"\";\r\n  const copyTextError =\r\n    ReactHtmlParser(decodeHTML(langObj.copyTextError)) || \"\";\r\n\r\n  // LOCAL STATE\r\n  const [result, setResult] = useState(\"\");\r\n\r\n  // async generic function for copying to clipboard\r\n  async function copyToClipboard() {\r\n    try {\r\n      let formattedResultsTxt = \"\";\r\n      if (props.type === \"results\") {\r\n        for (const [key, value] of Object.entries(props.content)) {\r\n          formattedResultsTxt = formattedResultsTxt + `${key}: ${value} * `;\r\n        }\r\n      } else {\r\n        formattedResultsTxt = props.content;\r\n      }\r\n      console.log(\"formattedResults: \" + formattedResultsTxt);\r\n\r\n      await navigator.clipboard.writeText(formattedResultsTxt);\r\n      setResult(\"success\");\r\n    } catch (err) {\r\n      setResult(\"error\");\r\n      console.error(\"Failed to copy: \", err);\r\n    } finally {\r\n      setTimeout(() => setResult(\"\"), 3000);\r\n    }\r\n  }\r\n\r\n  const handleClick = (e) => {\r\n    copyToClipboard(props.content).then(() => {\r\n      console.log(\"copied to clipboard\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ContainerDiv>\r\n        <StyledButton tabindex=\"1\" onClick={(e) => handleClick(e)}>\r\n          {props.text}\r\n        </StyledButton>\r\n        <MessageDiv>\r\n          {result === \"success\" && copiedText}\r\n          {result === \"error\" && copyTextError}\r\n        </MessageDiv>\r\n      </ContainerDiv>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default CopyToClipboardButton;\r\n\r\nconst StyledButton = styled.button`\r\n  grid-area: b;\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  min-width: 200px;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: ${({ theme }) => theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n`;\r\n\r\nconst ContainerDiv = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  gap: 10px;\r\n  align-items: center;\r\n  grid-template-areas: \"a b c\";\r\n`;\r\n\r\nconst MessageDiv = styled.div`\r\n  grid-area: c;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  margin-top: 0.7em;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport SubmitSuccessModal from \"./SubmitSuccessModal\";\r\nimport SubmitFailureModal from \"./SubmitFailureModal\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport CopyToClipboardButton from \"./CopyToClipboardButton\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getDisplaySubmitFallback = (state) => state.displaySubmitFallback;\r\nconst getTransmittingData = (state) => state.transmittingData;\r\nconst getSetTransmittingData = (state) => state.setTransmittingData;\r\n// const getCheckInternetConnection = (state) => state.checkInternetConnection;\r\nconst getSetCheckInternetConnection = (state) =>\r\n  state.setCheckInternetConnection;\r\nconst getSetDisableRefreshCheck = (state) => state.setDisableRefreshCheck;\r\n\r\nconst SubmitResultsButton = (props) => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  let displaySubmitFallback = useStore(getDisplaySubmitFallback);\r\n  let transmittingData = useStore(getTransmittingData);\r\n  const setTransmittingData = useStore(getSetTransmittingData);\r\n  const setCheckInternetConnection = useStore(getSetCheckInternetConnection);\r\n  const setDisableRefreshCheck = useStore(getSetDisableRefreshCheck);\r\n  const [showEmailButtons, setShowEmailButtons] = useState(false);\r\n\r\n  const rawData = props.results;\r\n  const emailAddress = configObj.emailAddress;\r\n  const btnTransferText =\r\n    ReactHtmlParser(decodeHTML(langObj.btnTransferEmail)) || \"\";\r\n  const defaultEmailClientFailText =\r\n    ReactHtmlParser(decodeHTML(langObj.defaultEmailClientFail)) || \"\";\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    setTransmittingData(true);\r\n    setCheckInternetConnection(false);\r\n\r\n    // create results object for transmission - * is a delimiter\r\n    let formattedResultsTxt = \"\";\r\n    for (const [key, value] of Object.entries(props.results)) {\r\n      formattedResultsTxt = formattedResultsTxt + `${key}:| ${value} | `;\r\n    }\r\n    console.log(\"formattedResults: \" + formattedResultsTxt);\r\n\r\n    // check for internet connection\r\n    setTimeout(() => {\r\n      setTransmittingData(false);\r\n      setCheckInternetConnection(true);\r\n    }, 200);\r\n\r\n    console.log(JSON.stringify(formattedResultsTxt, null, 2));\r\n\r\n    // Pass to Email client\r\n    if (navigator.userAgent.toLowerCase().indexOf(\"chrome\") > -1) {\r\n      // Do Chrome-related actions  -  %0D%0A is a line break\r\n      window.open(\r\n        `mailto:${configObj.emailAddress}?subject=${configObj.emailSubject}&body=${langObj.emailMessage1} %0D%0A%0D%0AMy Results:%0D%0A${formattedResultsTxt}`\r\n      );\r\n      setShowEmailButtons(true);\r\n    } else {\r\n      // Do non-Chrome-related actions   -  %0D%0A is a line break\r\n      window.location.href = `mailto:${configObj.emailAddress}?subject=${configObj.emailSubject}&body=${langObj.emailMessage1} %0D%0A%0D%0AMy Results:%0D%0A${formattedResultsTxt}`;\r\n      setShowEmailButtons(true);\r\n    }\r\n  };\r\n\r\n  // set disable refresh check\r\n  useEffect(() => {\r\n    setDisableRefreshCheck(true);\r\n  }, [setDisableRefreshCheck]);\r\n\r\n  console.log(\"urlUsercode: \", props.results.urlUsercode);\r\n\r\n  if (displaySubmitFallback === true) {\r\n    return (\r\n      <React.Fragment>\r\n        <SubmitSuccessModal />\r\n\r\n        <DisabledButton tabindex=\"0\">{btnTransferText}</DisabledButton>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <SubmitSuccessModal />\r\n      <SubmitFailureModal />\r\n      <ContainerDiv>\r\n        <StyledButton tabindex=\"0\" onClick={(e) => handleClick(e)}>\r\n          {btnTransferText}\r\n        </StyledButton>\r\n\r\n        {transmittingData ? <TransmittingSpin /> : null}\r\n      </ContainerDiv>\r\n      {showEmailButtons ? (\r\n        <EmailButtonDiv>\r\n          <ContentDiv>{defaultEmailClientFailText}</ContentDiv>\r\n          <CopyToClipboardButton\r\n            type={\"email\"}\r\n            content={emailAddress}\r\n            text={langObj.clipboardEmail}\r\n          />\r\n          <CopyToClipboardButton\r\n            type={\"results\"}\r\n            content={rawData}\r\n            text={langObj.clipboardResults}\r\n          />\r\n        </EmailButtonDiv>\r\n      ) : (\r\n        <SpacerDiv />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default SubmitResultsButton;\r\n\r\nconst StyledButton = styled.button`\r\n  grid-area: b;\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n\r\nconst ContainerDiv = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  gap: 10px;\r\n  align-items: center;\r\n  grid-template-areas: \"a b c\";\r\n`;\r\n\r\nconst DisabledButton = styled.button`\r\n  border-color: lightgray;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: 200px;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: lightgray;\r\n`;\r\n\r\nconst TransmittingSpin = styled.div`\r\n  grid-area: c;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  margin-top: 0.7em;\r\n\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 5px solid rgba(255, 255, 255, 0.3);\r\n  border-radius: 50%;\r\n  border-top-color: #337ab7;\r\n  animation: spin 1s ease-in-out infinite;\r\n  -webkit-animation: spin 1s ease-in-out infinite;\r\n\r\n  @keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n  @-webkit-keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nconst ContentDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.2em;\r\n  width: 65vw;\r\n  font-size: 1.35em;\r\n  margin-top: 25px;\r\n  padding: 5px;\r\n  align-self: center;\r\n`;\r\n\r\nconst SpacerDiv = styled.div`\r\n  height: 300px;\r\n`;\r\n\r\nconst EmailButtonDiv = styled.div`\r\n  height: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","const convertObjectToResults = (\r\n  columnStatements,\r\n  resultsPresort,\r\n  traceSorts\r\n) => {\r\n  // columnStatements is an object with a key of vCols = sort results\r\n  // resultsPresort is an object with keys posStateNums, neuStateNums, negStateNums\r\n  // traceSorts (get all presort column values) is an object with keys of sortResults, sortResultsPresort, sortResultsTrace\r\n\r\n  if (columnStatements.length === 0 || columnStatements === undefined) {\r\n    return;\r\n  }\r\n\r\n  let columnSortValues = Object.keys(columnStatements.vCols);\r\n\r\n  const sortArray = [];\r\n\r\n  let posStateNums;\r\n  let neuStateNums;\r\n  let negStateNums;\r\n\r\n  if (resultsPresort !== undefined) {\r\n    let posStateNums2 = resultsPresort?.posStateNums;\r\n    let neuStateNums2 = resultsPresort?.neuStateNums;\r\n    let negStateNums2 = resultsPresort?.negStateNums;\r\n    posStateNums = posStateNums2.split(\",\");\r\n    neuStateNums = neuStateNums2.split(\",\");\r\n    negStateNums = negStateNums2.split(\",\");\r\n    posStateNums = posStateNums.filter((item) => item);\r\n    negStateNums = negStateNums.filter((item) => item);\r\n    neuStateNums = neuStateNums.filter((item) => item);\r\n  }\r\n  // old style loops for speed\r\n  //\r\n  for (let i = 0; i < columnSortValues.length; i++) {\r\n    let tempArray1 = columnStatements?.vCols[columnSortValues[i]];\r\n    let presortVal;\r\n    // convert column key to column sort value\r\n    let sortValue1 = columnSortValues[i];\r\n    const replaceColumn = /column/gi;\r\n    const replaceN = /N/gi;\r\n    sortValue1 = sortValue1.replace(replaceColumn, \"\");\r\n    sortValue1 = sortValue1.replace(replaceN, \"-\");\r\n    const sortValue = parseInt(sortValue1, 10);\r\n\r\n    // push statement sort values into array\r\n    for (let j = 0; j < tempArray1.length; j++) {\r\n      let tempObject = {};\r\n      let statementNum2 = tempArray1[j].statementNum.toString();\r\n\r\n      let statementNum = parseInt(tempArray1[j].statementNum, 10);\r\n      tempObject.statement = statementNum;\r\n      tempObject.sortValue = sortValue;\r\n      if (posStateNums.includes(statementNum2)) {\r\n        presortVal = \"p\";\r\n      }\r\n      if (neuStateNums.includes(statementNum2)) {\r\n        presortVal = \"u\";\r\n      }\r\n      if (negStateNums.includes(statementNum2)) {\r\n        presortVal = \"n\";\r\n      }\r\n      tempObject.presortVal = presortVal;\r\n      sortArray.push(tempObject);\r\n    }\r\n  }\r\n\r\n  // sort array by statement\r\n  sortArray.sort((a, b) => {\r\n    return a.statement - b.statement;\r\n  });\r\n\r\n  // accumulate text string\r\n  let resultsText = \"\";\r\n  let presortTraceText = \"\";\r\n  for (let k = 0; k < sortArray.length; k++) {\r\n    resultsText += `${sortArray[k].sortValue}|`;\r\n    presortTraceText += `${sortArray[k].statement}*${sortArray[k].presortVal}*${sortArray[k].sortValue}|`;\r\n  }\r\n\r\n  // remove trailing bar\r\n  if (resultsText.charAt(resultsText.length - 1) === \"|\") {\r\n    resultsText = resultsText.substring(0, resultsText.length - 1);\r\n  }\r\n  // remove trailing bar\r\n  if (presortTraceText.charAt(presortTraceText.length - 1) === \"|\") {\r\n    presortTraceText = presortTraceText.substring(\r\n      0,\r\n      presortTraceText.length - 1\r\n    );\r\n  }\r\n\r\n  if (traceSorts === true || traceSorts === \"true\") {\r\n    return { sort: resultsText, presortTrace: presortTraceText };\r\n  } else {\r\n    return { sort: resultsText };\r\n  }\r\n};\r\n\r\nexport default convertObjectToResults;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport SubmitSuccessModal from \"./SubmitSuccessModal\";\r\nimport SubmitFailureModal from \"./SubmitFailureModal\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getDisplaySubmitFallback = (state) => state.displaySubmitFallback;\r\nconst getTransmittingData = (state) => state.transmittingData;\r\nconst getSetTransmittingData = (state) => state.setTransmittingData;\r\nconst getSetCheckInternetConnection = (state) =>\r\n  state.setCheckInternetConnection;\r\nconst getSetDisableRefreshCheck = (state) => state.setDisableRefreshCheck;\r\nconst getSetTrigTranFailMod = (state) => state.setTriggerTransmissionFailModal;\r\nconst getSetTrigTransOKModal = (state) => state.setTriggerTransmissionOKModal;\r\nconst getSetDisplayGoodbyeMessage = (state) => state.setDisplayGoodbyeMessage;\r\n\r\nconst SubmitResultsButton = (props) => {\r\n  // GLOBAL STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  let displaySubmitFallback = useStore(getDisplaySubmitFallback);\r\n  let transmittingData = useStore(getTransmittingData);\r\n  const setTransmittingData = useStore(getSetTransmittingData);\r\n  const setCheckInternetConnection = useStore(getSetCheckInternetConnection);\r\n  const setDisableRefreshCheck = useStore(getSetDisableRefreshCheck);\r\n  const setTriggerTransmissionFailModal = useStore(getSetTrigTranFailMod);\r\n  const setDisplayGoodbyeMessage = useStore(getSetDisplayGoodbyeMessage);\r\n  const setTriggerTransmissionOKModal = useStore(getSetTrigTransOKModal);\r\n\r\n  const btnTransferText =\r\n    ReactHtmlParser(decodeHTML(langObj.btnTransfer)) || \"\";\r\n\r\n  const encode = (data) => {\r\n    return Object.keys(data)\r\n      .map(\r\n        (key) => encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key])\r\n      )\r\n      .join(\"&\");\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    // create results object for transmission - * is a delimiter\r\n    e.target.disabled = true;\r\n\r\n    let results = props.results;\r\n    let keys = Object.keys(results);\r\n    let formattedResultsTxt = \"\";\r\n\r\n    for (let i = 0; i < keys.length; i++) {\r\n      let value = results[keys[i]];\r\n      formattedResultsTxt += `${keys[i]}:| ${value} | `;\r\n    }\r\n\r\n    fetch(\"/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      body: encode({\r\n        \"form-name\": \"Q-sorts\",\r\n        qSortData: formattedResultsTxt,\r\n      }),\r\n    })\r\n      .then((response) => {\r\n        console.log(\"response.status: \", response.status);\r\n        if (response.status !== 200) {\r\n          console.log(\r\n            \"data error - there was an setup error - check your Netlify form setup\"\r\n          );\r\n          setTriggerTransmissionFailModal(true);\r\n          e.target.disabled = false;\r\n          return;\r\n        }\r\n\r\n        // SUCCESS\r\n        console.log(\"Success!\");\r\n        console.log(JSON.stringify(formattedResultsTxt, null, 2));\r\n\r\n        // reset localStorage\r\n        let urlUsercode = localStorage.getItem(\"urlUsercode\");\r\n        localStorage.clear();\r\n        localStorage.setItem(\"urlUsercode\", urlUsercode);\r\n        if (configObj.linkToSecondProject === true) {\r\n          setDisplayGoodbyeMessage(true);\r\n          const nextLinkAnchor = document.createElement(\"a\");\r\n          nextLinkAnchor.setAttribute(\"id\", \"secondProjectLink\");\r\n          nextLinkAnchor.setAttribute(\r\n            \"href\",\r\n            `${configObj.secondProjectUrl}/#/?usercode=${urlUsercode}`\r\n          );\r\n          if (navigator.userAgent.toLowerCase().indexOf(\"chrome\") > -1) {\r\n            nextLinkAnchor.setAttribute(\"target\", \"_blank\");\r\n          }\r\n          document.body.appendChild(nextLinkAnchor);\r\n          document.getElementById(\"secondProjectLink\").click();\r\n        }\r\n        setTriggerTransmissionOKModal(true);\r\n      })\r\n      .catch((error) => {\r\n        // ERROR - show modal\r\n        console.log(\"data error - there was an error at rootRef level!\");\r\n        console.log(error);\r\n        setTriggerTransmissionFailModal(true);\r\n        e.target.disabled = false;\r\n      });\r\n\r\n    e.preventDefault();\r\n\r\n    setTransmittingData(true);\r\n    setCheckInternetConnection(false);\r\n    setTimeout(() => {\r\n      setTransmittingData(false);\r\n      setCheckInternetConnection(true);\r\n    }, 20000);\r\n  }; // end handleClick\r\n\r\n  // set disable refresh check\r\n  useEffect(() => {\r\n    setDisableRefreshCheck(true);\r\n  }, [setDisableRefreshCheck]);\r\n\r\n  console.log(\"urlUsercode: \", props.results.urlUsercode);\r\n\r\n  if (displaySubmitFallback === true) {\r\n    return (\r\n      <React.Fragment>\r\n        <SubmitSuccessModal />\r\n        <DisabledButton tabindex=\"0\">{btnTransferText}</DisabledButton>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <SubmitSuccessModal />\r\n      <SubmitFailureModal />\r\n      <StyledButton tabindex=\"0\" onClick={(e) => handleClick(e)}>\r\n        {btnTransferText}\r\n      </StyledButton>\r\n      {transmittingData ? <TransmittingSpin /> : null}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default SubmitResultsButton;\r\n\r\nconst StyledButton = styled.button`\r\n  grid-area: b;\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n\r\nconst DisabledButton = styled.button`\r\n  border-color: lightgray;\r\n  color: white;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: 200px;\r\n  height: 50px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: lightgray;\r\n`;\r\n\r\nconst TransmittingSpin = styled.div`\r\n  grid-area: c;\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  margin-top: 0.7em;\r\n\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 5px solid rgba(255, 255, 255, 0.3);\r\n  border-radius: 50%;\r\n  border-top-color: #337ab7;\r\n  animation: spin 1s ease-in-out infinite;\r\n  -webkit-animation: spin 1s ease-in-out infinite;\r\n\r\n  @keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n  @-webkit-keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nconst SpacerDiv = styled.div`\r\n  height: 300px;\r\n`;\r\n","const createPresortObject = () => {\r\n  try {\r\n    const resultsPresort = JSON.parse(localStorage.getItem(\"resultsPresort\"));\r\n    const presortObject = {};\r\n    let numPos = resultsPresort?.npos;\r\n    if (isNaN(numPos)) {\r\n      numPos = 0;\r\n    }\r\n    let numNeu = resultsPresort?.nneu;\r\n    if (isNaN(numNeu)) {\r\n      numNeu = 0;\r\n    }\r\n    let numNeg = resultsPresort?.nneg;\r\n    if (isNaN(numNeg)) {\r\n      numNeg = 0;\r\n    }\r\n    presortObject[\"npos\"] = numPos;\r\n    presortObject[\"posStateNums\"] = resultsPresort?.posStateNums || [];\r\n    presortObject[\"nneu\"] = numNeu;\r\n    presortObject[\"neuStateNums\"] = resultsPresort?.neuStateNums || [];\r\n    presortObject[\"nneg\"] = numNeg;\r\n    presortObject[\"negStateNums\"] = resultsPresort?.negStateNums || [];\r\n    return presortObject;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return;\r\n  }\r\n};\r\n\r\nexport default createPresortObject;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport SubmitButton from \"./SubmitButton\";\r\nimport calculatePostsortResults from \"./calculatePostsortResults\";\r\nimport SubmitFallback from \"./SubmitFallback\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport SaveLocalDataToLocalStorageButton from \"./SaveLocalDataToLocalStorageButton\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport LocalSubmitSuccessModal from \"./LocalSubmitSuccessModal\";\r\nimport SubmitButtonGS from \"./SubmitButtonGS\";\r\nimport SubmitButtonEmail from \"./SubmitButtonEmail\";\r\nimport convertObjectToResults from \"../sort/convertObjectToResults\";\r\nimport getCurrentDateTime from \"../../utilities/getCurrentDateTime\";\r\nimport SubmitButtonNetlify from \"./SubmitButtonNetlify\";\r\nimport createPresortObject from \"./createPresortObject\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getMapObj = (state) => state.mapObj;\r\nconst getSetCurrentPage = (state) => state.setCurrentPage;\r\nconst getDisplaySubmitFallback = (state) => state.displaySubmitFallback;\r\nconst getDisplayGoodbyeMessage = (state) => state.displayGoodbyeMessage;\r\nconst getParticipantName = (state) => state.localParticipantName;\r\nconst getLocalUsercode = (state) => state.localUsercode;\r\n\r\nlet transmissionResults = {};\r\n\r\nconst SubmitPage = () => {\r\n  // GLOBAL STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const mapObj = useSettingsStore(getMapObj);\r\n  const setCurrentPage = useStore(getSetCurrentPage);\r\n  const displaySubmitFallback = useStore(getDisplaySubmitFallback);\r\n  const displayGoodbyeMessage = useStore(getDisplayGoodbyeMessage);\r\n  const localParticipantName = useStore(getParticipantName);\r\n  const localUsercode = useStore(getLocalUsercode);\r\n  const urlUsercode = localStorage.getItem(\"urlUsercode\") || \"\";\r\n\r\n  // PERSISTENT STATE\r\n  let resultsSurveyFromStorage = JSON.parse(\r\n    localStorage.getItem(\"resultsSurvey\")\r\n  );\r\n  if (resultsSurveyFromStorage === undefined) {\r\n    resultsSurveyFromStorage = {};\r\n  }\r\n\r\n  useEffect(() => {\r\n    setCurrentPage(\"submit\");\r\n    localStorage.setItem(\"currentPage\", \"submit\");\r\n  }, [setCurrentPage]);\r\n\r\n  // Language - grab translations\r\n  const transferTextAbove =\r\n    ReactHtmlParser(decodeHTML(langObj.transferTextAbove)) || \"\";\r\n  const transferTextBelow =\r\n    ReactHtmlParser(decodeHTML(langObj.transferTextBelow)) || \"\";\r\n  const goodbyeMessage =\r\n    ReactHtmlParser(decodeHTML(langObj.goodbyeMessage)) || \"\";\r\n  const linkedProjectFallbackMessage =\r\n    ReactHtmlParser(decodeHTML(langObj.linkedProjectFallbackMessage)) || \"\";\r\n  const linkedProjectBtnMessage =\r\n    decodeHTML(langObj.linkedProjectBtnMessage) || \"\";\r\n  const pageHeader = ReactHtmlParser(decodeHTML(langObj.transferHead)) || \"\";\r\n\r\n  // PERSISTENT STATE - read in results if they exist in local storage\r\n  const resultsPresort =\r\n    JSON.parse(localStorage.getItem(\"resultsPresort\")) || {};\r\n  const resultsSortObj = JSON.parse(localStorage.getItem(\"sortColumns\")) || {};\r\n\r\n  // config options\r\n  const headerBarColor = configObj.headerBarColor;\r\n  const dateString = getCurrentDateTime();\r\n\r\n  // useEffect(() => {\r\n  // format results for transmission\r\n  try {\r\n    // finish setup and format results object\r\n    transmissionResults[\"projectName\"] = configObj.studyTitle;\r\n    transmissionResults[\"partId\"] =\r\n      localStorage.getItem(\"partId\") || \"no part ID\";\r\n    transmissionResults[\"randomId\"] = uuid().substring(0, 12);\r\n    transmissionResults[\"urlUsercode\"] =\r\n      localStorage.getItem(\"urlUsercode\") || \"no usercode set\";\r\n  } catch (error) {\r\n    console.log(error);\r\n    alert(\"1: \" + error.message);\r\n  }\r\n\r\n  try {\r\n    transmissionResults[\"dateTime\"] = dateString;\r\n    transmissionResults[\"timeLanding\"] =\r\n      localStorage.getItem(\"timeOnlandingPage\") || \"00:00:00\";\r\n    transmissionResults[\"timePresort\"] =\r\n      localStorage.getItem(\"timeOnpresortPage\") || \"00:00:00\";\r\n    transmissionResults[\"timeSort\"] =\r\n      localStorage.getItem(\"timeOnsortPage\") || \"00:00:00\";\r\n  } catch (error) {\r\n    console.log(error);\r\n    alert(\"2: \" + error.message);\r\n  }\r\n\r\n  try {\r\n    if (configObj.setupTarget === \"local\") {\r\n      transmissionResults[\"partId\"] = localParticipantName || \"no part ID\";\r\n      transmissionResults[\"usercode\"] = localUsercode || \"no usercode set\";\r\n    }\r\n\r\n    if (configObj.showPostsort === true) {\r\n      transmissionResults[\"timePostsort\"] =\r\n        localStorage.getItem(\"timeOnpostsortPage\") || \"00:00:00\";\r\n    }\r\n\r\n    if (configObj.showSurvey === true) {\r\n      transmissionResults[\"timeSurvey\"] =\r\n        localStorage.getItem(\"timeOnsurveyPage\") || \"00:00:00\";\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    alert(\"3: \" + error.message);\r\n  }\r\n\r\n  try {\r\n    const presortObject = createPresortObject();\r\n    transmissionResults = {\r\n      ...transmissionResults,\r\n      ...presortObject,\r\n    };\r\n  } catch (error) {\r\n    console.log(error);\r\n    alert(\"4: \" + error.message);\r\n  }\r\n\r\n  try {\r\n    // if project included POSTSORT, read in complete sorted results\r\n    if (configObj.showPostsort) {\r\n      const resultsPostsort =\r\n        JSON.parse(localStorage.getItem(\"resultsPostsort\")) || {};\r\n      const newPostsortObject = calculatePostsortResults(\r\n        resultsPostsort,\r\n        mapObj,\r\n        configObj\r\n      );\r\n      const keys = Object.keys(newPostsortObject);\r\n      for (let i = 0; i < keys.length; i++) {\r\n        // skip unnecessary entries\r\n        let skipText = keys[i].substring(0, 9);\r\n        if (skipText === \"textArea-\") {\r\n          continue;\r\n        }\r\n        transmissionResults[keys[i]] = newPostsortObject[keys[i]];\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    alert(\"5: \" + error.message);\r\n  }\r\n\r\n  // ** IF SURVEY, read in results\r\n  try {\r\n    if (configObj.showSurvey && resultsSurveyFromStorage !== undefined) {\r\n      transmissionResults = {\r\n        ...transmissionResults,\r\n        ...resultsSurveyFromStorage,\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    alert(\"6: \" + error.message);\r\n  }\r\n\r\n  let resultsSort;\r\n  try {\r\n    // *** SORT RESULTS to obtain consistent results object\r\n    if (\r\n      Object.keys(resultsSortObj).length !== 0 &&\r\n      resultsSortObj !== undefined &&\r\n      Object.keys(resultsPresort).length !== 0 &&\r\n      resultsPresort !== undefined\r\n    ) {\r\n      resultsSort = convertObjectToResults(\r\n        // all results\r\n        { ...resultsSortObj },\r\n        // presort results\r\n        { ...resultsPresort },\r\n\r\n        configObj.traceSorts\r\n      );\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    alert(\"7: \" + error.message);\r\n  }\r\n\r\n  try {\r\n    transmissionResults = {\r\n      ...transmissionResults,\r\n      ...resultsSort,\r\n    };\r\n  } catch (error) {\r\n    console.log(error);\r\n    alert(\"8: \" + error.message);\r\n  }\r\n\r\n  try {\r\n    // remove null values to prevent errors\r\n    for (const property in transmissionResults) {\r\n      if (\r\n        transmissionResults[property] === null ||\r\n        transmissionResults[property] === undefined\r\n      ) {\r\n        transmissionResults[property] = \"no data\";\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    alert(\"9: \" + error.message);\r\n  }\r\n  // }); // *** end useEffect\r\n\r\n  // early return if data submit success event\r\n  if (displayGoodbyeMessage === true) {\r\n    if (configObj.linkToSecondProject === true) {\r\n      return (\r\n        <GoodbyeDiv>\r\n          {linkedProjectFallbackMessage}\r\n          <a\r\n            id=\"secondProjectLink\"\r\n            href={`${configObj.secondProjectUrl}/#/?usercode=${urlUsercode}`}\r\n            style={{ targetNew: \"tab\", textDecoration: \"none\" }}\r\n          >\r\n            <StyledButton>{linkedProjectBtnMessage}</StyledButton>\r\n          </a>\r\n        </GoodbyeDiv>\r\n      );\r\n    } else {\r\n      // *** goodbye message for a normal firebase project ***\r\n      return (\r\n        <React.Fragment>\r\n          <GoodbyeDiv>{goodbyeMessage}</GoodbyeDiv>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n\r\n  if (configObj.setupTarget === \"local\") {\r\n    return (\r\n      <React.Fragment>\r\n        <SortTitleBar background={headerBarColor}>{pageHeader}</SortTitleBar>\r\n        <LocalSubmitSuccessModal />\r\n        <ContainerDiv>\r\n          <SaveLocalDataToLocalStorageButton results={transmissionResults} />\r\n        </ContainerDiv>\r\n      </React.Fragment>\r\n    );\r\n  } else if (configObj.setupTarget === \"sheets\") {\r\n    return (\r\n      <React.Fragment>\r\n        <SortTitleBar background={headerBarColor}>{pageHeader}</SortTitleBar>\r\n        <ContainerDiv>\r\n          <ContentDiv>{transferTextAbove}</ContentDiv>\r\n          <SubmitButtonGS\r\n            results={transmissionResults}\r\n            api={configObj.steinApiUrl}\r\n          />\r\n\r\n          {displaySubmitFallback ? (\r\n            <SubmitFallback results={transmissionResults} />\r\n          ) : (\r\n            <ContentDiv>{transferTextBelow}</ContentDiv>\r\n          )}\r\n        </ContainerDiv>\r\n      </React.Fragment>\r\n    );\r\n  } else if (configObj.setupTarget === \"email\") {\r\n    return (\r\n      <React.Fragment>\r\n        <SortTitleBar background={headerBarColor}>{pageHeader}</SortTitleBar>\r\n        <ContainerDiv>\r\n          <ContentDiv>{transferTextAbove}</ContentDiv>\r\n          <SubmitButtonEmail results={transmissionResults} />\r\n        </ContainerDiv>\r\n      </React.Fragment>\r\n    );\r\n  } else if (configObj.setupTarget === \"netlify\") {\r\n    return (\r\n      <React.Fragment>\r\n        <SortTitleBar background={headerBarColor}>{pageHeader}</SortTitleBar>\r\n        <ContainerDiv>\r\n          <ContentDiv>{transferTextAbove}</ContentDiv>\r\n          <SubmitButtonNetlify results={transmissionResults} />\r\n          <ContentDiv>{transferTextBelow}</ContentDiv>\r\n        </ContainerDiv>\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    // *** default to FIREBASE ***\r\n    return (\r\n      <React.Fragment>\r\n        <SortTitleBar background={headerBarColor}>{pageHeader}</SortTitleBar>\r\n        <ContainerDiv>\r\n          <ContentDiv>{transferTextAbove}</ContentDiv>\r\n          <SubmitButton results={transmissionResults} />\r\n\r\n          {displaySubmitFallback ? (\r\n            <SubmitFallback results={transmissionResults} />\r\n          ) : (\r\n            <ContentDiv>{transferTextBelow}</ContentDiv>\r\n          )}\r\n        </ContainerDiv>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SubmitPage;\r\n\r\nconst SortTitleBar = styled.div`\r\n  width: calc(100vw-4px);\r\n  padding-left: 1.5vw;\r\n  padding-right: 1.5vw;\r\n  padding-top: 5px;\r\n  min-height: 50px;\r\n  background-color: ${(props) => props.background};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n`;\r\n\r\nconst ContainerDiv = styled.div`\r\n  display: flex;\r\n  min-height: 600px;\r\n  width: calc(100vw-4px);\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ContentDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 1.2em;\r\n  width: 85vw;\r\n  font-size: 1.35em;\r\n  padding: 25px;\r\n  align-self: center;\r\n`;\r\n\r\nconst GoodbyeDiv = styled.div`\r\n  display: flex;\r\n  width: calc(100vw -20px);\r\n  height: calc(100vh - 50px);\r\n  font-size: 22px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.5em;\r\n  font-weight: bold;\r\n  padding: 0.25em 1em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  height: 75px;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n  margin-bottom: 20px;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\n/*\r\n--- Example results object ---\r\n\r\n{\r\n  \"projectName\": \"my Q study\",\r\n  \"partId\": \"anonymous\",\r\n  \"randomId\": \"367eee86-f28\",\r\n  \"usercode\": \"no usercode set\",\r\n  \"dateTime\": \"no data\",\r\n  \"timeLanding\": \"no data\",\r\n  \"timePresort\": \"no data\",\r\n  \"timeSort\": \"no data\",\r\n  \"timePostsort\": \"no data\",\r\n  \"timeSurvey\": \"no data\",\r\n  \"npos\": 0,\r\n  \"nneu\": 0,\r\n  \"nneg\": 0,\r\n  \"column4_1\": \"no response\",\r\n  \"column4_2\": \"no response\",\r\n  \"columnN4_1\": \"no response\",\r\n  \"columnN4_2\": \"no response\",\r\n  \"sort\": \"no data\"\r\n}\r\nSubmitButton.jsx:60 \r\n*/\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport sanitizeString from \"../../utilities/sanitizeString\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\n\r\nconst SurveyTextElement = (props) => {\r\n  // HELPER FUNCTION\r\n  const asyncLocalStorage = {\r\n    async setItem(name, value) {\r\n      await null;\r\n      return localStorage.setItem(name, value);\r\n    },\r\n  };\r\n\r\n  // PROPS\r\n  let questionId = `itemNum${props.opts.itemNum}`;\r\n  const checkRequiredQuestionsComplete = props.check;\r\n  const labelText = ReactHtmlParser(decodeHTML(props.opts.label)) || \"\";\r\n  const placeholder = ReactHtmlParser(decodeHTML(props.opts.placeholder)) || \"\";\r\n  const noteText = ReactHtmlParser(decodeHTML(props.opts.note)) || \"\";\r\n  let displayNoteText = true;\r\n  if (noteText.length < 1 || noteText === \"\") {\r\n    displayNoteText = false;\r\n  }\r\n\r\n  // PERSISTENT STATE\r\n  const [userText, setUserText] = useLocalStorage(questionId, \"\");\r\n\r\n  // LOCAL STATE\r\n  const [formatOptions, setFormatOptions] = useState({\r\n    bgColor: \"whitesmoke\",\r\n    border: \"none\",\r\n  });\r\n\r\n  // event handler\r\n  const handleOnChange = (e) => {\r\n    const resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n    let value = e.target.value;\r\n    let valueLen = value.length;\r\n    // restrict to numbers (from config.xml)\r\n    if (props.opts.restricted === \"true\" || props.opts.restricted === true) {\r\n      value = value.replace(/\\D/g, \"\");\r\n    }\r\n    // limit length (from config.xml)\r\n    if (props.opts.limited === \"true\" || props.opts.limited === true) {\r\n      if (value.length > +props.opts.limitLength) {\r\n        value = value.substring(0, +props.opts.limitLength);\r\n      }\r\n    }\r\n    setUserText(value);\r\n    // record if answered or not\r\n    if (valueLen > 0) {\r\n      let sanitizedText = sanitizeString(value);\r\n      resultsSurvey[`itemNum${props.opts.itemNum}`] = sanitizedText;\r\n    } else {\r\n      // for when participant deletes their answer after entering it\r\n      if (props.opts.required === true || props.opts.required === \"true\") {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no-*?*-response\";\r\n      } else {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no response\";\r\n      }\r\n    }\r\n    asyncLocalStorage.setItem(\"resultsSurvey\", JSON.stringify(resultsSurvey));\r\n  }; // End event handler\r\n\r\n  useEffect(() => {\r\n    let userTextLen = false;\r\n    if (userText.length > 0 && userText !== \"\") {\r\n      userTextLen = true;\r\n    }\r\n    if (\r\n      checkRequiredQuestionsComplete === true &&\r\n      userTextLen < 1 &&\r\n      props.opts.required === true\r\n    ) {\r\n      setFormatOptions({\r\n        bgColor: \"rgba(253, 224, 71, .5)\",\r\n        border: \"3px dashed black\",\r\n      });\r\n    } else {\r\n      setFormatOptions({\r\n        bgColor: \"whitesmoke\",\r\n        border: \"none\",\r\n      });\r\n    }\r\n  }, [checkRequiredQuestionsComplete, userText, props]);\r\n\r\n  if (displayNoteText) {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <NoteText id=\"noteText\">\r\n          <div>{noteText}</div>\r\n        </NoteText>\r\n        <TextInput\r\n          type=\"text\"\r\n          value={userText}\r\n          placeholder={placeholder}\r\n          onChange={handleOnChange}\r\n        />\r\n      </Container>\r\n    );\r\n  } else {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <TextInput\r\n          type=\"text\"\r\n          value={userText}\r\n          placeholder={placeholder}\r\n          onChange={handleOnChange}\r\n        />\r\n      </Container>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SurveyTextElement;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  padding: 20px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  max-width: 1300px;\r\n  background-color: ${(props) => props.bgColor};\r\n  outline: ${(props) => props.border};\r\n  outline-offset: -3px;\r\n`;\r\n\r\nconst TitleBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 5px;\r\n  min-height: 50px;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n  background-color: lightgray;\r\n`;\r\n\r\nconst NoteText = styled.div`\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  vertical-align: center;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  background-color: whitesmoke;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst TextInput = styled.input`\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  vertical-align: center;\r\n  height: 50px;\r\n  font-size: 18px;\r\n  background-color: white;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n  border: 2px solid lightgray;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport sanitizeString from \"../../utilities/sanitizeString.js\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage.js\";\r\n\r\nconst SurveyTextAreaElement = (props) => {\r\n  // HELPER FUNCTION\r\n  const asyncLocalStorage = {\r\n    async setItem(key, value) {\r\n      await null;\r\n      return localStorage.setItem(key, value);\r\n    },\r\n  };\r\n\r\n  // FROM PROPS\r\n  const id = `itemNum${props.opts.itemNum}`;\r\n  const checkRequiredQuestionsComplete = props.check;\r\n  const labelText = ReactHtmlParser(decodeHTML(props.opts.label)) || \"\";\r\n  const noteText = ReactHtmlParser(decodeHTML(props.opts.note)) || \"\";\r\n  const placeholder = ReactHtmlParser(decodeHTML(props.opts.placeholder)) || \"\";\r\n  let displayNoteText = true;\r\n  if (noteText.length < 1 || noteText === \"\") {\r\n    displayNoteText = false;\r\n  }\r\n\r\n  // PERSISTENT STATE\r\n  const [userText, setUserText] = useLocalStorage(id, \"\");\r\n\r\n  // LOCAL STATE\r\n  const [formatOptions, setFormatOptions] = useState({\r\n    bgColor: \"whitesmoke\",\r\n    border: \"none\",\r\n  });\r\n\r\n  // ON CHANGE\r\n  const handleOnChange = (e) => {\r\n    const resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n    let value = e.target.value;\r\n    setUserText(value);\r\n    // record if answered or not\r\n    if (value.length > 0) {\r\n      let sanitizedText = sanitizeString(value);\r\n      resultsSurvey[`itemNum${props.opts.itemNum}`] = sanitizedText;\r\n    } else {\r\n      if (props.opts.required === true || props.opts.required === \"true\") {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no-*?*-response\";\r\n      } else {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no response\";\r\n      }\r\n    }\r\n    asyncLocalStorage.setItem(\"resultsSurvey\", JSON.stringify(resultsSurvey));\r\n  };\r\n\r\n  // required question answer check\r\n  let userTextLen = false;\r\n  if (userText.length > 0 && userText !== \"\") {\r\n    userTextLen = true;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (\r\n      (props.opts.required === true || props.opts.required === \"true\") &&\r\n      checkRequiredQuestionsComplete === true &&\r\n      userTextLen < 1\r\n    ) {\r\n      setFormatOptions({\r\n        bgColor: \"rgba(253, 224, 71, .5)\",\r\n        border: \"3px dashed black\",\r\n      });\r\n    } else {\r\n      setFormatOptions({\r\n        bgColor: \"whitesmoke\",\r\n        border: \"none\",\r\n      });\r\n    }\r\n  }, [\r\n    checkRequiredQuestionsComplete,\r\n    userText,\r\n    userTextLen,\r\n    props.opts.required,\r\n  ]);\r\n\r\n  if (displayNoteText) {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <NoteText>{noteText}</NoteText>\r\n        <TextAreaInput\r\n          value={userText}\r\n          placeholder={placeholder}\r\n          onChange={handleOnChange}\r\n        />\r\n      </Container>\r\n    );\r\n  } else {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <TextAreaInput\r\n          value={userText}\r\n          placeholder={placeholder}\r\n          onChange={handleOnChange}\r\n        />\r\n      </Container>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SurveyTextAreaElement;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  padding: 20px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  max-width: 1300px;\r\n  min-height: 200px;\r\n  background-color: whitesmoke;\r\n  background-color: ${(props) => props.bgColor};\r\n  outline: ${(props) => props.border};\r\n  outline-offset: -3px;\r\n`;\r\n\r\nconst TitleBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 50px;\r\n  padding: 5px;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  background-color: lightgray;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst NoteText = styled.div`\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  vertical-align: center;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  background-color: whitesmoke;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst TextAreaInput = styled.textarea`\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  vertical-align: center;\r\n  margin-top: 0px;\r\n  height: 150px;\r\n  font-size: 18px;\r\n  background-color: white;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n  border: 2px solid lightgray;\r\n  padding: 5px;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\n\r\nconst SurveyRadioElement = (props) => {\r\n  // HELPER FUNCTION\r\n  const getOptionsArray = (options) => {\r\n    let array = options.split(\";;;\");\r\n    array = array.filter(function (e) {\r\n      return e;\r\n    });\r\n    array = array.map((x) => x.trim());\r\n    return array;\r\n  };\r\n\r\n  // PROPS\r\n  let questionId = props.opts.id;\r\n  const checkRequiredQuestionsComplete = props.check;\r\n  const labelText = ReactHtmlParser(decodeHTML(props.opts.label)) || \"\";\r\n  const noteText = ReactHtmlParser(decodeHTML(props.opts.note)) || \"\";\r\n  const optsArray = getOptionsArray(props.opts.options);\r\n  let displayNoteText = true;\r\n  if (noteText.length < 1 || noteText === \"\") {\r\n    displayNoteText = false;\r\n  }\r\n\r\n  // PERSISTENT STATE\r\n  let [selected, setSelected] = useLocalStorage(questionId, \"\");\r\n\r\n  // LOCAL STATE\r\n  const [formatOptions, setFormatOptions] = useState({\r\n    bgColor: \"whitesmoke\",\r\n    border: \"none\",\r\n  });\r\n\r\n  // template\r\n  const RadioInput = ({ label, value, checked, setter }) => {\r\n    return (\r\n      <label>\r\n        <InputStyleDiv>\r\n          <input\r\n            type=\"radio\"\r\n            checked={checked === value}\r\n            onChange={() => setter(value)}\r\n            value={value}\r\n          />\r\n          <LabelDiv>\r\n            <div>{label}</div>\r\n          </LabelDiv>\r\n        </InputStyleDiv>\r\n      </label>\r\n    );\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n    resultsSurvey[`itemNum${props.opts.itemNum}`] = +e.target.value + 1;\r\n    localStorage.setItem(\"resultsSurvey\", JSON.stringify(resultsSurvey));\r\n  }; // end handle change\r\n\r\n  let setYellow = false;\r\n  if (selected.length === 0) {\r\n    setYellow = true;\r\n  }\r\n\r\n  useEffect(() => {\r\n    // if is a required question, check if all parts answered\r\n    if (\r\n      (props.opts.required === true || props.opts.required === \"true\") &&\r\n      checkRequiredQuestionsComplete === true &&\r\n      setYellow\r\n    ) {\r\n      setFormatOptions({\r\n        bgColor: \"rgba(253, 224, 71, .5)\",\r\n        border: \"3px dashed black\",\r\n      });\r\n    } else {\r\n      setFormatOptions({\r\n        bgColor: \"whitesmoke\",\r\n        border: \"none\",\r\n      });\r\n    }\r\n  }, [checkRequiredQuestionsComplete, setYellow, props.opts.required]);\r\n\r\n  const RadioItems = () => {\r\n    const radioList = optsArray.map((item, index) => (\r\n      <div key={uuid()}>\r\n        <RadioInput\r\n          value={index}\r\n          checked={selected}\r\n          label={item}\r\n          setter={setSelected}\r\n        />\r\n      </div>\r\n    ));\r\n    return <div>{radioList}</div>;\r\n  };\r\n\r\n  if (displayNoteText) {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <NoteText>\r\n          <div>{noteText}</div>\r\n        </NoteText>\r\n        <RadioContainer onChange={(e) => handleChange(e)}>\r\n          <RadioItems />\r\n        </RadioContainer>\r\n      </Container>\r\n    );\r\n  } else {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <RadioContainer onChange={(e) => handleChange(e)}>\r\n          <RadioItems />\r\n        </RadioContainer>\r\n      </Container>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SurveyRadioElement;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  padding: 20px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  max-width: 1300px;\r\n  min-height: 200px;\r\n  background-color: ${(props) => props.bgColor};\r\n  outline: ${(props) => props.border};\r\n  outline-offset: -3px;\r\n`;\r\n\r\nconst TitleBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 50px;\r\n  padding: 5px;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  background-color: lightgray;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst RadioContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: left;\r\n  align-items: left;\r\n  padding: 0px 20px 20px 20px;\r\n  vertical-align: center;\r\n  margin-top: 0px;\r\n  min-height: 100px;\r\n  font-size: 16px;\r\n  background-color: white;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n  border: 2px solid lightgray;\r\n\r\n  input {\r\n    margin-top: 8px;\r\n  }\r\n\r\n  label {\r\n    margin-left: 8px;\r\n  }\r\n`;\r\n\r\nconst LabelDiv = styled.div`\r\n  padding-left: 5px;\r\n`;\r\n\r\nconst InputStyleDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: baseline;\r\n`;\r\n\r\nconst NoteText = styled.div`\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  vertical-align: center;\r\n  margin-top: 5px;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  background-color: whitesmoke;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport MultiSelect from \"react-multi-select-component\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\nimport flatten from \"lodash/flatten\";\r\n\r\nconst SurveyDropdownElement = (props) => {\r\n  // HELPER FUNCTION\r\n  const getOptionsArray = (options) => {\r\n    let array = options.split(\";;;\");\r\n    array = array.filter(function (e) {\r\n      return e;\r\n    });\r\n    const objArray = array.map((x) => {\r\n      x.replace(/\\s/g, \"\");\r\n      const tempObj = {};\r\n      tempObj.label = ReactHtmlParser(decodeHTML(x));\r\n      tempObj.value = x;\r\n      return tempObj;\r\n    });\r\n    return objArray;\r\n  };\r\n\r\n  // PROPS\r\n  const checkRequiredQuestionsComplete = props.check;\r\n  let questionId = props.opts.id;\r\n  const labelText = ReactHtmlParser(decodeHTML(props.opts.label)) || \"\";\r\n  let originalOptions = props.opts.options.split(\";;;\") || [];\r\n  originalOptions = originalOptions.map((x) =>\r\n    ReactHtmlParser(decodeHTML(x.trim()))\r\n  );\r\n  const noteText = ReactHtmlParser(decodeHTML(props.opts.note)) || \"\";\r\n  let displayNoteText = true;\r\n  if (noteText.length < 1 || noteText === \"\") {\r\n    displayNoteText = false;\r\n  }\r\n\r\n  // PERSISTENT STATE\r\n  let [selected, setSelected] = useLocalStorage(questionId, []);\r\n\r\n  // LOCAL STATE\r\n  const [formatOptions, setFormatOptions] = useState({\r\n    bgColor: \"whitesmoke\",\r\n    border: \"none\",\r\n  });\r\n\r\n  // HANDLE ON CHANGE\r\n  const handleOnChange = (e) => {\r\n    const resultsSurvey =\r\n      JSON.parse(localStorage.getItem(\"resultsSurvey\")) || {};\r\n    setSelected(e);\r\n\r\n    let newArray = flatten(originalOptions);\r\n\r\n    if (e.length !== 0) {\r\n      let selected2 = \"\";\r\n      for (let i = 0; i < e.length; i++) {\r\n        let label = e[i].value;\r\n        let id = newArray.indexOf(label);\r\n        if (i === 0) {\r\n          selected2 += id + 1;\r\n        } else {\r\n          selected2 += \",\" + (id + 1);\r\n        }\r\n      }\r\n      resultsSurvey[`itemNum${props.opts.itemNum}`] = selected2;\r\n    } else {\r\n      if (props.opts.required === true || props.opts.required === \"true\") {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no-*?*-response\";\r\n      } else {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no response\";\r\n      }\r\n    }\r\n    localStorage.setItem(\"resultsSurvey\", JSON.stringify(resultsSurvey));\r\n  };\r\n\r\n  let selectedLen = false;\r\n  if (selected.length > 0) {\r\n    selectedLen = true;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (\r\n      (props.opts.required === true || props.opts.required === \"true\") &&\r\n      checkRequiredQuestionsComplete === true &&\r\n      selectedLen === false\r\n    ) {\r\n      setFormatOptions({\r\n        bgColor: \"rgba(253, 224, 71, .5)\",\r\n        border: \"3px dashed black\",\r\n      });\r\n    } else {\r\n      setFormatOptions({\r\n        bgColor: \"whitesmoke\",\r\n        border: \"none\",\r\n      });\r\n    }\r\n  }, [checkRequiredQuestionsComplete, selectedLen, props.opts.required]);\r\n\r\n  if (displayNoteText) {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <NoteText id=\"noteText\">\r\n          <div>{noteText}</div>\r\n        </NoteText>\r\n        <MultiSelect\r\n          className={\"multiselect\"}\r\n          options={getOptionsArray(props.opts.options)}\r\n          labelledBy=\"Select\"\r\n          onChange={handleOnChange}\r\n          value={selected}\r\n        />\r\n      </Container>\r\n    );\r\n  } else {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <MultiSelect\r\n          className={\"multiselect\"}\r\n          options={getOptionsArray(props.opts.options)}\r\n          labelledBy=\"Select\"\r\n          onChange={handleOnChange}\r\n          value={selected}\r\n        />\r\n      </Container>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SurveyDropdownElement;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  padding: 20px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  max-width: 1300px;\r\n  min-height: 125px;\r\n  background-color: ${(props) => props.bgColor};\r\n  outline: ${(props) => props.border};\r\n  outline-offset: -3px;\r\n\r\n  .multiselect {\r\n    font-size: 16px;\r\n    line-height: 1.1em;\r\n  }\r\n`;\r\n\r\nconst TitleBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 50px;\r\n  padding: 5px;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  background-color: lightgray;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst NoteText = styled.div`\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  vertical-align: center;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  background-color: whitesmoke;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\nimport flatten from \"lodash/flatten\";\r\nimport countBy from \"lodash/countBy\";\r\n\r\nconst SurveyCheckboxElement = (props) => {\r\n  // HELPER FUNCTIONS\r\n  let localStore = {};\r\n  const getOptionsArray = (options) => {\r\n    let array = options.split(\";;;\");\r\n    array = array.filter(function (e) {\r\n      return e;\r\n    });\r\n    array.map((x) => (localStore[x] = false));\r\n    return array;\r\n  };\r\n\r\n  // PROPS\r\n  const checkRequiredQuestionsComplete = props.check;\r\n  const optsArray = getOptionsArray(props.opts.options);\r\n  const nameValue = `question${props.opts.itemNum}`;\r\n  let questionId = props.opts.id;\r\n  const labelText = ReactHtmlParser(decodeHTML(props.opts.label)) || \"\";\r\n  const noteText = ReactHtmlParser(decodeHTML(props.opts.note)) || \"\";\r\n  let displayNoteText = true;\r\n  if (noteText.length < 1 || noteText === \"\") {\r\n    displayNoteText = false;\r\n  }\r\n\r\n  // PERSISTENT STATE\r\n  let [checkedState, setCheckedState] = useLocalStorage(\r\n    questionId,\r\n    new Array(optsArray.length).fill(false)\r\n  );\r\n\r\n  // LOCAL STATE\r\n  const [formatOptions, setFormatOptions] = useState({\r\n    bgColor: \"whitesmoke\",\r\n    border: \"none\",\r\n  });\r\n\r\n  // HANDLE CHANGE\r\n  const handleChange = (position) => {\r\n    const resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n    position = parseInt(position, 10);\r\n    const updatedCheckedState = checkedState.map((item, index) =>\r\n      index === position ? !item : item\r\n    );\r\n    setCheckedState(updatedCheckedState);\r\n    // prep the selected answers for storage\r\n    let selected = updatedCheckedState.reduce(\r\n      (text = \"\", currentState, index) => {\r\n        if (currentState === true) {\r\n          return text + (index + 1).toString() + \",\";\r\n        }\r\n        return text;\r\n      },\r\n      \"\"\r\n    );\r\n    if (selected.charAt(selected.length - 1) === \",\") {\r\n      selected = selected.substr(0, selected.length - 1);\r\n    }\r\n    // store the selected answers in the results object\r\n    resultsSurvey[`itemNum${props.opts.itemNum}`] = selected;\r\n\r\n    if (selected === \"\") {\r\n      if (props.opts.required === true || props.opts.required === \"true\") {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no-*?*-response\";\r\n      } else {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no response\";\r\n      }\r\n    }\r\n    localStorage.setItem(\"resultsSurvey\", JSON.stringify(resultsSurvey));\r\n  }; // end handleChange\r\n\r\n  // ****** CHECK IF ALL PARTS ANSWERED on render *******\r\n  let setYellow = false;\r\n  let flattenedCheckedState = flatten([...checkedState]);\r\n  let count = countBy(flattenedCheckedState);\r\n  let objTestValue = count[true] || 0;\r\n  if (objTestValue === 0) {\r\n    setYellow = true;\r\n  }\r\n\r\n  // determine if highlight needed\r\n  useEffect(() => {\r\n    if (\r\n      (props.opts.required === true || props.opts.required === \"true\") &&\r\n      checkRequiredQuestionsComplete === true &&\r\n      setYellow\r\n    ) {\r\n      setFormatOptions({\r\n        bgColor: \"rgba(253, 224, 71, .5)\",\r\n        border: \"3px dashed black\",\r\n      });\r\n    } else {\r\n      setFormatOptions({\r\n        bgColor: \"whitesmoke\",\r\n        border: \"none\",\r\n      });\r\n    }\r\n  }, [checkRequiredQuestionsComplete, setYellow, props.opts.required]);\r\n\r\n  if (displayNoteText) {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <NoteText id=\"noteText\">\r\n          <div>{noteText}</div>\r\n        </NoteText>\r\n        <RadioContainer>\r\n          {optsArray.map((item, index) => {\r\n            return (\r\n              <div key={uuid()}>\r\n                <input\r\n                  id={`${item}-${index}`}\r\n                  type=\"checkbox\"\r\n                  value={item}\r\n                  name={nameValue}\r\n                  checked={checkedState[index]}\r\n                  onChange={() => handleChange(index)}\r\n                />\r\n                <label htmlFor={`${item}-${index}`}>{item}</label>\r\n              </div>\r\n            );\r\n          })}\r\n        </RadioContainer>\r\n      </Container>\r\n    );\r\n  } else {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <RadioContainer>\r\n          {optsArray.map((item, index) => {\r\n            return (\r\n              <div key={uuid()}>\r\n                <input\r\n                  id={`${item}-${index}`}\r\n                  type=\"checkbox\"\r\n                  value={item}\r\n                  name={nameValue}\r\n                  checked={checkedState[index]}\r\n                  onChange={() => handleChange(index)}\r\n                />\r\n                <label htmlFor={`${item}-${index}`}>{item}</label>\r\n              </div>\r\n            );\r\n          })}\r\n        </RadioContainer>\r\n      </Container>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SurveyCheckboxElement;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  padding: 20px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  max-width: 1300px;\r\n  min-height: 150px;\r\n  background-color: ${(props) => props.bgColor};\r\n  outline: ${(props) => props.border};\r\n  outline-offset: -3px;\r\n`;\r\n\r\nconst TitleBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 50px;\r\n  padding: 5px;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  background-color: lightgray;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst RadioContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: left;\r\n  align-items: left;\r\n  padding: 20px;\r\n  vertical-align: center;\r\n  margin-top: 0px;\r\n  min-height: 120px;\r\n  font-size: 16px;\r\n  background-color: white;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n  border: 2px solid lightgray;\r\n\r\n  input {\r\n    margin-top: 8px;\r\n  }\r\n\r\n  label {\r\n    margin-left: 8px;\r\n  }\r\n`;\r\n\r\nconst NoteText = styled.div`\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  vertical-align: center;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  background-color: whitesmoke;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\nimport flatten from \"lodash/flatten\";\r\nimport countBy from \"lodash/countBy\";\r\n\r\nconst SurveyRatings2Element = (props) => {\r\n  // HELPER FUNCTIONS\r\n  const getOptionsArray = (options) => {\r\n    let array = options.split(\";;;\");\r\n    array = array.filter(function (e) {\r\n      return e;\r\n    });\r\n    if (array.length === 0) {\r\n      array = [\"\", \"\"];\r\n    }\r\n    return array;\r\n  };\r\n\r\n  // PROPS\r\n  const optsArray = getOptionsArray(props.opts.options);\r\n  const checkRequiredQuestionsComplete = props.check;\r\n  // gives the number of questions\r\n  const rows = optsArray.length;\r\n  const questionId = `itemNum${props.opts.itemNum}`;\r\n  const labelText = ReactHtmlParser(decodeHTML(props.opts.label)) || \"\";\r\n  const noteText = ReactHtmlParser(decodeHTML(props.opts.note)) || \"\";\r\n  let displayNoteText = true;\r\n  if (noteText.length < 1 || noteText === \"\") {\r\n    displayNoteText = false;\r\n  }\r\n\r\n  // PERSISTENT STATE\r\n  let [checkedState, setCheckedState] = useLocalStorage(\r\n    questionId,\r\n    Array.from({ length: rows }, () => Array.from({ length: 2 }, () => false))\r\n  );\r\n\r\n  // LOCAL STATE\r\n  const [formatOptions, setFormatOptions] = useState({\r\n    bgColor: \"whitesmoke\",\r\n    border: \"none\",\r\n  });\r\n\r\n  const scaleArray = getOptionsArray(props.opts.scale);\r\n\r\n  // ****** ON CHANGE  *******\r\n  const handleChange = (selectedRow, column, e) => {\r\n    const resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n    // update local state with radio selected\r\n    const newArray = [];\r\n    const newCheckedState = checkedState.map(function (row, index) {\r\n      if (selectedRow === index) {\r\n        row.map(function (item, index) {\r\n          if (column === index) {\r\n            newArray.push(true);\r\n            return null;\r\n          } else {\r\n            newArray.push(false);\r\n            return null;\r\n          }\r\n        });\r\n        return newArray;\r\n      } else {\r\n        return row;\r\n      }\r\n    });\r\n    setCheckedState(newCheckedState);\r\n    // record if answered or not\r\n    let arrayLen2 = checkedState.length;\r\n    let flattenedCheckedState2 = flatten([...newCheckedState]);\r\n    let count2 = countBy(flattenedCheckedState2);\r\n    let objTestValue2 = count2[true] || 0;\r\n\r\n    let textString = \"\";\r\n    newCheckedState.forEach((item, index) => {\r\n      // let name = `itemNum${props.opts.itemNum}-${index + 1}`;\r\n      let value = item[0] ? \"1\" : \"2\";\r\n      if (index === 0) {\r\n        textString += value;\r\n      } else {\r\n        textString += \",\" + value;\r\n      }\r\n    });\r\n    resultsSurvey[`itemNum${props.opts.itemNum}`] = textString;\r\n\r\n    if (objTestValue2 !== arrayLen2) {\r\n      if (props.opts.required === true || props.opts.required === \"true\") {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no-*?*-response\";\r\n      } else {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no response\";\r\n      }\r\n    }\r\n    localStorage.setItem(\"resultsSurvey\", JSON.stringify(resultsSurvey));\r\n  }; // end handleChange\r\n\r\n  // ****** CHECK IF ALL PARTS ANSWERED on render *******\r\n  let setYellow = false;\r\n  let arrayLen = checkedState.length;\r\n  let flattenedCheckedState = flatten([...checkedState]);\r\n  let count = countBy(flattenedCheckedState);\r\n  let objTestValue = count[true] || 0;\r\n  if (objTestValue < arrayLen) {\r\n    setYellow = true;\r\n  }\r\n\r\n  useEffect(() => {\r\n    // if is a required question, check if all parts answered\r\n    if (\r\n      (props.opts.required === true || props.opts.required === \"true\") &&\r\n      checkRequiredQuestionsComplete === true &&\r\n      setYellow\r\n    ) {\r\n      setFormatOptions({\r\n        bgColor: \"rgba(253, 224, 71, .5)\",\r\n        border: \"3px dashed black\",\r\n      });\r\n    } else {\r\n      setFormatOptions({\r\n        bgColor: \"whitesmoke\",\r\n        border: \"none\",\r\n      });\r\n    }\r\n  }, [checkRequiredQuestionsComplete, setYellow, props.opts.required]);\r\n\r\n  const RadioItems = () => {\r\n    const radioList = optsArray.map((item, index) => {\r\n      const itemText = ReactHtmlParser(decodeHTML(item)) || \"\";\r\n      return (\r\n        <ItemContainer indexVal={index} key={uuid()}>\r\n          <OptionsText key={uuid()}>{itemText}</OptionsText>\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q-${index}`}\r\n            type=\"radio\"\r\n            value={1}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 0, e)}\r\n            checked={checkedState[index][0]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q2-${index}`}\r\n            type=\"radio\"\r\n            value={2}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 1, e)}\r\n            checked={checkedState[index][1]}\r\n          />\r\n        </ItemContainer>\r\n      );\r\n    });\r\n    return <div>{radioList}</div>;\r\n  };\r\n\r\n  if (displayNoteText) {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <NoteText id=\"noteText\">\r\n          <div>{noteText}</div>\r\n        </NoteText>\r\n        <RadioContainer>\r\n          <RatingTitle>\r\n            <div />\r\n            <ScaleDiv>\r\n              <div>{ReactHtmlParser(decodeHTML(scaleArray[0]))}</div>\r\n            </ScaleDiv>\r\n            <ScaleDiv>\r\n              <div>{ReactHtmlParser(decodeHTML(scaleArray[1]))}</div>\r\n            </ScaleDiv>\r\n          </RatingTitle>\r\n          <RadioItems />\r\n        </RadioContainer>\r\n      </Container>\r\n    );\r\n  } else {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <RadioContainer>\r\n          <RatingTitle>\r\n            <div />\r\n            <ScaleDiv>\r\n              <div>{ReactHtmlParser(decodeHTML(scaleArray[0]))}</div>\r\n            </ScaleDiv>\r\n            <ScaleDiv>\r\n              <div>{ReactHtmlParser(decodeHTML(scaleArray[1]))}</div>\r\n            </ScaleDiv>\r\n          </RatingTitle>\r\n          <RadioItems />\r\n        </RadioContainer>\r\n      </Container>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SurveyRatings2Element;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  padding: 20px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  max-width: 1300px;\r\n  min-height: 200px;\r\n  background-color: ${(props) => props.bgColor};\r\n  outline: ${(props) => props.border};\r\n  outline-offset: -3px;\r\n`;\r\n\r\nconst TitleBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 50px;\r\n  padding: 5px;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  background-color: lightgray;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst RadioContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: left;\r\n  align-items: left;\r\n  padding: 20px;\r\n  vertical-align: center;\r\n  margin-top: 0px;\r\n  height: auto;\r\n  min-height: 50px;\r\n  font-size: 16px;\r\n  background-color: white;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n  border: 2px solid lightgray;\r\n\r\n  input {\r\n    margin-top: 8px;\r\n  }\r\n\r\n  label {\r\n    margin-left: 8px;\r\n  }\r\n`;\r\n\r\nconst ItemContainer = styled.div`\r\n  display: inline-grid;\r\n  grid-template-columns: minmax(30%, 1000px) 100px 100px 1fr;\r\n  margin-bottom: 17px;\r\n  padding-left: 5px;\r\n  padding-bottom: 8px;\r\n  height: 40px;\r\n  align-items: end;\r\n  justify-items: left;\r\n  // align-items: left;\r\n  background-color: ${(props) => (props.indexVal % 2 ? \"white\" : \"#ececec\")};\r\n  &:hover {\r\n    background-color: rgba(131, 202, 254, 0.4);\r\n  }\r\n`;\r\n\r\nconst RatingTitle = styled.div`\r\n  display: inline-grid;\r\n  grid-template-columns: minmax(30%, 1000px) 100px 100px 1fr;\r\n  margin-bottom: 7px;\r\n`;\r\n\r\nconst ScaleDiv = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst RadioInput = styled.input`\r\n  display: flex;\r\n  justify-self: center;\r\n  align-self: center;\r\n  border: 0px;\r\n  width: 28px;\r\n  height: 1.4em;\r\n  justify-items: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst OptionsText = styled.span`\r\n  margin-bottom: 2px;\r\n  padding-left: 5px;\r\n`;\r\n\r\nconst NoteText = styled.div`\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  vertical-align: center;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  background-color: whitesmoke;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\nimport flatten from \"lodash/flatten\";\r\nimport countBy from \"lodash/countBy\";\r\n\r\nconst SurveyRatings5Element = (props) => {\r\n  // HELPER FUNCTIONS\r\n  const getOptionsArray = (options) => {\r\n    let array = options.split(\";;;\");\r\n    array = array.filter(function (e) {\r\n      return e;\r\n    });\r\n    return array;\r\n  };\r\n\r\n  // PROPS\r\n  const optsArray = getOptionsArray(props.opts.options);\r\n  const rows = optsArray.length;\r\n  const questionId = `itemNum${props.opts.itemNum}`;\r\n  const checkRequiredQuestionsComplete = props.check;\r\n  const noteText = ReactHtmlParser(decodeHTML(props.opts.note)) || \"\";\r\n  let displayNoteText = true;\r\n  if (noteText.length < 1 || noteText === \"\") {\r\n    displayNoteText = false;\r\n  }\r\n  const labelText = ReactHtmlParser(decodeHTML(props.opts.label)) || \"\";\r\n\r\n  // PERSISTENT STATE\r\n  let [checked5State, setChecked5State] = useLocalStorage(\r\n    questionId,\r\n    Array.from({ length: rows }, () => Array.from({ length: 5 }, () => false))\r\n  );\r\n\r\n  // LOCAL STATE\r\n  const [formatOptions, setFormatOptions] = useState({\r\n    bgColor: \"whitesmoke\",\r\n    border: \"none\",\r\n  });\r\n\r\n  // HANDLE CHANGE\r\n  const handleChange = (selectedRow, column, e) => {\r\n    const resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n    // update local state with radio selected\r\n    const newArray = [];\r\n    const newChecked5State = checked5State.map(function (row, index) {\r\n      if (selectedRow === index) {\r\n        row.map(function (item, index) {\r\n          if (column === index) {\r\n            newArray.push(true);\r\n            return null;\r\n          } else {\r\n            newArray.push(false);\r\n            return null;\r\n          }\r\n        });\r\n        return newArray;\r\n      } else {\r\n        return row;\r\n      }\r\n    });\r\n    setChecked5State(newChecked5State);\r\n    // record if answered or not\r\n    let arrayLen2 = checked5State.length;\r\n    let flattenedCheckedState2 = flatten([...newChecked5State]);\r\n    let count2 = countBy(flattenedCheckedState2);\r\n    let objTestValue2 = count2[true] || 0;\r\n\r\n    let textString = \"\";\r\n    newChecked5State.forEach((item, index) => {\r\n      let value = newChecked5State[index].indexOf(true) + 1;\r\n      if (index === 0) {\r\n        textString += value;\r\n      } else {\r\n        textString += \",\" + value;\r\n      }\r\n    });\r\n    resultsSurvey[`itemNum${props.opts.itemNum}`] = textString;\r\n\r\n    if (objTestValue2 !== arrayLen2) {\r\n      if (props.opts.required === true || props.opts.required === \"true\") {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no-*?*-response\";\r\n      } else {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no response\";\r\n      }\r\n    }\r\n    localStorage.setItem(\"resultsSurvey\", JSON.stringify(resultsSurvey));\r\n  }; // end handleChange\r\n\r\n  // ****** CHECK IF ALL PARTS ANSWERED *******\r\n  let setYellow = false;\r\n  let arrayLen = checked5State.length;\r\n  let flattenedCheckedState = flatten([...checked5State]);\r\n  let count = countBy(flattenedCheckedState);\r\n  let objTestValue = count[true] || 0;\r\n  if (objTestValue < arrayLen) {\r\n    setYellow = true;\r\n  }\r\n\r\n  useEffect(() => {\r\n    // if is a required question, check if all parts answered\r\n    if (\r\n      (props.opts.required === true || props.opts.required === \"true\") &&\r\n      checkRequiredQuestionsComplete === true &&\r\n      setYellow\r\n    ) {\r\n      setFormatOptions({\r\n        bgColor: \"rgba(253, 224, 71, .5)\",\r\n        border: \"3px dashed black\",\r\n      });\r\n    } else {\r\n      setFormatOptions({\r\n        bgColor: \"whitesmoke\",\r\n        border: \"none\",\r\n      });\r\n    }\r\n  }, [checkRequiredQuestionsComplete, setYellow, props.opts.required]);\r\n\r\n  const RadioItems = () => {\r\n    const radioList = optsArray.map((item, index) => {\r\n      const itemText = ReactHtmlParser(decodeHTML(item));\r\n      return (\r\n        <ItemContainer indexVal={index} key={uuid()}>\r\n          <OptionsText key={uuid()}>{itemText}</OptionsText>\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q-${index}`}\r\n            type=\"radio\"\r\n            value={1}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 0, e)}\r\n            checked={checked5State[index][0]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q2-${index}`}\r\n            type=\"radio\"\r\n            value={2}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 1, e)}\r\n            checked={checked5State[index][1]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q3-${index}`}\r\n            type=\"radio\"\r\n            value={3}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 2, e)}\r\n            checked={checked5State[index][2]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q4-${index}`}\r\n            type=\"radio\"\r\n            value={4}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 3, e)}\r\n            checked={checked5State[index][3]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q5-${index}`}\r\n            type=\"radio\"\r\n            value={5}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 4, e)}\r\n            checked={checked5State[index][4]}\r\n          />\r\n        </ItemContainer>\r\n      );\r\n    });\r\n    return <div>{radioList}</div>;\r\n  };\r\n\r\n  if (displayNoteText) {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <NoteText id=\"noteText\">\r\n          <div>{noteText}</div>\r\n        </NoteText>\r\n        <RadioContainer>\r\n          <RatingTitle>\r\n            <div />\r\n            <CircleDiv>1</CircleDiv>\r\n            <CircleDiv>2</CircleDiv>\r\n            <CircleDiv>3</CircleDiv>\r\n            <CircleDiv>4</CircleDiv>\r\n            <CircleDiv>5</CircleDiv>\r\n          </RatingTitle>\r\n          <RadioItems />\r\n        </RadioContainer>\r\n      </Container>\r\n    );\r\n  } else {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <RadioContainer>\r\n          <RatingTitle>\r\n            <div />\r\n            <CircleDiv>1</CircleDiv>\r\n            <CircleDiv>2</CircleDiv>\r\n            <CircleDiv>3</CircleDiv>\r\n            <CircleDiv>4</CircleDiv>\r\n            <CircleDiv>5</CircleDiv>\r\n          </RatingTitle>\r\n          <RadioItems />\r\n        </RadioContainer>\r\n      </Container>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SurveyRatings5Element;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  padding: 20px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  max-width: 1300px;\r\n  min-height: 200px;\r\n  background-color: ${(props) => props.bgColor};\r\n  outline: ${(props) => props.border};\r\n  outline-offset: -3px;\r\n`;\r\n\r\nconst TitleBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 50px;\r\n  padding: 5px;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  background-color: lightgray;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst RadioContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: left;\r\n  align-items: left;\r\n  padding: 20px;\r\n  vertical-align: center;\r\n  margin-top: 0px;\r\n  height: auto;\r\n  min-height: 50px;\r\n  font-size: 18px;\r\n  background-color: white;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n  border: 2px solid lightgray;\r\n\r\n  input {\r\n    margin-top: 8px;\r\n  }\r\n\r\n  label {\r\n    margin-left: 8px;\r\n  }\r\n`;\r\n\r\nconst ItemContainer = styled.div`\r\n  display: inline-grid;\r\n  grid-template-columns: minmax(30%, 1000px) 50px 50px 50px 50px 50px 1fr;\r\n  margin-bottom: 17px;\r\n  padding-bottom: 8px;\r\n  height: 40px;\r\n  background-color: ${(props) => (props.indexVal % 2 ? \"white\" : \"#ececec\")};\r\n  font-size: 16px;\r\n  align-items: end;\r\n  &:hover {\r\n    background-color: rgba(131, 202, 254, 0.4);\r\n  }\r\n`;\r\n\r\nconst RatingTitle = styled.div`\r\n  display: inline-grid;\r\n  grid-template-columns: minmax(30%, 1000px) 50px 50px 50px 50px 50px 1fr;\r\n  margin-bottom: 7px;\r\n  align-items: end;\r\n`;\r\n\r\nconst RadioInput = styled.input`\r\n  display: flex;\r\n  justify-self: center;\r\n  align-self: center;\r\n  text-align: center;\r\n  border: 0px;\r\n  width: 25px;\r\n  height: 1.4em;\r\n`;\r\n\r\nconst CircleDiv = styled.div`\r\n  display: flex;\r\n  justify-self: center;\r\n  align-self: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst OptionsText = styled.span`\r\n  margin-bottom: 2px;\r\n  padding-left: 5px;\r\n`;\r\n\r\nconst NoteText = styled.div`\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  vertical-align: center;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  background-color: whitesmoke;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\nimport flatten from \"lodash/flatten\";\r\nimport countBy from \"lodash/countBy\";\r\n\r\nconst SurveyRatings10Element = (props) => {\r\n  // HELPER FUNCTIONS\r\n  // filter to remove empty strings if present\r\n  const getOptionsArray = (options) => {\r\n    let array = options.split(\";;;\");\r\n    array = array.filter(function (e) {\r\n      return e;\r\n    });\r\n    return array;\r\n  };\r\n\r\n  // PROPS\r\n  const optsArray = getOptionsArray(props.opts.options);\r\n  const rows = optsArray.length;\r\n  const questionId = `itemNum${props.opts.itemNum}`;\r\n  const checkRequiredQuestionsComplete = props.check;\r\n  const labelText = ReactHtmlParser(decodeHTML(props.opts.label)) || \"\";\r\n  const noteText = ReactHtmlParser(decodeHTML(props.opts.note)) || \"\";\r\n  let displayNoteText = true;\r\n  if (noteText.length < 1 || noteText === \"\") {\r\n    displayNoteText = false;\r\n  }\r\n\r\n  // PERSISTENT STATE\r\n  const [checkedState, setCheckedState] = useLocalStorage(\r\n    questionId,\r\n    Array.from({ length: rows }, () => Array.from({ length: 10 }, () => false))\r\n  );\r\n\r\n  // LOCAL STATE\r\n  const [formatOptions, setFormatOptions] = useState({\r\n    bgColor: \"whitesmoke\",\r\n    border: \"none\",\r\n  });\r\n\r\n  // *** HANDLE CHANGE ***\r\n  const handleChange = (selectedRow, column, e) => {\r\n    const resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n    const newArray = [];\r\n    const newCheckedState = checkedState.map(function (row, index) {\r\n      if (selectedRow === index) {\r\n        row.map(function (item, index) {\r\n          if (column === index) {\r\n            newArray.push(true);\r\n            return null;\r\n          } else {\r\n            newArray.push(false);\r\n            return null;\r\n          }\r\n        });\r\n        return newArray;\r\n      } else {\r\n        return row;\r\n      }\r\n    });\r\n    setCheckedState(newCheckedState);\r\n    let arrayLen2 = checkedState.length;\r\n    let flattenedCheckedState2 = flatten([...newCheckedState]);\r\n    let count2 = countBy(flattenedCheckedState2);\r\n    let objTestValue2 = count2[true] || 0;\r\n\r\n    let textString = \"\";\r\n    newCheckedState.forEach((item, index) => {\r\n      let value = newCheckedState[index].indexOf(true) + 1;\r\n      if (index === 0) {\r\n        textString += value;\r\n      } else {\r\n        textString += \",\" + value;\r\n      }\r\n    });\r\n    resultsSurvey[`itemNum${props.opts.itemNum}`] = textString;\r\n\r\n    if (objTestValue2 !== arrayLen2) {\r\n      if (props.opts.required === true || props.opts.required === \"true\") {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no-*?*-response\";\r\n      } else {\r\n        resultsSurvey[`itemNum${props.opts.itemNum}`] = \"no response\";\r\n      }\r\n    }\r\n    localStorage.setItem(\"resultsSurvey\", JSON.stringify(resultsSurvey));\r\n  }; // end handleChange\r\n\r\n  // ****** CHECK IF ALL PARTS ANSWERED *******\r\n  let setYellow = false;\r\n  let arrayLen = checkedState.length;\r\n  let flattenedCheckedState = flatten([...checkedState]);\r\n  let count = countBy(flattenedCheckedState);\r\n  let objTestValue = count[true] || 0;\r\n  if (objTestValue < arrayLen) {\r\n    setYellow = true;\r\n  }\r\n\r\n  useEffect(() => {\r\n    // if is a required question, check if all parts answered\r\n    if (\r\n      (props.opts.required === true || props.opts.required === \"true\") &&\r\n      checkRequiredQuestionsComplete === true &&\r\n      setYellow\r\n    ) {\r\n      setFormatOptions({\r\n        bgColor: \"rgba(253, 224, 71, .5)\",\r\n        border: \"3px dashed black\",\r\n      });\r\n    } else {\r\n      setFormatOptions({\r\n        bgColor: \"whitesmoke\",\r\n        border: \"none\",\r\n      });\r\n    }\r\n  }, [checkRequiredQuestionsComplete, setYellow, props.opts.required]);\r\n\r\n  const RadioItems = () => {\r\n    const radioList = optsArray.map((item, index) => {\r\n      const itemText = ReactHtmlParser(decodeHTML(item));\r\n      return (\r\n        <ItemContainer indexVal={index} key={uuid()}>\r\n          <OptionsText key={uuid()}>{itemText}</OptionsText>\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q-${index}`}\r\n            type=\"radio\"\r\n            value={1}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 0, e)}\r\n            checked={checkedState[index][0]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q2-${index}`}\r\n            type=\"radio\"\r\n            value={2}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 1, e)}\r\n            checked={checkedState[index][1]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q3-${index}`}\r\n            type=\"radio\"\r\n            value={3}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 2, e)}\r\n            checked={checkedState[index][2]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q4-${index}`}\r\n            type=\"radio\"\r\n            value={4}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 3, e)}\r\n            checked={checkedState[index][3]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q5-${index}`}\r\n            type=\"radio\"\r\n            value={5}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 4, e)}\r\n            checked={checkedState[index][4]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q6-${index}`}\r\n            type=\"radio\"\r\n            value={6}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 5, e)}\r\n            checked={checkedState[index][5]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q7-${index}`}\r\n            type=\"radio\"\r\n            value={7}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 6, e)}\r\n            checked={checkedState[index][6]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q8-${index}`}\r\n            type=\"radio\"\r\n            value={8}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 7, e)}\r\n            checked={checkedState[index][7]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q9-${index}`}\r\n            type=\"radio\"\r\n            value={9}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 8, e)}\r\n            checked={checkedState[index][8]}\r\n          />\r\n          <RadioInput\r\n            key={uuid()}\r\n            id={`Q10-${index}`}\r\n            type=\"radio\"\r\n            value={10}\r\n            name={`itemNum${props.opts.itemNum}-${index + 1}`}\r\n            onChange={(e) => handleChange(index, 9, e)}\r\n            checked={checkedState[index][9]}\r\n          />\r\n        </ItemContainer>\r\n      );\r\n    });\r\n    return <div>{radioList}</div>;\r\n  };\r\n\r\n  if (displayNoteText) {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <NoteText id=\"noteText\">\r\n          <div>{noteText}</div>\r\n        </NoteText>\r\n        <RadioContainer>\r\n          <RatingTitle>\r\n            <div />\r\n            <CircleDiv>1</CircleDiv>\r\n            <CircleDiv>2</CircleDiv>\r\n            <CircleDiv>3</CircleDiv>\r\n            <CircleDiv>4</CircleDiv>\r\n            <CircleDiv>5</CircleDiv>\r\n            <CircleDiv>6</CircleDiv>\r\n            <CircleDiv>7</CircleDiv>\r\n            <CircleDiv>8</CircleDiv>\r\n            <CircleDiv>9</CircleDiv>\r\n            <CircleDiv>10</CircleDiv>\r\n          </RatingTitle>\r\n          <RadioItems />\r\n        </RadioContainer>\r\n      </Container>\r\n    );\r\n  } else {\r\n    return (\r\n      <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n        <TitleBar>\r\n          <div>{labelText}</div>\r\n        </TitleBar>\r\n        <RadioContainer>\r\n          <RatingTitle>\r\n            <div />\r\n            <CircleDiv>1</CircleDiv>\r\n            <CircleDiv>2</CircleDiv>\r\n            <CircleDiv>3</CircleDiv>\r\n            <CircleDiv>4</CircleDiv>\r\n            <CircleDiv>5</CircleDiv>\r\n            <CircleDiv>6</CircleDiv>\r\n            <CircleDiv>7</CircleDiv>\r\n            <CircleDiv>8</CircleDiv>\r\n            <CircleDiv>9</CircleDiv>\r\n            <CircleDiv>10</CircleDiv>\r\n          </RatingTitle>\r\n          <RadioItems />\r\n        </RadioContainer>\r\n      </Container>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SurveyRatings10Element;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  padding: 20px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  max-width: 1300px;\r\n  min-height: 200px;\r\n  background-color: ${(props) => props.bgColor};\r\n  outline: ${(props) => props.border};\r\n  outline-offset: -3px;\r\n`;\r\n\r\nconst TitleBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 50px;\r\n  padding: 5px;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  background-color: lightgray;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst RadioContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: left;\r\n  align-items: left;\r\n  padding: 20px;\r\n  vertical-align: center;\r\n  margin-top: 0px;\r\n  height: auto;\r\n  min-height: 50px;\r\n  font-size: 18px;\r\n  background-color: white;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n  border: 2px solid lightgray;\r\n\r\n  input {\r\n    margin-top: 8px;\r\n  }\r\n\r\n  label {\r\n    margin-left: 8px;\r\n  }\r\n`;\r\n\r\nconst ItemContainer = styled.div`\r\n  display: inline-grid;\r\n  grid-template-columns: minmax(30%, 1000px) 40px 40px 40px 40px 40px 40px 40px 40px 40px 40px 1fr;\r\n  margin-bottom: 17px;\r\n  font-size: 16px;\r\n  align-items: end;\r\n  padding-bottom: 8px;\r\n  height: 40px;\r\n  background-color: ${(props) => (props.indexVal % 2 ? \"white\" : \"#ececec\")};\r\n  border-radius: 3px;\r\n  &:hover {\r\n    background-color: rgba(131, 202, 254, 0.4);\r\n  }\r\n`;\r\n\r\nconst RatingTitle = styled.div`\r\n  display: inline-grid;\r\n  grid-template-columns: minmax(30%, 1000px) 40px 40px 40px 40px 40px 40px 40px 40px 40px 40px 1fr;\r\n  margin-bottom: 7px;\r\n  align-items: end;\r\n`;\r\n\r\nconst CircleDiv = styled.div`\r\n  display: flex;\r\n  justify-self: center;\r\n  align-items: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst RadioInput = styled.input`\r\n  display: flex;\r\n  justify-self: center;\r\n  align-self: center;\r\n  text-align: center;\r\n  border: 0px;\r\n  width: 28px;\r\n  height: 1.4em;\r\n  padding-left: 3px;\r\n`;\r\n\r\nconst OptionsText = styled.span`\r\n  margin-bottom: 2px;\r\n  padding-left: 5px;\r\n`;\r\n\r\nconst NoteText = styled.div`\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  vertical-align: center;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  background-color: whitesmoke;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useLocalStorage from \"../../utilities/useLocalStorage\";\r\n\r\nconst SurveyLikertElement = (props) => {\r\n  // PROPS\r\n  const checkRequiredQuestionsComplete = props.check;\r\n  // gives the number of questions\r\n  const questionId = `itemNum${props.opts.itemNum}`;\r\n  const labelText = ReactHtmlParser(decodeHTML(props.opts.label)) || \"\";\r\n\r\n  // PERSISTENT STATE\r\n  let [selected, setSelected] = useLocalStorage(questionId, \"\");\r\n\r\n  // LOCAL STATE\r\n  const [formatOptions, setFormatOptions] = useState({\r\n    bgColor: \"whitesmoke\",\r\n    border: \"none\",\r\n  });\r\n\r\n  // ****** GET SCALE ARRAY *******\r\n\r\n  const getScaleArray = (options) => {\r\n    let array = options.split(\";;;\");\r\n    return array;\r\n  };\r\n  const scaleArray = getScaleArray(props.opts.scale);\r\n\r\n  // ****** ON CHANGE  *******\r\n  const handleChange = (e) => {\r\n    const resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n    resultsSurvey[`itemNum${props.opts.itemNum}`] = +e.target.value + 1;\r\n    localStorage.setItem(\"resultsSurvey\", JSON.stringify(resultsSurvey));\r\n  }; // end handleChange\r\n\r\n  // ****** CHECK IF ALL PARTS ANSWERED on render *******\r\n  let setYellow = false;\r\n  if (selected.length === 0) {\r\n    setYellow = true;\r\n  }\r\n\r\n  useEffect(() => {\r\n    // if is a required question, check if all parts answered\r\n    if (\r\n      (props.opts.required === true || props.opts.required === \"true\") &&\r\n      checkRequiredQuestionsComplete === true &&\r\n      setYellow\r\n    ) {\r\n      setFormatOptions({\r\n        bgColor: \"rgba(253, 224, 71, .5)\",\r\n        border: \"3px dashed black\",\r\n      });\r\n    } else {\r\n      setFormatOptions({\r\n        bgColor: \"whitesmoke\",\r\n        border: \"none\",\r\n      });\r\n    }\r\n  }, [checkRequiredQuestionsComplete, setYellow, props.opts.required]);\r\n\r\n  const scaleList = scaleArray.map((item) => {\r\n    return (\r\n      <ScaleDiv key={uuid()}>\r\n        <div>{ReactHtmlParser(decodeHTML(item))}</div>\r\n      </ScaleDiv>\r\n    );\r\n  });\r\n\r\n  // template\r\n  const RadioInput = ({ value, checked, setter }) => {\r\n    return (\r\n      <>\r\n        <input\r\n          type=\"radio\"\r\n          checked={checked === value}\r\n          onChange={() => setter(value)}\r\n          value={value}\r\n        />\r\n      </>\r\n    );\r\n  };\r\n\r\n  const RadioItems = () => {\r\n    const radioList = scaleArray.map((item, index) => (\r\n      <RadioButtons\r\n        className=\"radioButtons\"\r\n        key={uuid()}\r\n        onChange={(e) => handleChange(e)}\r\n      >\r\n        <RadioInput\r\n          className=\"radioInput\"\r\n          value={index}\r\n          checked={selected}\r\n          setter={setSelected}\r\n        />\r\n      </RadioButtons>\r\n    ));\r\n    return (\r\n      <ButtonContainer className=\"buttonContainer\" cols={scaleArray.length}>\r\n        {radioList}\r\n      </ButtonContainer>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Container bgColor={formatOptions.bgColor} border={formatOptions.border}>\r\n      <TitleBar>\r\n        <div>{labelText}</div>\r\n      </TitleBar>\r\n      <RadioContainer className=\"radioContainer\">\r\n        <RatingTitle className=\"ratingTitle\" cols={scaleArray.length}>\r\n          {scaleList}\r\n        </RatingTitle>\r\n        <RadioItems />\r\n      </RadioContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SurveyLikertElement;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  padding: 12px 20px 0px 20px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  max-width: 1300px;\r\n  min-height: 170px;\r\n  background-color: ${(props) => props.bgColor};\r\n  outline: ${(props) => props.border};\r\n  outline-offset: -3px;\r\n`;\r\n\r\nconst TitleBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 50px;\r\n  padding: 5px;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  background-color: lightgray;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst RadioContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: left;\r\n  align-items: left;\r\n  padding: 10px 20px 0px 20px;\r\n  vertical-align: center;\r\n  margin-top: 0px;\r\n  height: auto;\r\n  min-height: 50px;\r\n  font-size: 16px;\r\n  background-color: white;\r\n  width: 100%;\r\n  border-radius: 3px;\r\n  border: 2px solid lightgray;\r\n\r\n  label {\r\n    margin-left: 8px;\r\n  }\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: inline-grid;\r\n  grid-template-columns: ${(props) =>\r\n    `repeat(${props.cols}, ${100 / props.cols}%)`};\r\n  margin-bottom: 3px;\r\n  justify-items: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst RatingTitle = styled.div`\r\n  display: inline-grid;\r\n  grid-template-columns: ${(props) =>\r\n    `repeat(${props.cols}, ${100 / props.cols}%)`};\r\n`;\r\n\r\nconst ScaleDiv = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst RadioButtons = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  justify-self: center;\r\n  margin-bottom: 5px;\r\n  padding: 5px;\r\n  width: 25px;\r\n  input {\r\n    height: 1.5em;\r\n    width: 20px;\r\n  }\r\n`;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\n\r\nconst SurveyInformationElement = (props) => {\r\n  useEffect(() => {\r\n    const resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n    resultsSurvey[`itemNum${props.opts.itemNum}`] = \"info. - na\";\r\n    // localStorage.setItem(\"resultsSurvey\", JSON.stringify(resultsSurvey));\r\n  }, [props.opts.itemNum]);\r\n\r\n  const infoText = ReactHtmlParser(decodeHTML(props.opts.options)) || \"\";\r\n\r\n  return (\r\n    <Container>\r\n      <TitleBar backgroundColor={props.opts.background}>\r\n        <div>{infoText}</div>\r\n      </TitleBar>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SurveyInformationElement;\r\n\r\nconst Container = styled.div`\r\n  width: 90vw;\r\n  padding: 20px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  max-width: 1300px;\r\n  background-color: whitesmoke;\r\n  min-height: 50px;\r\n`;\r\n\r\nconst TitleBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 5px;\r\n  min-height: 50px;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  background-color: ${(props) => props.backgroundColor || \"lightgray\"};\r\n  width: 100%;\r\n  border-radius: 3px;\r\n`;\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerModalOpen = (state) => state.triggerSurveyPreventNavModal;\r\nconst getSetTrigSurvPrevNavModal = (state) =>\r\n  state.setTriggerSurveyPreventNavModal;\r\n\r\nconst AnswerAllSurveyQuestionsModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerModalOpen = useStore(getTriggerModalOpen);\r\n  const setTriggerSurveyPreventNavModal = useStore(getSetTrigSurvPrevNavModal);\r\n\r\n  const modalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.surveyPreventNavModalHead)) || \"\";\r\n  const modalText =\r\n    ReactHtmlParser(decodeHTML(langObj.surveyPreventNavModalText)) || \"\";\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerSurveyPreventNavModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerModalOpen}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{modalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{modalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AnswerAllSurveyQuestionsModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerSurveyModal = (state) => state.triggerSurveyModal;\r\nconst getSetTriggerSurveyModal = (state) => state.setTriggerSurveyModal;\r\n\r\nconst SurveyHelpModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerSurveyModal = useStore(getTriggerSurveyModal);\r\n  const setTriggerSurveyModal = useStore(getSetTriggerSurveyModal);\r\n\r\n  const helpModalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.surveyModalHead)) || \"\";\r\n  const helpModalText =\r\n    ReactHtmlParser(decodeHTML(langObj.surveyModalText)) || \"\";\r\n\r\n  // const onOpenModal = () => setOpen(true);\r\n  const onCloseModal = () => {\r\n    setTriggerSurveyModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerSurveyModal}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{helpModalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{helpModalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default SurveyHelpModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n  font-weight: normal;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport SurveyTextElement from \"./SurveyTextElement\";\r\nimport SurveyTextAreaElement from \"./SurveyTextAreaElement\";\r\nimport SurveyRadioElement from \"./SurveyRadioElement\";\r\nimport SurveyDropdownElement from \"./SurveyDropdownElement\";\r\nimport SurveyCheckboxElement from \"./SurveyCheckboxElement\";\r\nimport SurveyRating2Element from \"./SurveyRating2Element\";\r\nimport SurveyRating5Element from \"./SurveyRating5Element\";\r\nimport SurveyRating10Element from \"./SurveyRating10Element\";\r\nimport SurveyLikertElement from \"./SurveyLikertElement\";\r\nimport SurveyInformationElement from \"./SurveyInformationElement\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport calculateTimeOnPage from \"../../utilities/calculateTimeOnPage\";\r\nimport AnswerAllSurveyQuestionsModal from \"./AnswerAllSurveyQuestionsModal\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport SurveyHelpModal from \"./SurveyHelpModal\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport PromptUnload from \"../../utilities/PromptUnload\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getSurveyQuestionObjArray = (state) => state.surveyQuestionObjArray;\r\nconst getRequiredAnswersObj = (state) => state.requiredAnswersObj;\r\nconst getSetRequiredAnswersObj = (state) => state.setRequiredAnswersObj;\r\nconst getSetCurrentPage = (state) => state.setCurrentPage;\r\nconst getCheckReqQuesComplete = (state) => state.checkRequiredQuestionsComplete;\r\nconst getSetDisplayNextButton = (state) => state.setDisplayNextButton;\r\n\r\nconst SurveyPage = () => {\r\n  // STATE\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const requiredAnswersObj = useSettingsStore(getRequiredAnswersObj);\r\n  const surveyQuestionObjArray = useSettingsStore(getSurveyQuestionObjArray);\r\n  const setRequiredAnswersObj = useSettingsStore(getSetRequiredAnswersObj);\r\n  const setCurrentPage = useStore(getSetCurrentPage);\r\n  const checkRequiredQuestionsComplete = useStore(getCheckReqQuesComplete);\r\n  const setDisplayNextButton = useStore(getSetDisplayNextButton);\r\n\r\n  const headerBarColor = configObj.headerBarColor;\r\n  const surveyQuestionObjects = surveyQuestionObjArray;\r\n\r\n  // setup language\r\n  const surveyHeader = ReactHtmlParser(decodeHTML(langObj.surveyHeader)) || \"\";\r\n\r\n  // set next button display\r\n  setDisplayNextButton(true);\r\n\r\n  useEffect(() => {\r\n    // reset required questions if page return\r\n    let keys = Object.keys(requiredAnswersObj);\r\n    for (let i = 0; i < keys.length; i++) {\r\n      requiredAnswersObj[keys[i]] = \"no response\";\r\n    }\r\n    setRequiredAnswersObj(requiredAnswersObj);\r\n  }, [setRequiredAnswersObj, requiredAnswersObj]);\r\n\r\n  useEffect(() => {\r\n    let startTime = Date.now();\r\n    setCurrentPage(\"survey\");\r\n    localStorage.setItem(\"currentPage\", \"survey\");\r\n    return () => {\r\n      calculateTimeOnPage(startTime, \"surveyPage\", \"surveyPage\");\r\n    };\r\n  }, [setCurrentPage]);\r\n\r\n  const SurveyQuestions = () => {\r\n    if (!surveyQuestionObjects) {\r\n      return <NoQuestionsDiv>No questions added.</NoQuestionsDiv>;\r\n    } else {\r\n      const QuestionList = surveyQuestionObjects.map((object, index) => {\r\n        if (object.type === \"text\") {\r\n          return (\r\n            <SurveyTextElement\r\n              key={uuid()}\r\n              check={checkRequiredQuestionsComplete}\r\n              opts={object}\r\n            />\r\n          );\r\n        }\r\n        if (object.type === \"textarea\") {\r\n          return (\r\n            <SurveyTextAreaElement\r\n              key={uuid()}\r\n              check={checkRequiredQuestionsComplete}\r\n              opts={object}\r\n            />\r\n          );\r\n        }\r\n        if (object.type === \"radio\") {\r\n          return (\r\n            <SurveyRadioElement\r\n              key={uuid()}\r\n              check={checkRequiredQuestionsComplete}\r\n              opts={object}\r\n            />\r\n          );\r\n        }\r\n        if (object.type === \"select\") {\r\n          return (\r\n            <SurveyDropdownElement\r\n              key={uuid()}\r\n              check={checkRequiredQuestionsComplete}\r\n              opts={object}\r\n            />\r\n          );\r\n        }\r\n        if (object.type === \"checkbox\") {\r\n          return (\r\n            <SurveyCheckboxElement\r\n              key={uuid()}\r\n              check={checkRequiredQuestionsComplete}\r\n              opts={object}\r\n            />\r\n          );\r\n        }\r\n        if (object.type === \"rating2\") {\r\n          return (\r\n            <SurveyRating2Element\r\n              key={uuid()}\r\n              check={checkRequiredQuestionsComplete}\r\n              opts={object}\r\n            />\r\n          );\r\n        }\r\n        if (object.type === \"likert\") {\r\n          return (\r\n            <SurveyLikertElement\r\n              key={uuid()}\r\n              check={checkRequiredQuestionsComplete}\r\n              opts={object}\r\n            />\r\n          );\r\n        }\r\n        if (object.type === \"rating5\") {\r\n          return (\r\n            <SurveyRating5Element\r\n              key={uuid()}\r\n              check={checkRequiredQuestionsComplete}\r\n              opts={object}\r\n            />\r\n          );\r\n        }\r\n        if (object.type === \"rating10\") {\r\n          return (\r\n            <SurveyRating10Element\r\n              key={uuid()}\r\n              check={checkRequiredQuestionsComplete}\r\n              opts={object}\r\n            />\r\n          );\r\n        }\r\n        if (object.type === \"information\") {\r\n          return <SurveyInformationElement key={uuid()} opts={object} />;\r\n        }\r\n        return null;\r\n      });\r\n      return QuestionList;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <PromptUnload />\r\n      <SurveyHelpModal />\r\n      <AnswerAllSurveyQuestionsModal />\r\n      <SortTitleBar background={headerBarColor}>{surveyHeader}</SortTitleBar>\r\n      <Container>\r\n        <SurveyQuestions />\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SurveyPage;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding-bottom: 150px;\r\n  margin-top: 50px;\r\n`;\r\n\r\nconst SortTitleBar = styled.div`\r\n  width: 100vw;\r\n  padding-left: 1.5vw;\r\n  padding-right: 1.5vw;\r\n  padding-top: 5px;\r\n  min-height: 50px;\r\n  background-color: ${(props) => props.background};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 9999;\r\n`;\r\n\r\nconst NoQuestionsDiv = styled.div`\r\n  margin-top: 50px;\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n`;\r\n","import React from \"react\";\r\nclass NonExistentPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        {\" \"}\r\n        <h1>404</h1> <p>Page doesn't exist</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default NonExistentPage;\r\n","import get from \"lodash/get\";\r\n\r\nconst processConfigXMLData = (dataObject) => {\r\n  const data = dataObject.elements[0].elements;\r\n  const configObj = {};\r\n  let surveyQuestionArray;\r\n\r\n  let surveyData = [];\r\n  for (let i = 0; i < data.length; i++) {\r\n    let value;\r\n\r\n    let tempObj = data[i];\r\n\r\n    let key = data[i].attributes.id;\r\n\r\n    // separate out survey questions\r\n    if (key === \"survey\") {\r\n      surveyData.push([...data[i].elements]);\r\n    }\r\n\r\n    // if it has a value in the XML file ==> no empty strings\r\n    if (\"elements\" in tempObj) {\r\n      value = data[i].elements[0].text;\r\n\r\n      // for all non-survey keys\r\n      if (key !== \"survey\") {\r\n        // deal with the array values\r\n        if (\r\n          key === \"columnHeadersColorsArray\" ||\r\n          key === \"columnColorsArray\" ||\r\n          key === \"qSortHeaderNumbers\" ||\r\n          key === \"qSortHeaders\" ||\r\n          key === \"qSortPattern\"\r\n        ) {\r\n        } else {\r\n          // for all others...\r\n          // convert string values -  boolean or number\r\n          if (value === \"true\") {\r\n            value = true;\r\n          } else if (value === \"false\") {\r\n            value = false;\r\n          } else if (!isNaN(value)) {\r\n            value = +value;\r\n          }\r\n          configObj[key] = value;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // setup survey object\r\n  const requiredAnswersObj = {};\r\n  if (surveyData.length > 0) {\r\n    surveyQuestionArray = [];\r\n    for (let j = 0; j < surveyData.length; j++) {\r\n      let tempObj = {};\r\n      // let tempObj2 = {};\r\n      let questionType = surveyData[j][0].attributes.type;\r\n\r\n      // INFORMATION question\r\n      if (questionType === \"information\") {\r\n        tempObj.id = `itemNum${j + 1}`;\r\n        tempObj.itemNum = j + 1;\r\n        tempObj.type = \"information\";\r\n        tempObj.background = surveyData[j][1].attributes.bg;\r\n\r\n        try {\r\n          tempObj.options = surveyData[j][1].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.options = \"\";\r\n        }\r\n        requiredAnswersObj[`itemNum${j + 1}`] = \"info - n.a.\";\r\n\r\n        surveyQuestionArray.push(tempObj);\r\n      }\r\n\r\n      // TEXT question\r\n      if (questionType === \"text\") {\r\n        tempObj.id = `itemNum${j + 1}`;\r\n        let isRequired = JSON.parse(surveyData[j][0].attributes.required);\r\n        if (isRequired === \"true\" || isRequired === true) {\r\n          isRequired = true;\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no-*?*-response\";\r\n        } else {\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no response\";\r\n        }\r\n        tempObj.itemNum = j + 1;\r\n        tempObj.type = \"text\";\r\n        tempObj.required = isRequired;\r\n\r\n        try {\r\n          tempObj.label = surveyData[j][1].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.label = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.note = surveyData[j][2].elements[0].text;\r\n        } catch (error) {\r\n          tempObj.note = \"\";\r\n        }\r\n\r\n        try {\r\n          if (surveyData[j][0].attributes.maxlength === undefined) {\r\n            tempObj.limitLength = JSON.parse(\r\n              surveyData[j][0].attributes.limitLength\r\n            );\r\n          } else {\r\n            let oldMaxLength = JSON.parse(\r\n              surveyData[j][0].attributes.maxlength\r\n            );\r\n            tempObj.limitLength = oldMaxLength;\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.limitLength = \"999\";\r\n        }\r\n\r\n        try {\r\n          tempObj.restricted = surveyData[j][0].attributes.restricted;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.restricted = \"false\";\r\n        }\r\n\r\n        try {\r\n          tempObj.limited = surveyData[j][0].attributes.limited;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.limited = \"false\";\r\n        }\r\n\r\n        try {\r\n          tempObj.placeholder = surveyData[j][3].elements[0].text;\r\n        } catch (error) {\r\n          tempObj.placeholder = \"\";\r\n        }\r\n        tempObj.hasBeenAnswered = false;\r\n\r\n        surveyQuestionArray.push(tempObj);\r\n      }\r\n\r\n      // TEXTAREA question\r\n      if (questionType === \"textarea\") {\r\n        tempObj.id = `itemNum${j + 1}`;\r\n        let isRequired = JSON.parse(surveyData[j][0].attributes.required);\r\n        if (isRequired === \"true\" || isRequired === true) {\r\n          isRequired = true;\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no-*?*-response\";\r\n        } else {\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no response\";\r\n        }\r\n        tempObj.itemNum = j + 1;\r\n        tempObj.type = \"textarea\";\r\n\r\n        try {\r\n          tempObj.required = surveyData[j][0].attributes.required;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.required = false;\r\n        }\r\n\r\n        try {\r\n          tempObj.label = surveyData[j][1].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.label = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.note = surveyData[j][2].elements[0].text;\r\n        } catch (error) {\r\n          tempObj.note = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.placeholder = surveyData[j][3].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.placeholder = \"\";\r\n        }\r\n\r\n        tempObj.hasBeenAnswered = false;\r\n\r\n        surveyQuestionArray.push(tempObj);\r\n      }\r\n\r\n      // RADIO question\r\n      if (questionType === \"radio\") {\r\n        tempObj.id = `itemNum${j + 1}`;\r\n        let isRequired = JSON.parse(surveyData[j][0].attributes.required);\r\n        if (isRequired === \"true\" || isRequired === true) {\r\n          isRequired = true;\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no-*?*-response\";\r\n        } else {\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no response\";\r\n        }\r\n        tempObj.itemNum = j + 1;\r\n        tempObj.type = \"radio\";\r\n\r\n        try {\r\n          tempObj.required = JSON.parse(surveyData[j][0].attributes.required);\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.required = \"false\";\r\n        }\r\n\r\n        try {\r\n          tempObj.label = surveyData[j][1].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.label = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.note = surveyData[j][2].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.note = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.options = surveyData[j][0].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.options = \"\";\r\n        }\r\n\r\n        tempObj.hasBeenAnswered = false;\r\n\r\n        surveyQuestionArray.push(tempObj);\r\n      }\r\n\r\n      // SELECT question\r\n      if (questionType === \"select\") {\r\n        tempObj.id = `itemNum${j + 1}`;\r\n        let isRequired = JSON.parse(surveyData[j][0].attributes.required);\r\n        if (isRequired === \"true\" || isRequired === true) {\r\n          isRequired = true;\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no-*?*-response\";\r\n        } else {\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no response\";\r\n        }\r\n        tempObj.itemNum = j + 1;\r\n        tempObj.type = \"select\";\r\n\r\n        try {\r\n          tempObj.required = surveyData[j][0].attributes.required;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.required = \"false\";\r\n        }\r\n\r\n        try {\r\n          tempObj.label = surveyData[j][1].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.label = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.options = surveyData[j][0].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.options = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.note = surveyData[j][2].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.note = \"\";\r\n        }\r\n\r\n        tempObj.hasBeenAnswered = false;\r\n\r\n        surveyQuestionArray.push(tempObj);\r\n      }\r\n\r\n      // CHECKBOX question\r\n      if (questionType === \"checkbox\") {\r\n        tempObj.id = `itemNum${j + 1}`;\r\n        let isRequired = JSON.parse(surveyData[j][0].attributes.required);\r\n        if (isRequired === \"true\" || isRequired === true) {\r\n          isRequired = true;\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no-*?*-response\";\r\n        } else {\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no response\";\r\n        }\r\n        tempObj.itemNum = j + 1;\r\n        tempObj.type = \"checkbox\";\r\n        try {\r\n          tempObj.required = JSON.parse(surveyData[j][0].attributes.required);\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.required = \"false\";\r\n        }\r\n\r\n        try {\r\n          tempObj.label = surveyData[j][1].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.label = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.options = surveyData[j][0].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.options = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.note = surveyData[j][2].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.note = \"\";\r\n        }\r\n\r\n        tempObj.hasBeenAnswered = false;\r\n\r\n        surveyQuestionArray.push(tempObj);\r\n      }\r\n\r\n      // RATING2 question\r\n      if (questionType === \"rating2\") {\r\n        tempObj.id = `itemNum${j + 1}`;\r\n        let isRequired = JSON.parse(surveyData[j][0].attributes.required);\r\n        if (isRequired === \"true\" || isRequired === true) {\r\n          isRequired = true;\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no-*?*-response\";\r\n        } else {\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no response\";\r\n        }\r\n        tempObj.itemNum = j + 1;\r\n        tempObj.type = \"rating2\";\r\n        try {\r\n          tempObj.required = surveyData[j][0].attributes.required;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.required = \"false\";\r\n        }\r\n\r\n        try {\r\n          tempObj.label = surveyData[j][1].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.label = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.scale = surveyData[j][0].attributes.scale;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.scale = \"Yes;;;No\";\r\n        }\r\n\r\n        try {\r\n          tempObj.options = surveyData[j][0].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.options = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.note = surveyData[j][2].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.note = \"\";\r\n        }\r\n\r\n        tempObj.hasBeenAnswered = false;\r\n\r\n        surveyQuestionArray.push(tempObj);\r\n      }\r\n\r\n      // likert 5 question\r\n      if (questionType === \"likert\") {\r\n        tempObj.id = `itemNum${j + 1}`;\r\n        let isRequired = JSON.parse(surveyData[j][0].attributes.required);\r\n        if (isRequired === \"true\" || isRequired === true) {\r\n          isRequired = true;\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no-*?*-response\";\r\n        } else {\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no response\";\r\n        }\r\n        tempObj.itemNum = j + 1;\r\n        tempObj.type = \"likert\";\r\n        try {\r\n          tempObj.required = surveyData[j][0].attributes.required;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.required = \"false\";\r\n        }\r\n\r\n        try {\r\n          tempObj.label = surveyData[j][1].elements[0]?.text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.label = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.scale = surveyData[j][0].attributes.scale;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.scale =\r\n            \"Strongly Disagree;;;Disagree;;;Neutral;;;Agree;;;Strongly Agree\";\r\n        }\r\n\r\n        try {\r\n          tempObj.options = surveyData[j][0].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.options = \"\";\r\n        }\r\n\r\n        tempObj.hasBeenAnswered = false;\r\n\r\n        surveyQuestionArray.push(tempObj);\r\n      }\r\n\r\n      // RATING5 question\r\n      if (questionType === \"rating5\") {\r\n        tempObj.id = `itemNum${j + 1}`;\r\n        let isRequired = JSON.parse(surveyData[j][0].attributes.required);\r\n        if (isRequired === \"true\" || isRequired === true) {\r\n          isRequired = true;\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no-*?*-response\";\r\n        } else {\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no response\";\r\n        }\r\n        tempObj.itemNum = j + 1;\r\n        tempObj.type = \"rating5\";\r\n        try {\r\n          tempObj.required = surveyData[j][0].attributes.required;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.required = \"false\";\r\n        }\r\n\r\n        try {\r\n          tempObj.label = surveyData[j][1].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.label = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.options = surveyData[j][0].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.options = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.note = surveyData[j][2].elements[0].text;\r\n        } catch (error) {\r\n          console.log(\"rating 5 note error\");\r\n          console.log(error);\r\n          tempObj.note = \"\";\r\n        }\r\n\r\n        tempObj.hasBeenAnswered = false;\r\n\r\n        surveyQuestionArray.push(tempObj);\r\n      }\r\n\r\n      // RATING10 question\r\n      if (questionType === \"rating10\") {\r\n        tempObj.id = `itemNum${j + 1}`;\r\n        let isRequired = JSON.parse(surveyData[j][0].attributes.required);\r\n        if (isRequired === \"true\" || isRequired === true) {\r\n          isRequired = true;\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no-*?*-response\";\r\n        } else {\r\n          requiredAnswersObj[`itemNum${j + 1}`] = \"no response\";\r\n        }\r\n        tempObj.itemNum = j + 1;\r\n        tempObj.type = \"rating10\";\r\n        try {\r\n          tempObj.required = surveyData[j][0].attributes.required;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.required = \"false\";\r\n        }\r\n\r\n        try {\r\n          tempObj.label = surveyData[j][1].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.label = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.options = surveyData[j][0].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.options = \"\";\r\n        }\r\n\r\n        try {\r\n          tempObj.note = surveyData[j][2].elements[0].text;\r\n        } catch (error) {\r\n          console.log(error);\r\n          tempObj.note = \"\";\r\n        }\r\n\r\n        tempObj.hasBeenAnswered = false;\r\n\r\n        surveyQuestionArray.push(tempObj);\r\n      }\r\n    }\r\n\r\n    let resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n    if (!resultsSurvey) {\r\n      localStorage.setItem(\"resultsSurvey\", JSON.stringify(requiredAnswersObj));\r\n      localStorage.setItem(\r\n        \"resultsSurveyArchive\",\r\n        JSON.stringify(requiredAnswersObj)\r\n      );\r\n    }\r\n\r\n    configObj.requiredAnswersObj = requiredAnswersObj;\r\n  }\r\n  let returnObj = {};\r\n  let shuffleCards = configObj?.shuffleCards;\r\n  returnObj.requiredAnswersObj = requiredAnswersObj;\r\n  returnObj.configObj = configObj;\r\n  returnObj.surveyQuestionObjArray = surveyQuestionArray;\r\n  returnObj.shuffleCards = shuffleCards;\r\n  return returnObj;\r\n};\r\n\r\nexport default processConfigXMLData;\r\n","import useStore from \"../globalState/useStore\";\r\n\r\nconst processMapXMLData = (dataObject) => {\r\n  const mapObj = {};\r\n  const data = dataObject.map;\r\n  const vColsObj = {};\r\n  const colInfoArray = [];\r\n\r\n  // COLUMN LOOP -> get card counts per column\r\n  for (let i = 0; i < data.column.length; i++) {\r\n    let keyVal;\r\n    let label = data.column[i]._attributes.id;\r\n    let labelInt = parseInt(label, 10);\r\n    if (labelInt < 0) {\r\n      keyVal = `columnN${Math.abs(labelInt)}`;\r\n      vColsObj[keyVal] = [];\r\n    } else {\r\n      keyVal = `column${labelInt}`;\r\n      vColsObj[keyVal] = [];\r\n    }\r\n    let tempObj = {};\r\n    tempObj.colNum = i + 1;\r\n    tempObj.label = label;\r\n    tempObj.colour = `#${data.column[i]._attributes.colour}`;\r\n    tempObj.numCards = data.column[i]._text;\r\n    colInfoArray.push(tempObj);\r\n  }\r\n\r\n  // ITEM LOOP -> get color arrays and q sort pattern\r\n  for (let j = 0; j < data.item.length; j++) {\r\n    let splitArray = [];\r\n    let value = data.item[j]._text;\r\n    let key = data.item[j]._attributes.id;\r\n    // numerical array ==> convert to integers\r\n    if (key === \"qSortPattern\") {\r\n      splitArray = value.split(\",\").map((x) => +x);\r\n    } else {\r\n      splitArray = value.split(\",\");\r\n    }\r\n    mapObj[key] = splitArray;\r\n  }\r\n\r\n  // create converter object for postsort\r\n  const postsortConvertObj = {};\r\n  const headerNumbers = [...mapObj.qSortHeaders];\r\n  for (let j = 0; j < headerNumbers.length; j++) {\r\n    let key = `column${headerNumbers[j]}`;\r\n    postsortConvertObj[key] = mapObj.qSortHeaderNumbers[j];\r\n  }\r\n  mapObj.postsortConvertObj = postsortConvertObj;\r\n\r\n  useStore.setState({ vColsObj: vColsObj });\r\n  const returnObj = {};\r\n  returnObj.vColsObj = vColsObj;\r\n  returnObj.mapObj = mapObj;\r\n  return returnObj;\r\n};\r\n\r\nexport default processMapXMLData;\r\n","import useStore from \"../globalState/useStore\";\r\n\r\nconst processLanguageXMLData = (dataObject) => {\r\n  try {\r\n    const data = dataObject.language.item;\r\n\r\n    const langObj = {};\r\n    for (let i = 0; i < data.length; i++) {\r\n      langObj[data[i]._attributes.id] = data[i]._text;\r\n      useStore.setState({ [data[i]._attributes.id]: data[i]._text });\r\n    }\r\n\r\n    return langObj;\r\n  } catch (error) {\r\n    console.log(\"there was a language import error\");\r\n  }\r\n};\r\n\r\nexport default processLanguageXMLData;\r\n","import shuffle from \"lodash/shuffle\";\r\n\r\n// prep column setup array\r\nconst processStatementsXMLData = (dataObject, shuffleCards, vColsObj) => {\r\n  const data = dataObject.statements.statement;\r\n  let statementsArray = [];\r\n\r\n  for (let i = 0; i < data.length; i++) {\r\n    let tempObj = {};\r\n    tempObj.id = `s${data[i]._attributes.id}`;\r\n    tempObj.statementNum = data[i]._attributes.id;\r\n    tempObj.divColor = \"isUncertainStatement\";\r\n    tempObj.cardColor = \"yellowSortCard\";\r\n    tempObj.pinkChecked = false;\r\n    tempObj.yellowChecked = true;\r\n    tempObj.greenChecked = false;\r\n    tempObj.sortValue = 222;\r\n    tempObj.backgroundColor = \"#e0e0e0\";\r\n    tempObj.statement = data[i]._text.trim();\r\n    statementsArray.push(tempObj);\r\n  }\r\n\r\n  if (shuffleCards === true) {\r\n    const shuffledCards = shuffle(statementsArray);\r\n    statementsArray = [...shuffledCards];\r\n  }\r\n\r\n  let totalStatements = statementsArray.length;\r\n\r\n  const columnStatements = {};\r\n\r\n  columnStatements.vCols = vColsObj;\r\n  columnStatements.statementList = statementsArray;\r\n\r\n  localStorage.setItem(\"hasBeenLoaded\", true);\r\n  const returnObj = {};\r\n  returnObj.columnStatements = columnStatements;\r\n  returnObj.totalStatements = totalStatements;\r\n  return returnObj;\r\n};\r\n\r\nexport default processStatementsXMLData;\r\n","const mobileCheck = () => {\r\n  let check = false;\r\n  (function (a) {\r\n    if (\r\n      // eslint-disable-next-line no-useless-escape\r\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\r\n        a\r\n      ) ||\r\n      // eslint-disable-next-line no-useless-escape\r\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\r\n        a.substr(0, 4)\r\n      )\r\n    )\r\n      check = true;\r\n  })(navigator.userAgent || navigator.vendor || window.opera);\r\n  return check;\r\n};\r\n\r\nexport default mobileCheck;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport detectMobileBrowser from \"../../utilities/detectMobileBrowser\";\r\n\r\nconst LoadingScreen = () => {\r\n  let isMobile = detectMobileBrowser();\r\n\r\n  let isDisplayText;\r\n  if (isMobile) {\r\n    isDisplayText = <MobileTextDiv>Loading</MobileTextDiv>;\r\n  } else {\r\n    isDisplayText = <TextDiv>Loading</TextDiv>;\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {isDisplayText}\r\n      <div>\r\n        <div id=\"loading\" />\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LoadingScreen;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 100vh;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst TextDiv = styled.div`\r\n  font-size: 88px;\r\n  font-style: italic;\r\n  font-weight: bold;\r\n  align-self: center;\r\n  margin-right: 70px;\r\n  margin-top: 40px;\r\n`;\r\n\r\nconst MobileTextDiv = styled.div`\r\n  font-size: 44px;\r\n  font-style: italic;\r\n  font-weight: bold;\r\n  align-self: center;\r\n  margin-right: 30px;\r\n  margin-top: 40px;\r\n`;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport convertObjectToResults from \"../sort/convertObjectToResults\";\r\nimport getObjectValues from \"lodash/values\";\r\n\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getPresortFinished = (state) => state.presortFinished;\r\nconst getSetTrigPrePrevNavModal = (state) =>\r\n  state.setTriggerPresortPreventNavModal;\r\nconst getCurrentPage = (state) => state.currentPage;\r\nconst getSetCheckReqQuesCompl = (state) =>\r\n  state.setCheckRequiredQuestionsComplete;\r\nconst getSetTrigSurvPrevNavModal = (state) =>\r\n  state.setTriggerSurveyPreventNavModal;\r\nconst getIsSortingFinished = (state) => state.isSortingFinished;\r\nconst getHasOverloadedColumn = (state) => state.hasOverloadedColumn;\r\nconst getSetTrigSortPrevNavModal = (state) =>\r\n  state.setTriggerSortPreventNavModal;\r\nconst getSetTrigSortOverColMod = (state) =>\r\n  state.setTriggerSortOverloadedColumnModal;\r\nconst getColumnStatements = (state) => state.columnStatements;\r\nconst getSetResults = (state) => state.setResults;\r\nconst getSetShowPostsortCommentHighlighting = (state) =>\r\n  state.setShowPostsortCommentHighlighting;\r\nconst getSetTriggerPostsortPreventNavModal = (state) =>\r\n  state.setTriggerPostsortPreventNavModal;\r\n\r\nconst LinkButton = (props) => {\r\n  let goToNextPage;\r\n\r\n  // GLOBAL STATE\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const presortFinished = useStore(getPresortFinished);\r\n  const setTriggerPresortPreventNavModal = useStore(getSetTrigPrePrevNavModal);\r\n  const currentPage = useStore(getCurrentPage);\r\n  const setCheckRequiredQuestionsComplete = useStore(getSetCheckReqQuesCompl);\r\n  const setTriggerSurveyPreventNavModal = useStore(getSetTrigSurvPrevNavModal);\r\n  const isSortingFinished = useStore(getIsSortingFinished);\r\n  const hasOverloadedColumn = useStore(getHasOverloadedColumn);\r\n  const setTriggerSortPreventNavModal = useStore(getSetTrigSortPrevNavModal);\r\n  const setTriggerSortOverloadedColModal = useStore(getSetTrigSortOverColMod);\r\n  const columnStatements = useSettingsStore(getColumnStatements);\r\n  const setResults = useStore(getSetResults);\r\n  const setShowPostsortCommentHighlighting = useStore(\r\n    getSetShowPostsortCommentHighlighting\r\n  );\r\n  const setTriggerPostsortPreventNavModal = useStore(\r\n    getSetTriggerPostsortPreventNavModal\r\n  );\r\n\r\n  const allowUnforcedSorts = configObj.allowUnforcedSorts;\r\n  const postsortCommentsRequired = configObj.postsortCommentsRequired;\r\n\r\n  // PERSISTENT STATE\r\n  const sortColumns = JSON.parse(localStorage.getItem(\"sortColumns\")) || [];\r\n\r\n  const {\r\n    history,\r\n    location,\r\n    match,\r\n    staticContext,\r\n    to,\r\n    onClick,\r\n    // ⬆ filtering out props that `button` doesn’t know what to do with.\r\n    ...rest\r\n  } = props;\r\n\r\n  const checkForNextPageConditions = (\r\n    allowUnforcedSorts,\r\n    isPresortFinished\r\n  ) => {\r\n    // *** ReCalc Results ***\r\n    let sortResults1 = convertObjectToResults(columnStatements);\r\n\r\n    if (currentPage === \"presort\") {\r\n      if (isPresortFinished === false) {\r\n        setTriggerPresortPreventNavModal(true);\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n    if (currentPage === \"sort\") {\r\n      if (isSortingFinished === false) {\r\n        // check to see if finished, but had sorting registration error\r\n        if (sortColumns?.imagesList?.length === 0) {\r\n          if (allowUnforcedSorts === true) {\r\n            // persist results to localStorage\r\n            setResults(sortResults1);\r\n            // localStorage.setItem(\"resultsSort\", JSON.stringify(sortResults1));\r\n            setTriggerSortPreventNavModal(false);\r\n            return true;\r\n          } else {\r\n            // if forced sort -> allow nav only if no overloaded columns\r\n            if (hasOverloadedColumn === true) {\r\n              setTriggerSortPreventNavModal(false);\r\n              setTriggerSortOverloadedColModal(true);\r\n              return false;\r\n            } else {\r\n              setResults(sortResults1);\r\n              // persist results to localStorage\r\n              // localStorage.setItem(\"resultsSort\", JSON.stringify(sortResults1));\r\n              setTriggerSortPreventNavModal(false);\r\n              return true;\r\n            }\r\n          }\r\n        } else {\r\n          // not finished sorting\r\n          setTriggerSortPreventNavModal(true);\r\n          return false;\r\n        }\r\n      } else {\r\n        // has finished sorting\r\n        if (allowUnforcedSorts === true) {\r\n          // unforced ok -> allow nav\r\n          setTriggerSortPreventNavModal(false);\r\n          return true;\r\n        } else {\r\n          // unforced not ok -> allow nav if no overloaded columns\r\n          if (hasOverloadedColumn === true) {\r\n            setTriggerSortPreventNavModal(false);\r\n            setTriggerSortOverloadedColModal(true);\r\n            return false;\r\n          } else {\r\n            setTriggerSortPreventNavModal(false);\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (currentPage === \"postsort\") {\r\n      let postsortCommentCardCount = +localStorage.getItem(\r\n        \"postsortCommentCardCount\"\r\n      );\r\n      const required1 =\r\n        getObjectValues(\r\n          JSON.parse(localStorage.getItem(\"HC-requiredCommentsObj\"))\r\n        ) || [];\r\n      const required2 =\r\n        getObjectValues(\r\n          JSON.parse(localStorage.getItem(\"HC2-requiredCommentsObj\"))\r\n        ) || [];\r\n      const required3 =\r\n        getObjectValues(\r\n          JSON.parse(localStorage.getItem(\"LC-requiredCommentsObj\"))\r\n        ) || [];\r\n      const required4 =\r\n        getObjectValues(\r\n          JSON.parse(localStorage.getItem(\"LC2-requiredCommentsObj\"))\r\n        ) || [];\r\n\r\n      const checkArray2 = [\r\n        ...required1,\r\n        ...required2,\r\n        ...required3,\r\n        ...required4,\r\n      ];\r\n\r\n      if (\r\n        checkArray2.includes(\"false\") ||\r\n        checkArray2.includes(false) ||\r\n        checkArray2.length < postsortCommentCardCount\r\n      ) {\r\n        // answers required in configObj\r\n        if (postsortCommentsRequired === true) {\r\n          setShowPostsortCommentHighlighting(true);\r\n          setTriggerPostsortPreventNavModal(true);\r\n          return false;\r\n        }\r\n        return true;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    if (currentPage === \"survey\") {\r\n      let resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n      let values = getObjectValues(resultsSurvey);\r\n      let includesNoResponse = values.includes(\"no-*?*-response\");\r\n      if (includesNoResponse) {\r\n        // to turn on yellow color for unanswered\r\n        setCheckRequiredQuestionsComplete(true);\r\n        setTriggerSurveyPreventNavModal(true);\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    // for pages without checks\r\n    return true;\r\n  };\r\n\r\n  return (\r\n    <NextButton\r\n      {...rest} // `children` is just another prop!\r\n      onClick={(event) => {\r\n        onClick && onClick(event);\r\n        goToNextPage = checkForNextPageConditions(\r\n          allowUnforcedSorts,\r\n          presortFinished\r\n        );\r\n        if (goToNextPage) {\r\n          history.push(to);\r\n        }\r\n      }}\r\n      tabindex=\"0\"\r\n    />\r\n  );\r\n};\r\nexport default withRouter(LinkButton);\r\n\r\nconst NextButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n  padding: 0.5em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  user-select: none;\r\n  justify-content: center;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\n// const getSetCardFontSize = (state) => state.setCardFontSize;\r\nconst getCardFontSizeSort = (state) => state.cardFontSizeSort;\r\nconst getSetCardFontSizeSort = (state) => state.setCardFontSizeSort;\r\nconst getCardFontSizePresort = (state) => state.cardFontSizePresort;\r\nconst getSetCardFontSizePresort = (state) => state.setCardFontSizePresort;\r\nconst getCardFontSizePostsort = (state) => state.cardFontSizePostsort;\r\nconst getSetCardFontSizePostsort = (state) => state.setCardFontSizePostsort;\r\nconst getCurrentPage = (state) => state.currentPage;\r\n\r\nconst FooterFontSizer = () => {\r\n  // GLOBAL STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  let cardFontSizeSort = useStore(getCardFontSizeSort);\r\n  let cardFontSizePostsort = useStore(getCardFontSizePostsort);\r\n  let cardFontSizePresort = useStore(getCardFontSizePresort);\r\n  const fontSizeText = ReactHtmlParser(decodeHTML(langObj.fontSizeText)) || \"\";\r\n  // const setCardFontSize = useStore(getSetCardFontSize);\r\n  const setCardFontSizeSort = useStore(getSetCardFontSizeSort);\r\n  const currentPage = useStore(getCurrentPage);\r\n  const cardFontSizeSortPersist = +localStorage.getItem(\"fontSizeSort\");\r\n  const cardFontSizePostsortPersist = +localStorage.getItem(\"fontSizePostsort\");\r\n  const cardFontSizePresortPersist = +localStorage.getItem(\"fontSizePresort\");\r\n  const setCardFontSizePostsort = useStore(getSetCardFontSizePostsort);\r\n  const setCardFontSizePresort = useStore(getSetCardFontSizePresort);\r\n\r\n  if (cardFontSizePresortPersist && currentPage === \"presort\") {\r\n    cardFontSizePresort = cardFontSizePresortPersist;\r\n  }\r\n\r\n  if (cardFontSizeSortPersist && currentPage === \"sort\") {\r\n    cardFontSizeSort = cardFontSizeSortPersist;\r\n  }\r\n\r\n  if (cardFontSizePostsortPersist && currentPage === \"postsort\") {\r\n    cardFontSizePostsort = cardFontSizePostsortPersist;\r\n  }\r\n\r\n  const increaseFontSize = () => {\r\n    if (currentPage === \"presort\") {\r\n      const currentSize = cardFontSizePresort;\r\n      const newSize = currentSize + 1;\r\n      localStorage.setItem(\"fontSizePresort\", JSON.stringify(newSize));\r\n      setCardFontSizePresort(newSize);\r\n    }\r\n    if (currentPage === \"sort\") {\r\n      const currentSize = cardFontSizeSort;\r\n      const newSize = currentSize + 1;\r\n      localStorage.setItem(\"fontSizeSort\", JSON.stringify(newSize));\r\n      setCardFontSizeSort(newSize);\r\n    }\r\n    if (currentPage === \"postsort\") {\r\n      const currentSize = cardFontSizePostsort;\r\n      const newSize = currentSize + 1;\r\n      localStorage.setItem(\"fontSizePostsort\", JSON.stringify(newSize));\r\n      setCardFontSizePostsort(newSize);\r\n    }\r\n  };\r\n  const decreaseFontSize = () => {\r\n    if (currentPage === \"presort\") {\r\n      const currentSize = cardFontSizePresort;\r\n      const newSize = currentSize - 1;\r\n      localStorage.setItem(\"fontSizePresort\", JSON.stringify(newSize));\r\n      setCardFontSizePresort(newSize);\r\n    }\r\n    if (currentPage === \"sort\") {\r\n      const currentSize = cardFontSizeSort;\r\n      const newSize = currentSize - 1;\r\n      localStorage.setItem(\"fontSizeSort\", JSON.stringify(newSize));\r\n      setCardFontSizeSort(newSize);\r\n    }\r\n    if (currentPage === \"postsort\") {\r\n      const currentSize = cardFontSizePostsort;\r\n      const newSize = currentSize - 1;\r\n      localStorage.setItem(\"fontSizePostsort\", JSON.stringify(newSize));\r\n      setCardFontSizePostsort(newSize);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <SpanDiv>{fontSizeText}</SpanDiv>\r\n      <SizeButton padBottom={\"0.4em\"} onClick={decreaseFontSize}>\r\n        -\r\n      </SizeButton>\r\n      <SizeButton padBottom={\"0.25em\"} onClick={increaseFontSize}>\r\n        +\r\n      </SizeButton>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default FooterFontSizer;\r\n\r\nconst SizeButton = styled.button`\r\n  background: #337ab7;\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.4em;\r\n  font-weight: bold;\r\n  margin: 0 3px 0 3px;\r\n  padding: 0.25em 0.5em;\r\n  padding-bottom: ${(props) => props.padBottom};\r\n  height: 30px;\r\n  width: 35px;\r\n\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst SpanDiv = styled.div`\r\n  font-size: 16px;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getCardHeightSort = (state) => state.cardHeightSort;\r\nconst getSetCardHeightSort = (state) => state.setCardHeightSort;\r\nconst getCardHeightPostsort = (state) => state.cardHeightPostsort;\r\nconst getSetCardHeightPostsort = (state) => state.setCardHeightPostsort;\r\nconst getCurrentPage = (state) => state.currentPage;\r\n\r\nconst CardHeightSizer = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n\r\n  let cardHeightSort = useStore(getCardHeightSort);\r\n  const cardHeightPersistSort = localStorage.getItem(\"cardHeightSort\");\r\n  let cardHeightPostsort = useStore(getCardHeightPostsort);\r\n  const cardHeightPersistPostsort = localStorage.getItem(\"cardHeightPostsort\");\r\n\r\n  const currentPage = useStore(getCurrentPage);\r\n  const setCardHeightSort = useStore(getSetCardHeightSort);\r\n  const setCardHeightPostsort = useStore(getSetCardHeightPostsort);\r\n\r\n  if (cardHeightPersistSort) {\r\n    cardHeightSort = cardHeightPersistSort;\r\n  }\r\n\r\n  if (cardHeightPersistPostsort) {\r\n    cardHeightPostsort = cardHeightPersistPostsort;\r\n  }\r\n\r\n  const cardHeightText =\r\n    ReactHtmlParser(decodeHTML(langObj.cardHeightText)) || \"\";\r\n\r\n  const increaseHeight = () => {\r\n    if (currentPage === \"sort\") {\r\n      const currentSize = +cardHeightSort;\r\n      const newSize = currentSize + 2;\r\n      localStorage.setItem(\"cardHeightSort\", JSON.stringify(newSize));\r\n      setCardHeightSort(newSize);\r\n    }\r\n    if (currentPage === \"postsort\") {\r\n      const currentSize = +cardHeightPostsort;\r\n      const newSize = currentSize + 2;\r\n      localStorage.setItem(\"cardHeightPostsort\", JSON.stringify(newSize));\r\n      setCardHeightPostsort(newSize);\r\n    }\r\n  };\r\n  const decreaseHeight = () => {\r\n    if (currentPage === \"sort\") {\r\n      const currentSize = +cardHeightSort;\r\n      const newSize = currentSize - 2;\r\n      localStorage.setItem(\"cardHeightSort\", JSON.stringify(newSize));\r\n      setCardHeightSort(newSize);\r\n    }\r\n    if (currentPage === \"postsort\") {\r\n      const currentSize = +cardHeightPostsort;\r\n      const newSize = currentSize - 2;\r\n      localStorage.setItem(\"cardHeightPostsort\", JSON.stringify(newSize));\r\n      setCardHeightPostsort(newSize);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <SpanDiv>{cardHeightText}</SpanDiv>\r\n      <SizeButton padBottom={\"0.4em\"} onClick={decreaseHeight}>\r\n        -\r\n      </SizeButton>\r\n      <SizeButton padBottom={\"0.25em\"} onClick={increaseHeight}>\r\n        +\r\n      </SizeButton>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CardHeightSizer;\r\n\r\nconst SizeButton = styled.button`\r\n  background: #337ab7;\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.4em;\r\n  font-weight: bold;\r\n  margin: 0 3px 0 3px;\r\n  padding: 0.25em 0.5em;\r\n  padding-bottom: ${(props) => props.padBottom};\r\n  height: 30px;\r\n  width: 35px;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  user-select: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n  margin-left: 15px;\r\n`;\r\n\r\nconst SpanDiv = styled.div`\r\n  font-size: 16px;\r\n`;\r\n","const calcProgressScore = (\r\n  currentPage,\r\n  additionalProgress1,\r\n  additionalProgressSort,\r\n  showPostsort,\r\n  showSurvey,\r\n  additionalProgressState,\r\n  additionalProgressStateSort\r\n) => {\r\n  let adjustmentValue1 = 20;\r\n  let adjustmentValue2 = 50;\r\n  let adjustmentValue3 = 80;\r\n  if (showPostsort === false && showSurvey === true) {\r\n    adjustmentValue1 = 30;\r\n    adjustmentValue2 = 60;\r\n  }\r\n  if (showPostsort === true && showSurvey === false) {\r\n    adjustmentValue1 = 30;\r\n    adjustmentValue2 = 60;\r\n    adjustmentValue3 = 90;\r\n  }\r\n  if (showPostsort === false && showSurvey === false) {\r\n    adjustmentValue1 = 30;\r\n    adjustmentValue2 = 60;\r\n  }\r\n\r\n  let totalProgressScore;\r\n  let additionalProgress = 0;\r\n  if (additionalProgress1 !== +additionalProgressState) {\r\n    additionalProgress = +additionalProgressState;\r\n  }\r\n\r\n  if (additionalProgressSort !== +additionalProgressStateSort) {\r\n    additionalProgressSort = +additionalProgressStateSort;\r\n  }\r\n\r\n  if (currentPage === \"landing\") {\r\n    totalProgressScore = 10;\r\n    return totalProgressScore;\r\n  }\r\n  if (currentPage === \"consent\") {\r\n    totalProgressScore = 15;\r\n    return totalProgressScore;\r\n  }\r\n  if (currentPage === \"presort\") {\r\n    totalProgressScore = +additionalProgress + adjustmentValue1;\r\n    return totalProgressScore;\r\n  }\r\n  if (currentPage === \"sort\") {\r\n    totalProgressScore = +additionalProgressSort + adjustmentValue2;\r\n    return totalProgressScore;\r\n  }\r\n  if (currentPage === \"postsort\") {\r\n    totalProgressScore = adjustmentValue3;\r\n    return totalProgressScore;\r\n  }\r\n  if (currentPage === \"survey\") {\r\n    totalProgressScore = 90;\r\n    return totalProgressScore;\r\n  }\r\n  if (currentPage === \"submit\") {\r\n    totalProgressScore = 100;\r\n    return totalProgressScore;\r\n  }\r\n};\r\n\r\nexport default calcProgressScore;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getCurrentPage = (state) => state.currentPage;\r\nconst getSetTriggerLandingModal = (state) => state.setTriggerLandingModal;\r\nconst getSetTriggerPresortModal = (state) => state.setTriggerPresortModal;\r\nconst getSetTriggerSortModal = (state) => state.setTriggerSortModal;\r\nconst getSetTriggerPostsortModal = (state) => state.setTriggerPostsortModal;\r\nconst getSetTriggerSurveyModal = (state) => state.setTriggerSurveyModal;\r\nconst getSetTriggerSubmitModal = (state) => state.setTriggerSubmitModal;\r\nconst getSetTriggerConsentModal = (state) => state.setTriggerConsentModal;\r\n\r\nconst HelpButton = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const currentPage = useStore(getCurrentPage);\r\n  const setTriggerLandingModal = useStore(getSetTriggerLandingModal);\r\n  const setTriggerPresortModal = useStore(getSetTriggerPresortModal);\r\n  const setTriggerSortModal = useStore(getSetTriggerSortModal);\r\n  const setTriggerPostsortModal = useStore(getSetTriggerPostsortModal);\r\n  const setTriggerSurveyModal = useStore(getSetTriggerSurveyModal);\r\n  const setTriggerSubmitModal = useStore(getSetTriggerSubmitModal);\r\n  const setTriggerConsentModal = useStore(getSetTriggerConsentModal);\r\n\r\n  let buttonText = ReactHtmlParser(decodeHTML(langObj.btnHelp)) || \"\";\r\n  if (currentPage === \"landing\") {\r\n    buttonText = ReactHtmlParser(decodeHTML(langObj.btnHelpLanding)) || \"\";\r\n  }\r\n  if (currentPage === \"consent\") {\r\n    buttonText = ReactHtmlParser(decodeHTML(langObj.btnHelpConsent)) || \"\";\r\n  }\r\n\r\n  const handleOnClick = () => {\r\n    console.log(\"currentPage\", currentPage);\r\n    if (currentPage === \"landing\") {\r\n      setTriggerLandingModal(true);\r\n    }\r\n    if (currentPage === \"consent\") {\r\n      setTriggerConsentModal(true);\r\n    }\r\n    if (currentPage === \"presort\") {\r\n      setTriggerPresortModal(true);\r\n    }\r\n    if (currentPage === \"sort\") {\r\n      setTriggerSortModal(true);\r\n    }\r\n    if (currentPage === \"postsort\") {\r\n      setTriggerPostsortModal(true);\r\n    }\r\n    if (currentPage === \"survey\") {\r\n      setTriggerSurveyModal(true);\r\n    }\r\n    if (currentPage === \"submit\") {\r\n      setTriggerSubmitModal(true);\r\n    }\r\n  };\r\n\r\n  if (currentPage === \"consent\") {\r\n    if (configObj.showConsentPageHelpModal === true) {\r\n      return (\r\n        <StyledHelpButton tabindex=\"0\" onClick={handleOnClick}>\r\n          {buttonText}\r\n        </StyledHelpButton>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <StyledHelpButton tabindex=\"0\" onClick={handleOnClick}>\r\n      {buttonText}\r\n    </StyledHelpButton>\r\n  );\r\n};\r\nexport default HelpButton;\r\n\r\nconst StyledHelpButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n  padding: 0.5em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  justify-self: right;\r\n  margin-right: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n\r\n/*\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n    box-shadow: inset 0 0 0 4px #666, 0 0 1px transparent;\r\n  }\r\n  */\r\n","const getNextPage = (currentPage, showPostsort, showSurvey, showConsent) => {\r\n  // if (showPostsort === true && showSurvey === true) {\r\n  if (currentPage === \"consent\") {\r\n    if (showConsent === true) {\r\n      return `/landing`;\r\n    }\r\n    return `/presort`;\r\n  }\r\n  if (currentPage === \"landing\") {\r\n    return `/presort`;\r\n  }\r\n  if (currentPage === \"presort\") {\r\n    return `/sort`;\r\n  }\r\n  if (currentPage === \"sort\") {\r\n    if (showPostsort === true) {\r\n      return `/postsort`;\r\n    }\r\n    if (showSurvey === true) {\r\n      return `/survey`;\r\n    }\r\n    return `/submit`;\r\n  }\r\n  if (currentPage === \"postsort\") {\r\n    if (showSurvey === true) {\r\n      return `/survey`;\r\n    }\r\n    return `/submit`;\r\n  }\r\n  if (currentPage === \"survey\") {\r\n    return `/submit`;\r\n  }\r\n  if (currentPage === \"submit\") {\r\n    return `/`;\r\n  }\r\n  return `/nopagefound`;\r\n};\r\n\r\nexport default getNextPage;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst BackButton = (props) => {\r\n  const {\r\n    history,\r\n    location,\r\n    match,\r\n    staticContext,\r\n    to,\r\n    onClick,\r\n    // ⬆ filtering out props that `button` doesn’t know what to do with.\r\n    ...rest\r\n  } = props;\r\n\r\n  return (\r\n    <NextButton\r\n      {...rest} // `children` is just another prop!\r\n      onClick={(event) => {\r\n        onClick && onClick(event);\r\n        history.push(to);\r\n      }}\r\n      tabindex=\"0\"\r\n    />\r\n  );\r\n};\r\nexport default withRouter(BackButton);\r\n\r\nconst NextButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n  padding: 0.5em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: auto;\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  user-select: none;\r\n  justify-content: center;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport NextButton from \"./NextButton\";\r\nimport FooterFontSizer from \"./FooterFontSizer\";\r\nimport CardHeightSizer from \"./CardHeightSizer\";\r\nimport ProgressBar from \"@ramonak/react-progress-bar\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport calcProgressScore from \"./calcProgressScore\";\r\nimport HelpButton from \"./HelpButton\";\r\nimport getNextPage from \"./getNextPage\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport PostsortBackButton from \"./PostsortBackButton\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getDisplayNextButton = (state) => state.displayNextButton;\r\nconst getCurrentPage = (state) => state.currentPage;\r\nconst getAdditionalProgress = (state) => state.progressScoreAdditional;\r\nconst getAdditionalProgressSort = (state) => state.progressScoreAdditionalSort;\r\nconst getLocalUsercode = (state) => state.localUsercode;\r\n\r\nconst StyledFooter = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  let displayNextButton = useStore(getDisplayNextButton);\r\n  const currentPage = useStore(getCurrentPage);\r\n  const additionalProgress = useStore(getAdditionalProgress);\r\n  const additionalProgressSort = useStore(getAdditionalProgressSort);\r\n  const localUsercode = useStore(getLocalUsercode);\r\n\r\n  let showAdjustmentContainer = true;\r\n  let showCardHeightSizer = true;\r\n  let displayHelpButton = true;\r\n  let showFooterFontSizer = true;\r\n\r\n  let showBackButton;\r\n  let backButtonText = langObj.postsortBackButtonText;\r\n\r\n  if (currentPage === \"postsort\" && configObj.showBackButton) {\r\n    showBackButton = true;\r\n  } else {\r\n    showBackButton = false;\r\n  }\r\n\r\n  let logoHtml = ReactHtmlParser(\r\n    decodeHTML(\r\n      `{{{center}}}{{{img src=\"./logo/logo.png\" height=\"40\" width=\"250\" /}}}{{{/center}}}`\r\n    )\r\n  );\r\n\r\n  let nextButtonText;\r\n  if (currentPage === \"landing\") {\r\n    nextButtonText = ReactHtmlParser(decodeHTML(langObj.btnNextLanding)) || \"\";\r\n  } else if (currentPage === \"consent\") {\r\n    nextButtonText = ReactHtmlParser(decodeHTML(langObj.btnNextConsent)) || \"\";\r\n  } else {\r\n    nextButtonText = ReactHtmlParser(decodeHTML(langObj.btnNext)) || \"\";\r\n  }\r\n\r\n  if (currentPage === \"sort\" && configObj.setupTarget === \"local\") {\r\n    const usercode = localUsercode;\r\n    const projectName = configObj.studyTitle;\r\n    const today = new Date();\r\n    const date =\r\n      today.getFullYear() +\r\n      \"-\" +\r\n      (today.getMonth() + 1) +\r\n      \"-\" +\r\n      today.getDate();\r\n    const time =\r\n      today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n    const dateTime = date + \" \" + time;\r\n\r\n    logoHtml = `${usercode} - ${projectName} - ${dateTime}`;\r\n  }\r\n\r\n  const showPostsort = configObj.showPostsort;\r\n  const showSurvey = configObj.showSurvey;\r\n  const useImages = configObj.useImages;\r\n  const showConsent = configObj.showConsentPage;\r\n  let showProgressBar = true;\r\n\r\n  const totalProgressScore = calcProgressScore(\r\n    currentPage,\r\n    additionalProgress,\r\n    additionalProgressSort,\r\n    showPostsort,\r\n    showSurvey,\r\n    additionalProgress,\r\n    additionalProgressSort\r\n  );\r\n\r\n  if (currentPage === \"consent\") {\r\n    showProgressBar = false;\r\n  } else {\r\n    showProgressBar = true;\r\n  }\r\n\r\n  if (currentPage === \"submit\") {\r\n    displayNextButton = false;\r\n  }\r\n\r\n  if (configObj.setupTarget === \"local\" && currentPage === \"landing\") {\r\n    displayNextButton = false;\r\n    displayHelpButton = false;\r\n  }\r\n  if (currentPage === \"submit\") {\r\n    displayHelpButton = false;\r\n  }\r\n\r\n  if (currentPage === \"presort\") {\r\n    if (configObj.useImages === true) {\r\n      showAdjustmentContainer = false;\r\n      showCardHeightSizer = false;\r\n    } else {\r\n      showAdjustmentContainer = true;\r\n      showCardHeightSizer = false;\r\n    }\r\n  }\r\n\r\n  if (currentPage === \"sort\") {\r\n    if (useImages === true) {\r\n      showAdjustmentContainer = true;\r\n      showCardHeightSizer = true;\r\n      showFooterFontSizer = false;\r\n    } else {\r\n      showAdjustmentContainer = true;\r\n      showCardHeightSizer = true;\r\n      showFooterFontSizer = true;\r\n    }\r\n  }\r\n\r\n  if (\r\n    currentPage === \"landing\" ||\r\n    currentPage === \"survey\" ||\r\n    currentPage === \"submit\" ||\r\n    currentPage === \"consent\"\r\n  ) {\r\n    showAdjustmentContainer = false;\r\n  }\r\n\r\n  let CenterContent = (\r\n    <React.Fragment>\r\n      {displayHelpButton && <HelpButton />}\r\n      {showAdjustmentContainer && (\r\n        <AdjustmentsContainer>\r\n          {showFooterFontSizer && <FooterFontSizer />}\r\n          {showCardHeightSizer && <CardHeightSizer />}\r\n        </AdjustmentsContainer>\r\n      )}\r\n      <ProgressBarDiv>\r\n        {showProgressBar && (\r\n          <ProgressBar\r\n            completed={totalProgressScore}\r\n            width={\"100px\"}\r\n            bgColor=\"#337ab7\"\r\n            labelColor=\"#f0f0f0\"\r\n            baseBgColor=\"lightgray\"\r\n          />\r\n        )}\r\n      </ProgressBarDiv>\r\n    </React.Fragment>\r\n  );\r\n\r\n  const nextPage = getNextPage(\r\n    currentPage,\r\n    showPostsort,\r\n    showSurvey,\r\n    showConsent\r\n  );\r\n\r\n  return (\r\n    <StyledFooterDiv>\r\n      <LogoContainer>{logoHtml}</LogoContainer>\r\n      <CenterDiv>{CenterContent}</CenterDiv>\r\n      <ButtonDiv>\r\n        {showBackButton && (\r\n          <PostsortBackButton to={\"/sort\"}>{backButtonText}</PostsortBackButton>\r\n        )}\r\n        {displayNextButton && (\r\n          <NextButton to={nextPage}>{nextButtonText}</NextButton>\r\n        )}\r\n      </ButtonDiv>\r\n    </StyledFooterDiv>\r\n  );\r\n};\r\n\r\nexport default StyledFooter;\r\n\r\nconst StyledFooterDiv = styled.footer`\r\n  position: fixed;\r\n  bottom: 0px;\r\n  left: 0px;\r\n  border-top: 1px solid lightgray;\r\n\r\n  display: inline-grid;\r\n  grid-template-columns: 16% 1fr 16%;\r\n  align-items: center;\r\n`;\r\n\r\nconst AdjustmentsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding-left: 15px;\r\n`;\r\n\r\nconst ProgressBarDiv = styled.div`\r\n  align-self: center;\r\n  justify-self: center;\r\n  margin-left: 25px;\r\n`;\r\n\r\nconst LogoContainer = styled.div`\r\n  padding-top: 5px;\r\n  padding-left: 5px;\r\n  display: flex;\r\n  justify-self: start;\r\n  align-self: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst CenterDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ButtonDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n`;\r\n","import React from \"react\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getTriggerConsentModal = (state) => state.triggerConsentModal;\r\nconst getSetTriggerConsentModal = (state) => state.setTriggerConsentModal;\r\n\r\nconst LandingModal = () => {\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const triggerConsentModal = useStore(getTriggerConsentModal);\r\n  const setTriggerConsentModal = useStore(getSetTriggerConsentModal);\r\n\r\n  const consentHelpModalHead =\r\n    ReactHtmlParser(decodeHTML(langObj.consentHelpModalHead)) || \"\";\r\n  const consentHelpModalText =\r\n    ReactHtmlParser(decodeHTML(langObj.consentHelpModalText)) || \"\";\r\n\r\n  const onCloseModal = () => {\r\n    setTriggerConsentModal(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"customModal\"\r\n      open={triggerConsentModal}\r\n      onClose={onCloseModal}\r\n      center\r\n    >\r\n      <ModalHeader>{consentHelpModalHead}</ModalHeader>\r\n      <hr />\r\n      <ModalContent>{consentHelpModalText}</ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default LandingModal;\r\n\r\nconst ModalHeader = styled.div`\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  padding: 10px 0px 10px 0px;\r\n\r\n  hr {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n\r\n// react-responsive-modal-overlay\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport calculateTimeOnPage from \"../../utilities/calculateTimeOnPage\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport PromptUnload from \"../../utilities/PromptUnload\";\r\nimport ConsentModal from \"./ConsentModal\";\r\nimport parseParams from \"../landing/parseParams\";\r\n\r\n/* eslint react/prop-types: 0 */\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getSetProgressScore = (state) => state.setProgressScore;\r\nconst getSetCurrentPage = (state) => state.setCurrentPage;\r\nconst getSetDisplayNextButton = (state) => state.setDisplayNextButton;\r\nconst getSetUrlUsercode = (state) => state.setUrlUsercode;\r\n\r\nconst PostSort = () => {\r\n  const ElementRef = useRef(null);\r\n\r\n  // GLOBAL STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const setProgressScore = useStore(getSetProgressScore);\r\n  const setCurrentPage = useStore(getSetCurrentPage);\r\n  const setDisplayNextButton = useStore(getSetDisplayNextButton);\r\n  const setUrlUsercode = useStore(getSetUrlUsercode);\r\n\r\n  setDisplayNextButton(true);\r\n\r\n  const headerBarColor = configObj.headerBarColor;\r\n  const consentText = ReactHtmlParser(decodeHTML(langObj.consentText)) || \"\";\r\n\r\n  useEffect(() => {\r\n    let startTime = Date.now();\r\n    const setStateAsync = async () => {\r\n      await setCurrentPage(\"consent\");\r\n      localStorage.setItem(\"currentPage\", \"consent\");\r\n      await setProgressScore(15);\r\n    };\r\n    setStateAsync();\r\n    return () => {\r\n      calculateTimeOnPage(startTime, \"consentPage\", \"consentPage\");\r\n    };\r\n  }, [setCurrentPage, setProgressScore]);\r\n\r\n  useEffect(() => {\r\n    // set participant Id if set in URL\r\n    let urlString = parseParams(window.location.href);\r\n    // if nothing in URL, check local storage\r\n    if (urlString === undefined || urlString === null) {\r\n      let urlName = localStorage.getItem(\"urlUsercode\");\r\n      // if nothing in local storage, set to \"not_set\"\r\n      if (\r\n        urlName === null ||\r\n        urlName === undefined ||\r\n        urlName === \"undefined\"\r\n      ) {\r\n        console.log(\"no url usercode in storage\");\r\n        setUrlUsercode(\"not_set\");\r\n        localStorage.setItem(\"urlUsercode\", \"not_set\");\r\n      } else {\r\n        // if something in local storage, set state\r\n        console.log(\"URL usercode from storage: \", urlName);\r\n        if (urlName === \"not_set\") {\r\n          setUrlUsercode(\"not_set\");\r\n        } else {\r\n          setUrlUsercode(`${urlName} (stored)`);\r\n        }\r\n      }\r\n    } else {\r\n      // if something in URL, set it in state\r\n      let codeName = urlString;\r\n      codeName = codeName.replace(/\\/|#/g, \"\");\r\n      console.log(\"URL usercode: \", codeName);\r\n      setUrlUsercode(codeName);\r\n      localStorage.setItem(\"urlUsercode\", codeName);\r\n    }\r\n  }, [setUrlUsercode, configObj]);\r\n\r\n  const titleText =\r\n    ReactHtmlParser(decodeHTML(langObj.consentTitleBarText)) || \"\";\r\n\r\n  return (\r\n    <div>\r\n      <ConsentModal />\r\n      <PromptUnload />\r\n      <SortTitleBar background={headerBarColor}>{titleText}</SortTitleBar>\r\n      <ContainerDiv>\r\n        <div>{consentText}</div>\r\n      </ContainerDiv>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostSort;\r\n\r\nconst SortTitleBar = styled.div`\r\n  width: 100vw;\r\n  padding-left: 1.5vw;\r\n  padding-right: 1.5vw;\r\n  padding-top: 5px;\r\n  min-height: 50px;\r\n  background-color: ${(props) => props.background};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n  position: fixed;\r\n  top: 0;\r\n`;\r\n\r\nconst ContainerDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 5vw;\r\n  margin-bottom: 70px;\r\n  padding-top: 50px;\r\n  transition: 0.3s ease all;\r\n  margin-top: 50px;\r\n\r\n  img {\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n  }\r\n  iframe {\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport convertObjectToResults from \"../sort/convertObjectToResults\";\r\nimport getObjectValues from \"lodash/values\";\r\n\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getPresortFinished = (state) => state.presortFinished;\r\nconst getSetTrigPrePrevNavModal = (state) =>\r\n  state.setTriggerPresortPreventNavModal;\r\nconst getCurrentPage = (state) => state.currentPage;\r\nconst getSetCheckReqQuesCompl = (state) =>\r\n  state.setCheckRequiredQuestionsComplete;\r\nconst getSetTrigSurvPrevNavModal = (state) =>\r\n  state.setTriggerSurveyPreventNavModal;\r\nconst getIsSortingFinished = (state) => state.isSortingFinished;\r\nconst getHasOverloadedColumn = (state) => state.hasOverloadedColumn;\r\nconst getSetTrigSortPrevNavModal = (state) =>\r\n  state.setTriggerSortPreventNavModal;\r\nconst getSetTrigSortOverColMod = (state) =>\r\n  state.setTriggerSortOverloadedColumnModal;\r\nconst getColumnStatements = (state) => state.columnStatements;\r\nconst getSetResults = (state) => state.setResults;\r\nconst getSetShowPostsortCommentHighlighting = (state) =>\r\n  state.setShowPostsortCommentHighlighting;\r\nconst getSetTriggerPostsortPreventNavModal = (state) =>\r\n  state.setTriggerPostsortPreventNavModal;\r\n\r\nconst LinkButton = (props) => {\r\n  let goToNextPage;\r\n\r\n  // GLOBAL STATE\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  const presortFinished = useStore(getPresortFinished);\r\n  const setTriggerPresortPreventNavModal = useStore(getSetTrigPrePrevNavModal);\r\n  const currentPage = useStore(getCurrentPage);\r\n  const setCheckRequiredQuestionsComplete = useStore(getSetCheckReqQuesCompl);\r\n  const setTriggerSurveyPreventNavModal = useStore(getSetTrigSurvPrevNavModal);\r\n  const isSortingFinished = useStore(getIsSortingFinished);\r\n  const hasOverloadedColumn = useStore(getHasOverloadedColumn);\r\n  const setTriggerSortPreventNavModal = useStore(getSetTrigSortPrevNavModal);\r\n  const setTriggerSortOverloadedColModal = useStore(getSetTrigSortOverColMod);\r\n  const columnStatements = useSettingsStore(getColumnStatements);\r\n  const setResults = useStore(getSetResults);\r\n  const setShowPostsortCommentHighlighting = useStore(\r\n    getSetShowPostsortCommentHighlighting\r\n  );\r\n  const setTriggerPostsortPreventNavModal = useStore(\r\n    getSetTriggerPostsortPreventNavModal\r\n  );\r\n\r\n  const allowUnforcedSorts = configObj.allowUnforcedSorts;\r\n  const postsortCommentsRequired = configObj.postsortCommentsRequired;\r\n\r\n  // PERSISTENT STATE\r\n  const sortColumns = JSON.parse(localStorage.getItem(\"sortColumns\")) || [];\r\n\r\n  const {\r\n    history,\r\n    location,\r\n    match,\r\n    staticContext,\r\n    to,\r\n    onClick,\r\n    // ⬆ filtering out props that `button` doesn’t know what to do with.\r\n    ...rest\r\n  } = props;\r\n\r\n  const checkForNextPageConditions = (\r\n    allowUnforcedSorts,\r\n    isPresortFinished\r\n  ) => {\r\n    // *** ReCalc Results ***\r\n    let sortResults1 = convertObjectToResults(columnStatements);\r\n\r\n    if (currentPage === \"presort\") {\r\n      if (isPresortFinished === false) {\r\n        setTriggerPresortPreventNavModal(true);\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n    if (currentPage === \"sort\") {\r\n      if (isSortingFinished === false) {\r\n        // check to see if finished, but had sorting registration error\r\n        if (sortColumns?.imagesList?.length === 0) {\r\n          if (allowUnforcedSorts === true) {\r\n            // persist results to localStorage\r\n            setResults(sortResults1);\r\n            // localStorage.setItem(\"resultsSort\", JSON.stringify(sortResults1));\r\n            setTriggerSortPreventNavModal(false);\r\n            return true;\r\n          } else {\r\n            // if forced sort -> allow nav only if no overloaded columns\r\n            if (hasOverloadedColumn === true) {\r\n              setTriggerSortPreventNavModal(false);\r\n              setTriggerSortOverloadedColModal(true);\r\n              return false;\r\n            } else {\r\n              setResults(sortResults1);\r\n              // persist results to localStorage\r\n              // localStorage.setItem(\"resultsSort\", JSON.stringify(sortResults1));\r\n              setTriggerSortPreventNavModal(false);\r\n              return true;\r\n            }\r\n          }\r\n        } else {\r\n          // not finished sorting\r\n          setTriggerSortPreventNavModal(true);\r\n          return false;\r\n        }\r\n      } else {\r\n        // has finished sorting\r\n        if (allowUnforcedSorts === true) {\r\n          // unforced ok -> allow nav\r\n          setTriggerSortPreventNavModal(false);\r\n          return true;\r\n        } else {\r\n          // unforced not ok -> allow nav if no overloaded columns\r\n          if (hasOverloadedColumn === true) {\r\n            setTriggerSortPreventNavModal(false);\r\n            setTriggerSortOverloadedColModal(true);\r\n            return false;\r\n          } else {\r\n            setTriggerSortPreventNavModal(false);\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (currentPage === \"postsort\") {\r\n      let postsortCommentCardCount = +localStorage.getItem(\r\n        \"postsortCommentCardCount\"\r\n      );\r\n      const required1 =\r\n        getObjectValues(\r\n          JSON.parse(localStorage.getItem(\"HC-requiredCommentsObj\"))\r\n        ) || [];\r\n      const required2 =\r\n        getObjectValues(\r\n          JSON.parse(localStorage.getItem(\"HC2-requiredCommentsObj\"))\r\n        ) || [];\r\n      const required3 =\r\n        getObjectValues(\r\n          JSON.parse(localStorage.getItem(\"LC-requiredCommentsObj\"))\r\n        ) || [];\r\n      const required4 =\r\n        getObjectValues(\r\n          JSON.parse(localStorage.getItem(\"LC2-requiredCommentsObj\"))\r\n        ) || [];\r\n\r\n      const checkArray2 = [\r\n        ...required1,\r\n        ...required2,\r\n        ...required3,\r\n        ...required4,\r\n      ];\r\n\r\n      if (\r\n        checkArray2.includes(\"false\") ||\r\n        checkArray2.includes(false) ||\r\n        checkArray2.length < postsortCommentCardCount\r\n      ) {\r\n        // answers required in configObj\r\n        if (postsortCommentsRequired === true) {\r\n          setShowPostsortCommentHighlighting(true);\r\n          setTriggerPostsortPreventNavModal(true);\r\n          return false;\r\n        }\r\n        return true;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    if (currentPage === \"survey\") {\r\n      let resultsSurvey = JSON.parse(localStorage.getItem(\"resultsSurvey\"));\r\n      let values = getObjectValues(resultsSurvey);\r\n      let includesNoResponse = values.includes(\"no-*?*-response\");\r\n      if (includesNoResponse) {\r\n        // to turn on yellow color for unanswered\r\n        setCheckRequiredQuestionsComplete(true);\r\n        setTriggerSurveyPreventNavModal(true);\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    // for pages without checks\r\n    return true;\r\n  };\r\n\r\n  //   console.log(props.width, nextButtonWidth);\r\n\r\n  return (\r\n    <NextButton\r\n      {...rest} // `children` is just another prop!\r\n      width={props.width}\r\n      onClick={(event) => {\r\n        console.log(\"clicked\");\r\n        onClick && onClick(event);\r\n        goToNextPage = checkForNextPageConditions(\r\n          allowUnforcedSorts,\r\n          presortFinished\r\n        );\r\n        if (goToNextPage) {\r\n          history.push(to);\r\n        }\r\n      }}\r\n      tabindex=\"0\"\r\n    />\r\n  );\r\n};\r\nexport default withRouter(LinkButton);\r\n\r\nconst NextButton = styled.button`\r\n  border-color: #2e6da4;\r\n  color: white;\r\n  font-size: 1.5vh;\r\n  font-weight: bold;\r\n  padding: 0.5em;\r\n  border-radius: 3px;\r\n  text-decoration: none;\r\n  width: ${(props) => `${props.width}px;`};\r\n  justify-self: right;\r\n  margin-right: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  user-select: none;\r\n  justify-content: center;\r\n  background-color: ${({ theme, active }) =>\r\n    active ? theme.secondary : theme.primary};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.secondary};\r\n  }\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.focus};\r\n  }\r\n`;\r\n","import React, { Suspense, useEffect, useState } from \"react\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport LandingPage from \"./pages/landing/Landing\";\r\nimport PostsortPage from \"./pages/postsort/Postsort\";\r\nimport PresortPage from \"./pages/presort/Presort\";\r\nimport SortPage from \"./pages/sort/Sort\";\r\nimport SubmitPage from \"./pages/submit/Submit\";\r\nimport SurveyPage from \"./pages/survey/Survey\";\r\nimport NoPageFound from \"./utilities/NoPageFound\";\r\nimport axios from \"axios\";\r\nimport processConfigXMLData from \"./utilities/processConfigXMLData\";\r\nimport processMapXMLData from \"./utilities/processMapXMLData\";\r\nimport processLanguageXMLData from \"./utilities/processLanguageXMLData\";\r\nimport processStatementsXMLData from \"./utilities/processStatementsXMLData\";\r\nimport LoadingScreen from \"./pages/landing/LoadingScreen\";\r\nimport StyledFooter from \"./pages/footer/StyledFooter\";\r\nimport useSettingsStore from \"./globalState/useSettingsStore\";\r\nimport useStore from \"./globalState/useStore\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport shuffle from \"lodash/shuffle\";\r\nimport convert from \"xml-js\";\r\nimport ConsentPage from \"./pages/consent/Consent\";\r\n// import detectMobileBrowser from \"./utilities/detectMobileBrowser\";\r\nimport MobileFooter from \"./pages/footer/MobileFooter\";\r\n// import MobilePresortPage from \"./pages/presort/MobilePresort\";\r\n\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getSetConfigObj = (state) => state.setConfigObj;\r\nconst getSetLangObj = (state) => state.setLangObj;\r\nconst getSetMapObj = (state) => state.setMapObj;\r\nconst getSetStatementsObj = (state) => state.setStatementsObj;\r\nconst getSetColumnStatements = (state) => state.setColumnStatements;\r\nconst getSetResetColumnStatements = (state) => state.setResetColumnStatements;\r\nconst getSetSurveyQuesObjArray = (state) => state.setSurveyQuestionObjArray;\r\nconst getSetRequiredAnswersObj = (state) => state.setRequiredAnswersObj;\r\nconst getSetDataLoaded = (state) => state.setDataLoaded;\r\nconst getDisplayGoodbyeMessage = (state) => state.displayGoodbyeMessage;\r\nconst getDisableRefreshCheck = (state) => state.disableRefreshCheck;\r\nconst getCurrentPage = (state) => state.currentPage;\r\n\r\nfunction App() {\r\n  // STATE\r\n  const [isLoading, setLoading] = useState(true);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n\r\n  const setConfigObj = useSettingsStore(getSetConfigObj);\r\n  const setLangObj = useSettingsStore(getSetLangObj);\r\n  const setMapObj = useSettingsStore(getSetMapObj);\r\n  const setStatementsObj = useSettingsStore(getSetStatementsObj);\r\n  const setColumnStatements = useSettingsStore(getSetColumnStatements);\r\n  const setResetColumnStatements = useSettingsStore(\r\n    getSetResetColumnStatements\r\n  );\r\n  const setSurveyQuestionObjArray = useSettingsStore(getSetSurveyQuesObjArray);\r\n  const setRequiredAnswersObj = useSettingsStore(getSetRequiredAnswersObj);\r\n  const setDataLoaded = useStore(getSetDataLoaded);\r\n  const displayGoodbyeMessage = useStore(getDisplayGoodbyeMessage);\r\n  const disableRefreshCheck = useStore(getDisableRefreshCheck);\r\n  const currentPage = useStore(getCurrentPage);\r\n\r\n  useEffect(() => {\r\n    const unloadCallback = (event) => {\r\n      const e = event || window.event;\r\n      e.preventDefault();\r\n      if (e) {\r\n        e.returnValue = \"\";\r\n      }\r\n      return \"\";\r\n    };\r\n\r\n    if (displayGoodbyeMessage || disableRefreshCheck) {\r\n      window.removeEventListener(\"beforeunload\", unloadCallback);\r\n    } else {\r\n      window.addEventListener(\"beforeunload\", unloadCallback);\r\n\r\n      return () => {\r\n        //cleanup function\r\n        window.removeEventListener(\"beforeunload\", unloadCallback);\r\n      };\r\n    }\r\n  }, [displayGoodbyeMessage, disableRefreshCheck]);\r\n\r\n  // useEffect(() => {\r\n  //   const unloadEvent = (event) => {\r\n  //     const e = event || window.event;\r\n  //     e.preventDefault();\r\n  //     if (e) {\r\n  //       e.returnValue = \"\";\r\n  //     }\r\n  //     return \"\";\r\n  //   };\r\n\r\n  //   if (displayGoodbyeMessage) {\r\n  //       // reset localStorage\r\n  //       let submitted = localStorage.getItem(\"submitted\");\r\n  //       if (currentPage === \"submit\" && submitted === \"true\") {\r\n  //         let urlUsercode = localStorage.getItem(\"urlUsercode\");\r\n  //         localStorage.clear();\r\n  //         localStorage.setItem(\"urlUsercode\", urlUsercode);\r\n  //       } else {\r\n  //         window\r\n  //       }\r\n  //     }\r\n\r\n  useEffect(() => {\r\n    let shuffleCards;\r\n    let vColsObj;\r\n    let imagesArray = [];\r\n\r\n    (async () => {\r\n      await axios\r\n        .get(\"./settings/language.xml\", {\r\n          \"Content-Type\": \"application/xml; charset=utf-8\",\r\n        })\r\n        .then(function (response) {\r\n          const options = { compact: true, ignoreComment: true, spaces: 4 };\r\n          const languageData = convert.xml2js(response.data, options);\r\n          let langObj = processLanguageXMLData(languageData);\r\n          setLangObj(langObj);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n\r\n      await axios\r\n        .get(\"./settings/config.xml\", {\r\n          \"Content-Type\": \"application/xml; charset=utf-8\",\r\n        })\r\n        .then(function (response) {\r\n          const options = { compact: false, ignoreComment: true, spaces: 2 };\r\n          const configData = convert.xml2js(response.data, options);\r\n          let info = processConfigXMLData(configData);\r\n          shuffleCards = info.shuffleCards;\r\n\r\n          setConfigObj(info.configObj);\r\n          setSurveyQuestionObjArray(info.surveyQuestionObjArray);\r\n          setRequiredAnswersObj(info.requiredAnswersObj);\r\n\r\n          if (info.configObj.useImages === true) {\r\n            for (let i = 0; i < info.configObj.numImages; i++) {\r\n              let item = {};\r\n              item.backgroundColor = \"white\";\r\n              item.element = (\r\n                // eslint-disable-next-line\r\n                <img\r\n                  src={`/settings/images/image${i + 1}.${\r\n                    info.configObj.imageFileType\r\n                  }`}\r\n                  alt={`image${i + 1}`}\r\n                  className=\"dragObject\"\r\n                />\r\n              );\r\n              item.cardColor = \"yellowSortCard\";\r\n              item.divColor = \"isUncertainStatement\";\r\n              item.pinkChecked = false;\r\n              item.yellowChecked = true;\r\n              item.greenChecked = false;\r\n              item.sortValue = 222;\r\n              item.id = `image${i + 1}`;\r\n              item.statement = `image${i + 1}`;\r\n              item.statementNum = `${i + 1}`;\r\n\r\n              imagesArray.push(item);\r\n            }\r\n\r\n            if (info.configObj.shuffleCards === true) {\r\n              const shuffledCards = shuffle(imagesArray);\r\n              imagesArray = [...shuffledCards];\r\n            }\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n\r\n      await axios\r\n        .get(\"./settings/map.xml\", {\r\n          \"Content-Type\": \"application/xml; charset=utf-8\",\r\n        })\r\n        .then(function (response) {\r\n          const options = { compact: true, ignoreComment: true, spaces: 4 };\r\n          const mapData = convert.xml2js(response.data, options);\r\n          let data = processMapXMLData(mapData);\r\n          vColsObj = data.vColsObj;\r\n          setMapObj(data.mapObj);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n\r\n      await axios\r\n        .get(\"./settings/statements.xml\", {\r\n          \"Content-Type\": \"application/xml; charset=utf-8\",\r\n        })\r\n        .then(function (response) {\r\n          const options = { compact: true, ignoreComment: true, spaces: 4 };\r\n          const statementsData = convert.xml2js(response.data, options);\r\n          const statementsObj = processStatementsXMLData(\r\n            statementsData,\r\n            shuffleCards,\r\n            vColsObj\r\n          );\r\n          // add for images setup\r\n          statementsObj.columnStatements.imagesList = imagesArray;\r\n          setColumnStatements(statementsObj.columnStatements);\r\n          const resetColumnStatements = cloneDeep(\r\n            statementsObj.columnStatements\r\n          );\r\n          setResetColumnStatements(resetColumnStatements);\r\n          setStatementsObj(statementsObj);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n\r\n      await setDataLoaded(true);\r\n      await setLoading(false);\r\n    })();\r\n  }, [\r\n    setConfigObj,\r\n    setLangObj,\r\n    setStatementsObj,\r\n    setColumnStatements,\r\n    setRequiredAnswersObj,\r\n    setSurveyQuestionObjArray,\r\n    setMapObj,\r\n    setDataLoaded,\r\n    setResetColumnStatements,\r\n  ]);\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  if (configObj.useMobileMode === true || configObj.useMobileMode === \"true\") {\r\n    let isMobile = false; // let isMobile = detectMobileBrowser();\r\n    if (isMobile) {\r\n      console.log(\"Mobile Mode\");\r\n      return (\r\n        <div className=\"App\">\r\n          <Router>\r\n            <Switch>\r\n              {/*<Route exact path=\"/presort\" component={MobilePresortPage} />\r\n\r\n               <Route exact path=\"/presort\" component={PresortPage} />\r\n              <Route exact path=\"/sort\" component={SortPage} />\r\n          <Route exact path=\"/postsort\" component={PostsortPage} />\r\n          <Route exact path=\"/survey\" component={SurveyPage} />\r\n          <Route exact path=\"/submit\" component={SubmitPage} /> */}\r\n              <Route exact path=\"/\" component={LandingPage} />\r\n              <Route component={NoPageFound} />\r\n            </Switch>\r\n            <Suspense>\r\n              <MobileFooter />\r\n            </Suspense>\r\n          </Router>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  if (\r\n    configObj.showConsentPage === true ||\r\n    configObj.showConsentPage === \"true\"\r\n  ) {\r\n    return (\r\n      <div className=\"App\">\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={ConsentPage} />\r\n            <Route exact path=\"/presort\" component={PresortPage} />\r\n            <Route exact path=\"/sort\" component={SortPage} />\r\n            <Route exact path=\"/postsort\" component={PostsortPage} />\r\n            <Route exact path=\"/survey\" component={SurveyPage} />\r\n            <Route exact path=\"/submit\" component={SubmitPage} />\r\n            <Route exact path=\"/landing\" component={LandingPage} />\r\n            <Route component={NoPageFound} />\r\n          </Switch>\r\n          <Suspense>\r\n            <StyledFooter />\r\n          </Suspense>\r\n        </Router>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"App\">\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={LandingPage} />\r\n            <Route exact path=\"/presort\" component={PresortPage} />\r\n            <Route exact path=\"/sort\" component={SortPage} />\r\n            <Route exact path=\"/postsort\" component={PostsortPage} />\r\n            <Route exact path=\"/survey\" component={SurveyPage} />\r\n            <Route exact path=\"/submit\" component={SubmitPage} />\r\n            <Route component={NoPageFound} />\r\n          </Switch>\r\n          <Suspense>\r\n            <StyledFooter />\r\n          </Suspense>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport MobileNextButton from \"./MobileNextButton\";\r\nimport FooterFontSizer from \"./FooterFontSizer\";\r\nimport CardHeightSizer from \"./CardHeightSizer\";\r\nimport ProgressBar from \"@ramonak/react-progress-bar\";\r\nimport ReactHtmlParser from \"react-html-parser\";\r\nimport decodeHTML from \"../../utilities/decodeHTML\";\r\nimport calcProgressScore from \"./calcProgressScore\";\r\nimport HelpButton from \"./HelpButton\";\r\nimport getNextPage from \"./getNextPage\";\r\nimport useSettingsStore from \"../../globalState/useSettingsStore\";\r\nimport useStore from \"../../globalState/useStore\";\r\nimport PostsortBackButton from \"./PostsortBackButton\";\r\n\r\nconst getLangObj = (state) => state.langObj;\r\nconst getConfigObj = (state) => state.configObj;\r\nconst getDisplayNextButton = (state) => state.displayNextButton;\r\nconst getCurrentPage = (state) => state.currentPage;\r\nconst getAdditionalProgress = (state) => state.progressScoreAdditional;\r\nconst getAdditionalProgressSort = (state) => state.progressScoreAdditionalSort;\r\nconst getLocalUsercode = (state) => state.localUsercode;\r\n\r\nconst StyledFooter = () => {\r\n  console.log(\"MobileFooter.jsx\");\r\n  // STATE\r\n  const langObj = useSettingsStore(getLangObj);\r\n  const configObj = useSettingsStore(getConfigObj);\r\n  let displayNextButton = useStore(getDisplayNextButton);\r\n  const currentPage = useStore(getCurrentPage);\r\n  const additionalProgress = useStore(getAdditionalProgress);\r\n  const additionalProgressSort = useStore(getAdditionalProgressSort);\r\n  const localUsercode = useStore(getLocalUsercode);\r\n\r\n  let showAdjustmentContainer = true;\r\n  let showCardHeightSizer = true;\r\n  let displayHelpButton = true;\r\n  let showFooterFontSizer = true;\r\n  let showProgressBar = false;\r\n  let showLogo = false;\r\n\r\n  let showBackButton;\r\n  let backButtonText = langObj.postsortBackButtonText;\r\n\r\n  if (currentPage === \"postsort\" && configObj.showBackButton) {\r\n    showBackButton = true;\r\n  } else {\r\n    showBackButton = false;\r\n  }\r\n\r\n  let logoHtml = ReactHtmlParser(\r\n    decodeHTML(\r\n      `{{{center}}}{{{img src=\"./logo/logo.png\" height=\"20\" width=\"125\" /}}}{{{/center}}}`\r\n    )\r\n  );\r\n\r\n  let nextButtonWidth = 100;\r\n  let nextButtonText = \"\";\r\n  if (currentPage === \"landing\") {\r\n    nextButtonWidth = 150;\r\n    nextButtonText = ReactHtmlParser(decodeHTML(langObj.landingNext)) || \"\";\r\n  } else {\r\n    nextButtonText = ReactHtmlParser(decodeHTML(langObj.btnNext)) || \"\";\r\n  }\r\n\r\n  if (currentPage === \"sort\" && configObj.setupTarget === \"local\") {\r\n    const usercode = localUsercode;\r\n    const projectName = configObj.studyTitle;\r\n    const today = new Date();\r\n    const date =\r\n      today.getFullYear() +\r\n      \"-\" +\r\n      (today.getMonth() + 1) +\r\n      \"-\" +\r\n      today.getDate();\r\n    const time =\r\n      today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n    const dateTime = date + \" \" + time;\r\n\r\n    logoHtml = `${usercode} - ${projectName} - ${dateTime}`;\r\n  }\r\n\r\n  const showPostsort = configObj.showPostsort;\r\n  const showSurvey = configObj.showSurvey;\r\n  const useImages = configObj.useImages;\r\n  const showConsent = configObj.showConsentPage;\r\n\r\n  const totalProgressScore = calcProgressScore(\r\n    currentPage,\r\n    additionalProgress,\r\n    additionalProgressSort,\r\n    showPostsort,\r\n    showSurvey,\r\n    additionalProgress,\r\n    additionalProgressSort\r\n  );\r\n\r\n  if (currentPage === \"submit\") {\r\n    displayNextButton = false;\r\n  }\r\n\r\n  if (configObj.setupTarget === \"local\" && currentPage === \"landing\") {\r\n    displayNextButton = false;\r\n    displayHelpButton = false;\r\n  }\r\n  if (currentPage === \"submit\") {\r\n    displayHelpButton = false;\r\n  }\r\n\r\n  if (currentPage === \"presort\") {\r\n    if (configObj.useImages === true) {\r\n      showAdjustmentContainer = false;\r\n      showCardHeightSizer = false;\r\n    } else {\r\n      showAdjustmentContainer = true;\r\n      showCardHeightSizer = false;\r\n    }\r\n  }\r\n\r\n  if (currentPage === \"sort\") {\r\n    if (useImages === true) {\r\n      showAdjustmentContainer = true;\r\n      showCardHeightSizer = true;\r\n      showFooterFontSizer = false;\r\n    } else {\r\n      showAdjustmentContainer = true;\r\n      showCardHeightSizer = true;\r\n      showFooterFontSizer = true;\r\n    }\r\n  }\r\n\r\n  if (\r\n    currentPage === \"landing\" ||\r\n    currentPage === \"survey\" ||\r\n    currentPage === \"submit\"\r\n  ) {\r\n    showAdjustmentContainer = false;\r\n  }\r\n  displayHelpButton = false;\r\n\r\n  if (currentPage === \"landing\") {\r\n    showProgressBar = false;\r\n    showLogo = true;\r\n  }\r\n\r\n  let CenterContent = (\r\n    <React.Fragment>\r\n      {displayHelpButton && <HelpButton />}\r\n      {showAdjustmentContainer && (\r\n        <AdjustmentsContainer>\r\n          {showFooterFontSizer && <FooterFontSizer />}\r\n          {showCardHeightSizer && <CardHeightSizer />}\r\n        </AdjustmentsContainer>\r\n      )}\r\n      {showProgressBar && (\r\n        <ProgressBarDiv>\r\n          <ProgressBar\r\n            completed={totalProgressScore}\r\n            width={\"100px\"}\r\n            bgColor=\"#337ab7\"\r\n            labelColor=\"#f0f0f0\"\r\n            baseBgColor=\"lightgray\"\r\n          />\r\n        </ProgressBarDiv>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n\r\n  const nextPage = getNextPage(\r\n    currentPage,\r\n    showPostsort,\r\n    showSurvey,\r\n    showConsent\r\n  );\r\n\r\n  let showFooter = true;\r\n  if (currentPage === \"presort\") {\r\n    showFooter = false;\r\n  }\r\n\r\n  if (showFooter === false) {\r\n    return null;\r\n  }\r\n  console.log(currentPage, showPostsort, showSurvey, nextPage, showFooter);\r\n\r\n  return (\r\n    <StyledFooterDiv>\r\n      {showLogo && <LogoContainer>{logoHtml}</LogoContainer>}\r\n      <CenterDiv>{CenterContent}</CenterDiv>\r\n      <ButtonDiv>\r\n        {showBackButton && (\r\n          <PostsortBackButton to={\"/sort\"}>{backButtonText}</PostsortBackButton>\r\n        )}\r\n        {displayNextButton && (\r\n          <MobileNextButton width={nextButtonWidth} to={nextPage}>\r\n            {nextButtonText}\r\n          </MobileNextButton>\r\n        )}\r\n      </ButtonDiv>\r\n    </StyledFooterDiv>\r\n  );\r\n};\r\n\r\nexport default StyledFooter;\r\n\r\nconst StyledFooterDiv = styled.footer`\r\n  position: fixed;\r\n  bottom: 0px;\r\n  left: 0px;\r\n  border-top: 1px solid lightgray;\r\n\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst AdjustmentsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding-left: 15px;\r\n`;\r\n\r\nconst ProgressBarDiv = styled.div`\r\n  align-self: center;\r\n  justify-self: center;\r\n  margin-left: 25px;\r\n`;\r\n\r\nconst LogoContainer = styled.div`\r\n  padding-top: 5px;\r\n  padding-left: 5px;\r\n  display: flex;\r\n  justify-self: start;\r\n  align-self: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst CenterDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ButtonDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n`;\r\n","import \"react-app-polyfill/ie11\";\r\nimport \"react-app-polyfill/stable\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport GlobalStyle from \"./styles/globalCSS\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport App from \"./App\";\r\nimport LoadingScreen from \"./pages/landing/LoadingScreen\";\r\n\r\nconst theme = {\r\n  primary: \"#337ab7\",\r\n  secondary: \"#285f8f\",\r\n  focus: \"#63a0d4\",\r\n};\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <React.Suspense fallback={<LoadingScreen />}>\r\n      <ThemeProvider theme={theme}>\r\n        <GlobalStyle />\r\n        <App />\r\n      </ThemeProvider>\r\n    </React.Suspense>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}